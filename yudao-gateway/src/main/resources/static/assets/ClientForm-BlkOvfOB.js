import{bz as D,d as q,g as A,D as C,r as v,f as E,G as R,cP as z,U as F,_ as G,o as d,q as m,w as t,k as o,m as k,I as P,c as f,F as V,n as b,t as L,Z as N,L as Y,co as j,ak as M,al as B,cf as J,J as H,K,O as Z,N as Q,R as W}from"./index-BaY5TDP-.js";import{_ as X}from"./Dialog-CZSXtzfQ.js";import{C as x}from"./constants-CEEr2azc.js";const $=y=>D.get({url:"/system/oauth2-client/page",params:y}),ee=y=>D.delete({url:"/system/oauth2-client/delete?id="+y}),O=G(q({name:"SystemOAuth2ClientForm",__name:"ClientForm",emits:["success"],setup(y,{expose:a,emit:w}){const{t:l}=A(),T=C(),U=v(!1),n=v(""),r=v(!1),h=v(""),g=v({id:void 0,clientId:void 0,secret:void 0,name:void 0,logo:void 0,description:void 0,status:x.ENABLE,accessTokenValiditySeconds:1800,refreshTokenValiditySeconds:43200,redirectUris:[],authorizedGrantTypes:[],scopes:[],autoApproveScopes:[],authorities:[],resourceIds:[],additionalInformation:void 0}),I=E({clientId:[{required:!0,message:"\u5BA2\u6237\u7AEF\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],secret:[{required:!0,message:"\u5BA2\u6237\u7AEF\u5BC6\u94A5\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],name:[{required:!0,message:"\u5E94\u7528\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],logo:[{required:!0,message:"\u5E94\u7528\u56FE\u6807\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],accessTokenValiditySeconds:[{required:!0,message:"\u8BBF\u95EE\u4EE4\u724C\u7684\u6709\u6548\u671F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],refreshTokenValiditySeconds:[{required:!0,message:"\u5237\u65B0\u4EE4\u724C\u7684\u6709\u6548\u671F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],redirectUris:[{required:!0,message:"\u53EF\u91CD\u5B9A\u5411\u7684 URI \u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],authorizedGrantTypes:[{required:!0,message:"\u6388\u6743\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),p=v(),u=async(s,c)=>{if(U.value=!0,n.value=l("action."+s),h.value=s,S(),c){r.value=!0;try{g.value=await(e=>D.get({url:"/system/oauth2-client/get?id="+e}))(c)}finally{r.value=!1}}};a({open:u});const i=w,S=()=>{var s;g.value={id:void 0,clientId:void 0,secret:void 0,name:void 0,logo:void 0,description:void 0,status:x.ENABLE,accessTokenValiditySeconds:1800,refreshTokenValiditySeconds:43200,redirectUris:[],authorizedGrantTypes:[],scopes:[],autoApproveScopes:[],authorities:[],resourceIds:[],additionalInformation:void 0},(s=p.value)==null||s.resetFields()},_={t:l,message:T,dialogVisible:U,dialogTitle:n,formLoading:r,formType:h,formData:g,formRules:I,formRef:p,open:u,emit:i,submitForm:async()=>{if(p&&await p.value.validate()){r.value=!0;try{const s=g.value;h.value==="create"?(await(c=>D.post({url:"/system/oauth2-client/create",data:c}))(s),T.success(l("common.createSuccess"))):(await(c=>D.put({url:"/system/oauth2-client/update",data:c}))(s),T.success(l("common.updateSuccess"))),U.value=!1,i("success")}finally{r.value=!1}}},resetForm:S,get DICT_TYPE(){return R},get getDictOptions(){return z},get getIntDictOptions(){return F}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),[["render",function(y,a,w,l,T,U){const n=N,r=Y,h=j,g=M,I=B,p=J,u=H,i=K,S=Z,_=Q,s=X,c=W;return d(),m(s,{modelValue:l.dialogVisible,"onUpdate:modelValue":a[16]||(a[16]=e=>l.dialogVisible=e),title:l.dialogTitle,"max-height":"500px",scroll:""},{footer:t(()=>[o(_,{disabled:l.formLoading,type:"primary",onClick:l.submitForm},{default:t(()=>a[17]||(a[17]=[k("\u786E \u5B9A")])),_:1},8,["disabled"]),o(_,{onClick:a[15]||(a[15]=e=>l.dialogVisible=!1)},{default:t(()=>a[18]||(a[18]=[k("\u53D6 \u6D88")])),_:1})]),default:t(()=>[P((d(),m(S,{ref:"formRef",model:l.formData,rules:l.formRules,"label-width":"160px"},{default:t(()=>[o(r,{label:"\u5BA2\u6237\u7AEF\u7F16\u53F7",prop:"secret"},{default:t(()=>[o(n,{modelValue:l.formData.clientId,"onUpdate:modelValue":a[0]||(a[0]=e=>l.formData.clientId=e),placeholder:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7AEF\u7F16\u53F7"},null,8,["modelValue"])]),_:1}),o(r,{label:"\u5BA2\u6237\u7AEF\u5BC6\u94A5",prop:"secret"},{default:t(()=>[o(n,{modelValue:l.formData.secret,"onUpdate:modelValue":a[1]||(a[1]=e=>l.formData.secret=e),placeholder:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7AEF\u5BC6\u94A5"},null,8,["modelValue"])]),_:1}),o(r,{label:"\u5E94\u7528\u540D",prop:"name"},{default:t(()=>[o(n,{modelValue:l.formData.name,"onUpdate:modelValue":a[2]||(a[2]=e=>l.formData.name=e),placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D"},null,8,["modelValue"])]),_:1}),o(r,{label:"\u5E94\u7528\u56FE\u6807"},{default:t(()=>[o(h,{modelValue:l.formData.logo,"onUpdate:modelValue":a[3]||(a[3]=e=>l.formData.logo=e),limit:1},null,8,["modelValue"])]),_:1}),o(r,{label:"\u5E94\u7528\u63CF\u8FF0"},{default:t(()=>[o(n,{modelValue:l.formData.description,"onUpdate:modelValue":a[4]||(a[4]=e=>l.formData.description=e),placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D",type:"textarea"},null,8,["modelValue"])]),_:1}),o(r,{label:"\u72B6\u6001",prop:"status"},{default:t(()=>[o(I,{modelValue:l.formData.status,"onUpdate:modelValue":a[5]||(a[5]=e=>l.formData.status=e)},{default:t(()=>[(d(!0),f(V,null,b(l.getIntDictOptions(l.DICT_TYPE.COMMON_STATUS),e=>(d(),m(g,{key:e.value,value:e.value},{default:t(()=>[k(L(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"\u8BBF\u95EE\u4EE4\u724C\u7684\u6709\u6548\u671F",prop:"accessTokenValiditySeconds"},{default:t(()=>[o(p,{modelValue:l.formData.accessTokenValiditySeconds,"onUpdate:modelValue":a[6]||(a[6]=e=>l.formData.accessTokenValiditySeconds=e),placeholder:"\u5355\u4F4D\uFF1A\u79D2"},null,8,["modelValue"])]),_:1}),o(r,{label:"\u5237\u65B0\u4EE4\u724C\u7684\u6709\u6548\u671F",prop:"refreshTokenValiditySeconds"},{default:t(()=>[o(p,{modelValue:l.formData.refreshTokenValiditySeconds,"onUpdate:modelValue":a[7]||(a[7]=e=>l.formData.refreshTokenValiditySeconds=e),placeholder:"\u5355\u4F4D\uFF1A\u79D2"},null,8,["modelValue"])]),_:1}),o(r,{label:"\u6388\u6743\u7C7B\u578B",prop:"authorizedGrantTypes"},{default:t(()=>[o(i,{modelValue:l.formData.authorizedGrantTypes,"onUpdate:modelValue":a[8]||(a[8]=e=>l.formData.authorizedGrantTypes=e),filterable:"",multiple:"",placeholder:"\u8BF7\u8F93\u5165\u6388\u6743\u7C7B\u578B",style:{width:"500px"}},{default:t(()=>[(d(!0),f(V,null,b(l.getDictOptions(l.DICT_TYPE.SYSTEM_OAUTH2_GRANT_TYPE),e=>(d(),m(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"\u6388\u6743\u8303\u56F4",prop:"scopes"},{default:t(()=>[o(i,{modelValue:l.formData.scopes,"onUpdate:modelValue":a[9]||(a[9]=e=>l.formData.scopes=e),filterable:"",multiple:"","allow-create":"",placeholder:"\u8BF7\u8F93\u5165\u6388\u6743\u8303\u56F4",style:{width:"500px"}},{default:t(()=>[(d(!0),f(V,null,b(l.formData.scopes,e=>(d(),m(u,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"\u81EA\u52A8\u6388\u6743\u8303\u56F4",prop:"autoApproveScopes"},{default:t(()=>[o(i,{modelValue:l.formData.autoApproveScopes,"onUpdate:modelValue":a[10]||(a[10]=e=>l.formData.autoApproveScopes=e),filterable:"",multiple:"",placeholder:"\u8BF7\u8F93\u5165\u6388\u6743\u8303\u56F4",style:{width:"500px"}},{default:t(()=>[(d(!0),f(V,null,b(l.formData.scopes,e=>(d(),m(u,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"\u53EF\u91CD\u5B9A\u5411\u7684 URI \u5730\u5740",prop:"redirectUris"},{default:t(()=>[o(i,{modelValue:l.formData.redirectUris,"onUpdate:modelValue":a[11]||(a[11]=e=>l.formData.redirectUris=e),"allow-create":"",filterable:"",multiple:"",placeholder:"\u8BF7\u8F93\u5165\u53EF\u91CD\u5B9A\u5411\u7684 URI \u5730\u5740",style:{width:"500px"}},{default:t(()=>[(d(!0),f(V,null,b(l.formData.redirectUris,e=>(d(),m(u,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"\u6743\u9650",prop:"authorities"},{default:t(()=>[o(i,{modelValue:l.formData.authorities,"onUpdate:modelValue":a[12]||(a[12]=e=>l.formData.authorities=e),"allow-create":"",filterable:"",multiple:"",placeholder:"\u8BF7\u8F93\u5165\u6743\u9650",style:{width:"500px"}},{default:t(()=>[(d(!0),f(V,null,b(l.formData.authorities,e=>(d(),m(u,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"\u8D44\u6E90",prop:"resourceIds"},{default:t(()=>[o(i,{modelValue:l.formData.resourceIds,"onUpdate:modelValue":a[13]||(a[13]=e=>l.formData.resourceIds=e),"allow-create":"",filterable:"",multiple:"",placeholder:"\u8BF7\u8F93\u5165\u8D44\u6E90",style:{width:"500px"}},{default:t(()=>[(d(!0),f(V,null,b(l.formData.resourceIds,e=>(d(),m(u,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"\u9644\u52A0\u4FE1\u606F",prop:"additionalInformation"},{default:t(()=>[o(n,{modelValue:l.formData.additionalInformation,"onUpdate:modelValue":a[14]||(a[14]=e=>l.formData.additionalInformation=e),placeholder:"\u8BF7\u8F93\u5165\u9644\u52A0\u4FE1\u606F\uFF0CJSON \u683C\u5F0F\u6570\u636E",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[c,l.formLoading]])]),_:1},8,["modelValue","title"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/system/oauth2/client/ClientForm.vue"]]),le=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));export{O as C,le as a,ee as d,$ as g};
