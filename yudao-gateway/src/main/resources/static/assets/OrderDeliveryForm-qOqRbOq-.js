import{d as w,r,C as I,g as L,D as N,d_ as h,a as O,_ as U,o as n,q as V,w as l,k as i,m as y,I as T,c as D,F,n as C,ah as R,ak as S,al as j,L as E,J as q,K as J,Z as K,O as P,N as Z,R as z}from"./index-BaY5TDP-.js";import{_ as A}from"./Dialog-CZSXtzfQ.js";import{g as B}from"./index-MboYiMOx.js";import{d as G}from"./index-B6VQ3j6W.js";const H=U(w({name:"OrderDeliveryForm",__name:"OrderDeliveryForm",emits:["success"],setup(k,{expose:e,emit:x}){const{t:s}=L(),b=N(),c=r(!1),d=r(!1),u=r("express"),t=r({id:void 0,logisticsId:null,logisticsNo:""}),f=r(),p=async o=>{g(),h(t.value,o),o.logisticsId===0&&(u.value="none"),c.value=!0};e({open:p});const v=x,g=()=>{var o;t.value={id:void 0,logisticsId:null,logisticsNo:""},(o=f.value)==null||o.resetFields()},m=r([]);I(async()=>{m.value=await B()});const _={t:s,message:b,dialogVisible:c,formLoading:d,expressType:u,formData:t,formRef:f,open:p,emit:v,submitForm:async()=>{d.value=!0;try{const o=O(t);u.value==="none"&&(o.logisticsId=0,o.logisticsNo=""),await G(o),b.success(s("common.updateSuccess")),c.value=!1,v("success",!0)}finally{d.value=!1}},resetForm:g,deliveryExpressList:m};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),[["render",function(k,e,x,s,b,c){const d=S,u=j,t=E,f=q,p=J,v=K,g=P,m=Z,_=A,o=z;return n(),V(_,{modelValue:s.dialogVisible,"onUpdate:modelValue":e[4]||(e[4]=a=>s.dialogVisible=a),title:"\u8BA2\u5355\u53D1\u8D27",width:"25%"},{footer:l(()=>[i(m,{disabled:s.formLoading,type:"primary",onClick:s.submitForm},{default:l(()=>e[7]||(e[7]=[y("\u786E \u5B9A")])),_:1},8,["disabled"]),i(m,{onClick:e[3]||(e[3]=a=>s.dialogVisible=!1)},{default:l(()=>e[8]||(e[8]=[y("\u53D6 \u6D88")])),_:1})]),default:l(()=>[T((n(),V(g,{ref:"formRef",model:s.formData,"label-width":"80px"},{default:l(()=>[i(t,{label:"\u53D1\u8D27\u65B9\u5F0F"},{default:l(()=>[i(u,{modelValue:s.expressType,"onUpdate:modelValue":e[0]||(e[0]=a=>s.expressType=a)},{default:l(()=>[i(d,{border:"",value:"express"},{default:l(()=>e[5]||(e[5]=[y("\u5FEB\u9012\u7269\u6D41")])),_:1}),i(d,{border:"",value:"none"},{default:l(()=>e[6]||(e[6]=[y("\u65E0\u9700\u53D1\u8D27")])),_:1})]),_:1},8,["modelValue"])]),_:1}),s.expressType==="express"?(n(),D(F,{key:0},[i(t,{label:"\u7269\u6D41\u516C\u53F8"},{default:l(()=>[i(p,{modelValue:s.formData.logisticsId,"onUpdate:modelValue":e[1]||(e[1]=a=>s.formData.logisticsId=a),placeholder:"\u8BF7\u9009\u62E9",style:{width:"100%"}},{default:l(()=>[(n(!0),D(F,null,C(s.deliveryExpressList,a=>(n(),V(f,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),i(t,{label:"\u7269\u6D41\u5355\u53F7"},{default:l(()=>[i(v,{modelValue:s.formData.logisticsNo,"onUpdate:modelValue":e[2]||(e[2]=a=>s.formData.logisticsNo=a)},null,8,["modelValue"])]),_:1})],64)):R("",!0)]),_:1},8,["model"])),[[o,s.formLoading]])]),_:1},8,["modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/trade/order/form/OrderDeliveryForm.vue"]]);export{H as default};
