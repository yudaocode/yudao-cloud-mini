import{d as k,p as V,D as I,r as c,C as T,au as y,Q as U,aA as x,_ as C,o as b,q as _,w as o,I as E,k as i,m as f,t as S,ak as j,P as D,R as P}from"./index-BaY5TDP-.js";import{_ as Y}from"./Dialog-CZSXtzfQ.js";import{E as q}from"./el-image-Bg-CwbDE.js";import{g as A}from"./spu-BVX48OKx.js";const B=C(k({name:"SkuTableSelect",__name:"SkuTableSelect",props:{spuId:V.number.def(null)},emits:["change"],setup(v,{expose:l,emit:w}){const e=v,g=I(),m=c([]),d=c(!1),t=c(!1),n=c(),r=w,p=()=>{t.value=!0};l({open:p});const a=async()=>{d.value=!0;try{const u=await A(e.spuId);m.value=u.skus}finally{d.value=!1}};T(async()=>{}),y(()=>e.spuId,()=>{e.spuId&&a()});const s={props:e,message:g,list:m,loading:d,dialogVisible:t,selectedSkuId:n,handleSelected:u=>{r("change",u),t.value=!1,n.value=void 0},emits:r,open:p,getSpuDetail:a,get ElTable(){return U},get fenToYuan(){return x}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),[["render",function(v,l,w,e,g,m){const d=j,t=D,n=q,r=Y,p=P;return b(),_(r,{modelValue:e.dialogVisible,"onUpdate:modelValue":l[1]||(l[1]=a=>e.dialogVisible=a),appendToBody:!0,title:"\u9009\u62E9\u89C4\u683C",width:"700"},{default:o(()=>[E((b(),_(e.ElTable,{data:e.list,"show-overflow-tooltip":""},{default:o(()=>[i(t,{label:"#",width:"55"},{default:o(({row:a})=>[i(d,{value:a.id,modelValue:e.selectedSkuId,"onUpdate:modelValue":l[0]||(l[0]=s=>e.selectedSkuId=s),onChange:s=>e.handleSelected(a)},{default:o(()=>l[2]||(l[2]=[f("\xA0 ")])),_:2},1032,["value","modelValue","onChange"])]),_:1}),i(t,{label:"\u56FE\u7247","min-width":"80"},{default:o(({row:a})=>[i(n,{src:a.picUrl,class:"h-30px w-30px","preview-src-list":[a.picUrl],"preview-teleported":""},null,8,["src","preview-src-list"])]),_:1}),i(t,{label:"\u89C4\u683C",align:"center","min-width":"80"},{default:o(({row:a})=>{var s,u;return[f(S((u=(s=a.properties)==null?void 0:s.map(h=>h.valueName))==null?void 0:u.join(" ")),1)]}),_:1}),i(t,{align:"center",label:"\u9500\u552E\u4EF7(\u5143)","min-width":"80"},{default:o(({row:a})=>[f(S(e.fenToYuan(a.price)),1)]),_:1})]),_:1},8,["data"])),[[p,e.loading]])]),_:1},8,["modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/product/spu/components/SkuTableSelect.vue"]]);export{B as default};
