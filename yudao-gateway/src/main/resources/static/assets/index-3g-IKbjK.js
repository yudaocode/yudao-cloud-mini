import{d as R,r as s,au as b,C as T,aA as _,_ as $,o as p,q as z,w as L,j as m,aF as d,c as n,F as S,n as k,k as g,ah as y,a2 as C,t as w,aq as j}from"./index-BaY5TDP-.js";import{E as B}from"./el-image-Bg-CwbDE.js";import{b as W}from"./spu-BVX48OKx.js";const q={key:0,class:"absolute left-0 top-0 z-1 items-center justify-center"},P=$(R({name:"ProductList",__name:"index",props:{property:{type:Object,required:!0}},setup(f,{expose:v}){v();const e=f,r=s([]);b(()=>e.property.spuIds,async()=>{r.value=await W(e.property.spuIds)},{immediate:!0,deep:!0});const l=s(375),c=s(),a=s(2),i=s("100%"),t=s("0"),u=s("");b(()=>[e.property,l,r.value.length],()=>{a.value=e.property.layoutType==="twoCol"?2:3;const o=(l.value-e.property.space*(a.value-1))/a.value;t.value=a.value===2?"64px":`${o}px`,e.property.layoutType==="horizSwiper"?(u.value=`repeat(auto-fill, ${o}px)`,i.value=o*r.value.length+e.property.space*(r.value.length-1)+"px"):(u.value=`repeat(${a.value}, auto)`,i.value="100%")},{immediate:!0,deep:!0}),T(()=>{var o,h;l.value=((h=(o=c.value)==null?void 0:o.wrapRef)==null?void 0:h.offsetWidth)||375});const x={props:e,spuList:r,phoneWidth:l,containerRef:c,columns:a,scrollbarWidth:i,imageSize:t,gridTemplateColumns:u,get fenToYuan(){return _}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),[["render",function(f,v,e,r,l,c){const a=B,i=j;return p(),z(i,{class:"z-1 min-h-30px","wrap-class":"w-full",ref:"containerRef"},{default:L(()=>[m("div",{class:"grid overflow-x-auto",style:d({gridGap:`${e.property.space}px`,gridTemplateColumns:r.gridTemplateColumns,width:r.scrollbarWidth})},[(p(!0),n(S,null,k(r.spuList,(t,u)=>(p(),n("div",{class:"relative box-content flex flex-row flex-wrap overflow-hidden bg-white",style:d({borderTopLeftRadius:`${e.property.borderRadiusTop}px`,borderTopRightRadius:`${e.property.borderRadiusTop}px`,borderBottomLeftRadius:`${e.property.borderRadiusBottom}px`,borderBottomRightRadius:`${e.property.borderRadiusBottom}px`}),key:u},[e.property.badge.show?(p(),n("div",q,[g(a,{fit:"cover",src:e.property.badge.imgUrl,class:"h-26px w-38px"},null,8,["src"])])):y("",!0),g(a,{fit:"cover",src:t.picUrl,style:d({width:r.imageSize,height:r.imageSize})},null,8,["src","style"]),m("div",{class:C(["flex flex-col gap-8px p-8px box-border",{"w-[calc(100%-64px)]":r.columns===2,"w-full":r.columns===3}])},[e.property.fields.name.show?(p(),n("div",{key:0,class:"truncate text-12px",style:d({color:e.property.fields.name.color})},w(t.name),5)):y("",!0),m("div",null,[e.property.fields.price.show?(p(),n("span",{key:0,class:"text-12px",style:d({color:e.property.fields.price.color})}," \uFFE5"+w(r.fenToYuan(t.price)),5)):y("",!0)])],2)],4))),128))],4)]),_:1},512)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/components/DiyEditor/components/mobile/ProductList/index.vue"]]);export{P as default};
