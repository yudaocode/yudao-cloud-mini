import{d as N,D as G,r as c,_ as J,o as n,c as v,j as i,k as s,w as o,m as u,F as I,n as z,q as U,t as M,a2 as D,aF as O,b8 as F,Z as R,N as P,J as Y,K as $,co as q}from"./index-BaY5TDP-.js";import{E as K}from"./el-image-Bg-CwbDE.js";import{E as Z}from"./el-space-B4pGZPiv.js";import{I as A}from"./index-BRp175ra.js";import{M as H,f as S,g as W,I as B,N as Q,a as E}from"./constants-BXWrMvZH.js";const T={class:"prompt"},X={class:"hot-words"},ee={class:"image-size"},le=["onClick"],ae={class:"size-font"},te={class:"model"},se={class:"model-font"},ie={class:"version"},oe={class:"model"},re={class:"btns"},de=J(N({__name:"index",emits:["onDrawStart","onDrawComplete"],setup(L,{expose:l,emit:j}){const a=G(),b=c(!1),f=c(""),r=c(""),g=c(),p=c("midjourney"),d=c("1:1"),y=c("6.0"),m=c(H),k=j,C=async t=>{p.value=t.key,t.key==="niji"?m.value=Q:m.value=H,y.value=m.value[0].value},e=async t=>{r.value=t.prompt;const V=S.find(h=>h.key===`${t.width}:${t.height}`);d.value=V.key;const x=W.find(h=>{var _;return h.key===((_=t.options)==null?void 0:_.model)});await C(x),y.value=m.value.find(h=>{var _;return h.value===((_=t.options)==null?void 0:_.version)}).value,g.value=t.options.referImageUrl};l({settingValues:e});const w={message:a,drawIn:b,selectHotWord:f,prompt:r,referImageUrl:g,selectModel:p,selectSize:d,selectVersion:y,versionList:m,emits:k,handleHotWordClick:async t=>{f.value!=t?(f.value=t,r.value=t):f.value=""},handleSizeClick:async t=>{d.value=t.key},handleModelClick:C,handleGenerateImage:async()=>{await a.confirm("\u786E\u8BA4\u751F\u6210\u5185\u5BB9?");try{b.value=!0,k("onDrawStart",E.MIDJOURNEY);const t=S.find(x=>d.value===x.key),V={prompt:r.value,model:p.value,width:t.width,height:t.height,version:y.value,referImageUrl:g.value};await A.midjourneyImagine(V)}finally{k("onDrawComplete",E.MIDJOURNEY),b.value=!1}},settingValues:e,get ImageHotWords(){return B},get MidjourneyModels(){return W},get MidjourneySizeList(){return S}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),[["render",function(L,l,j,a,b,f){const r=F,g=R,p=P,d=Z,y=K,m=Y,k=$,C=q;return n(),v(I,null,[i("div",T,[s(r,{tag:"b"},{default:o(()=>l[3]||(l[3]=[u("\u753B\u9762\u63CF\u8FF0")])),_:1}),s(r,{tag:"p"},{default:o(()=>l[4]||(l[4]=[u("\u5EFA\u8BAE\u4F7F\u7528\u201C\u5F62\u5BB9\u8BCD+\u52A8\u8BCD+\u98CE\u683C\u201D\u7684\u683C\u5F0F\uFF0C\u4F7F\u7528\u201C\uFF0C\u201D\u9694\u5F00.")])),_:1}),s(g,{modelValue:a.prompt,"onUpdate:modelValue":l[0]||(l[0]=e=>a.prompt=e),maxlength:"1024",rows:"5",class:"w-100% mt-15px","input-style":"border-radius: 7px;",placeholder:"\u4F8B\u5982\uFF1A\u7AE5\u8BDD\u91CC\u7684\u5C0F\u5C4B\u5E94\u8BE5\u662F\u4EC0\u4E48\u6837\u5B50\uFF1F","show-word-limit":"",type:"textarea"},null,8,["modelValue"])]),i("div",X,[i("div",null,[s(r,{tag:"b"},{default:o(()=>l[5]||(l[5]=[u("\u968F\u673A\u70ED\u8BCD")])),_:1})]),s(d,{wrap:"",class:"word-list"},{default:o(()=>[(n(!0),v(I,null,z(a.ImageHotWords,e=>(n(),U(p,{round:"",class:"btn",type:a.selectHotWord===e?"primary":"default",key:e,onClick:w=>a.handleHotWordClick(e)},{default:o(()=>[u(M(e),1)]),_:2},1032,["type","onClick"]))),128))]),_:1})]),i("div",ee,[i("div",null,[s(r,{tag:"b"},{default:o(()=>l[6]||(l[6]=[u("\u5C3A\u5BF8")])),_:1})]),s(d,{wrap:"",class:"size-list"},{default:o(()=>[(n(!0),v(I,null,z(a.MidjourneySizeList,e=>(n(),v("div",{class:"size-item",key:e.key,onClick:w=>a.handleSizeClick(e)},[i("div",{class:D(a.selectSize===e.key?"size-wrapper selectImageSize":"size-wrapper")},[i("div",{style:O(e.style)},null,4)],2),i("div",ae,M(e.key),1)],8,le))),128))]),_:1})]),i("div",te,[i("div",null,[s(r,{tag:"b"},{default:o(()=>l[7]||(l[7]=[u("\u6A21\u578B")])),_:1})]),s(d,{wrap:"",class:"model-list"},{default:o(()=>[(n(!0),v(I,null,z(a.MidjourneyModels,e=>(n(),v("div",{class:D(a.selectModel===e.key?"modal-item selectModel":"modal-item"),key:e.key},[s(y,{src:e.image,fit:"contain",onClick:w=>a.handleModelClick(e)},null,8,["src","onClick"]),i("div",se,M(e.name),1)],2))),128))]),_:1})]),i("div",ie,[i("div",null,[s(r,{tag:"b"},{default:o(()=>l[8]||(l[8]=[u("\u7248\u672C")])),_:1})]),s(d,{wrap:"",class:"version-list"},{default:o(()=>[s(k,{modelValue:a.selectVersion,"onUpdate:modelValue":l[1]||(l[1]=e=>a.selectVersion=e),class:"version-select !w-350px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u7248\u672C"},{default:o(()=>[(n(!0),v(I,null,z(a.versionList,e=>(n(),U(m,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),i("div",oe,[i("div",null,[s(r,{tag:"b"},{default:o(()=>l[9]||(l[9]=[u("\u53C2\u8003\u56FE")])),_:1})]),s(d,{wrap:"",class:"model-list"},{default:o(()=>[s(C,{modelValue:a.referImageUrl,"onUpdate:modelValue":l[2]||(l[2]=e=>a.referImageUrl=e),height:"120px",width:"120px"},null,8,["modelValue"])]),_:1})]),i("div",re,[s(p,{type:"primary",size:"large",round:"",onClick:a.handleGenerateImage},{default:o(()=>[u(M(a.drawIn?"\u751F\u6210\u4E2D":"\u751F\u6210\u5185\u5BB9"),1)]),_:1})])],64)}],["__scopeId","data-v-099ee712"],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/ai/image/index/components/midjourney/index.vue"]]);export{de as default};
