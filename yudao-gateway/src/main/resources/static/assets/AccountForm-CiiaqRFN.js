import{d as I,g as w,D as h,r as s,f as U,_ as x,o as k,q,w as o,k as l,m as i,I as F,j as v,Z as K,L as A,z as L,aK as R,O as T,N as j,R as C}from"./index-BaY5TDP-.js";import{_ as O}from"./Dialog-CZSXtzfQ.js";import{g as z,c as M,u as N}from"./index-C1v7IUC9.js";const P=x(I({name:"MpAccountForm",__name:"AccountForm",emits:["success"],setup(S,{expose:e,emit:_}){const{t:a}=w(),c=h(),f=s(!1),u=s(""),r=s(!1),p=s(""),d=s({id:void 0,name:"",account:"",appId:"",appSecret:"",token:"",aesKey:"",remark:""}),b=U({name:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],account:[{required:!0,message:"\u516C\u4F17\u53F7\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],appId:[{required:!0,message:"\u516C\u4F17\u53F7 appId \u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],appSecret:[{required:!0,message:"\u516C\u4F17\u53F7\u5BC6\u94A5\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],token:[{required:!0,message:"\u516C\u4F17\u53F7 token \u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),n=s(),g=async(m,D)=>{if(f.value=!0,u.value=a("action."+m),p.value=m,t(),D){r.value=!0;try{d.value=await z(D)}finally{r.value=!1}}};e({open:g});const V=_,t=()=>{var m;d.value={id:void 0,name:"",account:"",appId:"",appSecret:"",token:"",aesKey:"",remark:""},(m=n.value)==null||m.resetFields()},y={t:a,message:c,dialogVisible:f,dialogTitle:u,formLoading:r,formType:p,formData:d,rules:b,formRef:n,open:g,emit:V,submitForm:async()=>{if(n&&await n.value.validate()){r.value=!0;try{const m=d.value;p.value==="create"?(await M(m),c.success(a("common.createSuccess"))):(await N(m),c.success(a("common.updateSuccess"))),f.value=!1,V("success")}finally{r.value=!1}}},resetForm:t};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),[["render",function(S,e,_,a,c,f){const u=K,r=A,p=L,d=R,b=T,n=j,g=O,V=C;return k(),q(g,{modelValue:a.dialogVisible,"onUpdate:modelValue":e[8]||(e[8]=t=>a.dialogVisible=t),title:a.dialogTitle},{footer:o(()=>[l(n,{disabled:a.formLoading,type:"primary",onClick:a.submitForm},{default:o(()=>e[12]||(e[12]=[i("\u786E \u5B9A")])),_:1},8,["disabled"]),l(n,{onClick:e[7]||(e[7]=t=>a.dialogVisible=!1)},{default:o(()=>e[13]||(e[13]=[i("\u53D6 \u6D88")])),_:1})]),default:o(()=>[F((k(),q(b,{ref:"formRef",model:a.formData,rules:a.rules,"label-width":"120px"},{default:o(()=>[l(r,{label:"\u540D\u79F0",prop:"name"},{default:o(()=>[l(u,{modelValue:a.formData.name,"onUpdate:modelValue":e[0]||(e[0]=t=>a.formData.name=t),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),l(r,{label:"\u5FAE\u4FE1\u53F7",prop:"account"},{label:o(()=>[v("span",null,[l(d,{content:"\u5728\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\uFF08mp.weixin.qq.com\uFF09\u7684\u83DC\u5355 [\u8BBE\u7F6E\u4E0E\u5F00\u53D1 - \u516C\u4F17\u53F7\u8BBE\u7F6E - \u8D26\u53F7\u8BE6\u60C5] \u4E2D\u80FD\u627E\u5230\u300C\u5FAE\u4FE1\u53F7\u300D",placement:"top"},{default:o(()=>[l(p,{icon:"ep:question-filled",style:{"vertical-align":"middle"}})]),_:1}),e[9]||(e[9]=i(" \u5FAE\u4FE1\u53F7 "))])]),default:o(()=>[l(u,{modelValue:a.formData.account,"onUpdate:modelValue":e[1]||(e[1]=t=>a.formData.account=t),placeholder:"\u8BF7\u8F93\u5165\u5FAE\u4FE1\u53F7"},null,8,["modelValue"])]),_:1}),l(r,{label:"appId",prop:"appId"},{label:o(()=>[v("span",null,[l(d,{content:"\u5728\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\uFF08mp.weixin.qq.com\uFF09\u7684\u83DC\u5355 [\u8BBE\u7F6E\u4E0E\u5F00\u53D1 - \u516C\u4F17\u53F7\u8BBE\u7F6E - \u57FA\u672C\u8BBE\u7F6E] \u4E2D\u80FD\u627E\u5230\u300C\u5F00\u53D1\u8005ID(AppID)\u300D",placement:"top"},{default:o(()=>[l(p,{icon:"ep:question-filled",style:{"vertical-align":"middle"}})]),_:1}),e[10]||(e[10]=i(" appId "))])]),default:o(()=>[l(u,{modelValue:a.formData.appId,"onUpdate:modelValue":e[2]||(e[2]=t=>a.formData.appId=t),placeholder:"\u8BF7\u8F93\u5165\u516C\u4F17\u53F7 appId"},null,8,["modelValue"])]),_:1}),l(r,{label:"appSecret",prop:"appSecret"},{label:o(()=>[v("span",null,[l(d,{content:"\u5728\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\uFF08mp.weixin.qq.com\uFF09\u7684\u83DC\u5355 [\u8BBE\u7F6E\u4E0E\u5F00\u53D1 - \u516C\u4F17\u53F7\u8BBE\u7F6E - \u57FA\u672C\u8BBE\u7F6E] \u4E2D\u80FD\u627E\u5230\u300C\u5F00\u53D1\u8005\u5BC6\u7801(AppSecret)\u300D",placement:"top"},{default:o(()=>[l(p,{icon:"ep:question-filled",style:{"vertical-align":"middle"}})]),_:1}),e[11]||(e[11]=i(" appSecret "))])]),default:o(()=>[l(u,{modelValue:a.formData.appSecret,"onUpdate:modelValue":e[3]||(e[3]=t=>a.formData.appSecret=t),placeholder:"\u8BF7\u8F93\u5165\u516C\u4F17\u53F7 appSecret"},null,8,["modelValue"])]),_:1}),l(r,{label:"token",prop:"token"},{default:o(()=>[l(u,{modelValue:a.formData.token,"onUpdate:modelValue":e[4]||(e[4]=t=>a.formData.token=t),placeholder:"\u8BF7\u8F93\u5165\u516C\u4F17\u53F7token"},null,8,["modelValue"])]),_:1}),l(r,{label:"\u6D88\u606F\u52A0\u89E3\u5BC6\u5BC6\u94A5",prop:"aesKey"},{default:o(()=>[l(u,{modelValue:a.formData.aesKey,"onUpdate:modelValue":e[5]||(e[5]=t=>a.formData.aesKey=t),placeholder:"\u8BF7\u8F93\u5165\u6D88\u606F\u52A0\u89E3\u5BC6\u5BC6\u94A5"},null,8,["modelValue"])]),_:1}),l(r,{label:"\u5907\u6CE8",prop:"remark"},{default:o(()=>[l(u,{modelValue:a.formData.remark,"onUpdate:modelValue":e[6]||(e[6]=t=>a.formData.remark=t),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[V,a.formLoading]])]),_:1},8,["modelValue","title"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mp/account/AccountForm.vue"]]);export{P as default};
