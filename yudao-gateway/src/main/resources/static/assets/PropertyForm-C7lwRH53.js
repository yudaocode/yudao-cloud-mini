import{d as k,g as P,D as R,r as i,f as h,_ as x,o as V,q as D,w as o,k as u,m as w,I as L,Z as S,L as U,O as T,N as q,R as C}from"./index-BaY5TDP-.js";import{_ as O}from"./Dialog-CZSXtzfQ.js";import{g as j,f as I,i as N}from"./property-Ddjv43NP.js";const Z=x(k({name:"ProductPropertyForm",__name:"PropertyForm",emits:["success"],setup(F,{expose:a,emit:v}){const{t:e}=P(),f=R(),c=i(!1),d=i(""),r=i(!1),n=i(""),s=i({id:void 0,name:""}),p=h({name:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),m=i(),l=async(t,b)=>{if(c.value=!0,d.value=e("action."+t),n.value=t,y(),b){r.value=!0;try{s.value=await j(b)}finally{r.value=!1}}};a({open:l});const g=v,y=()=>{var t;s.value={id:void 0,name:""},(t=m.value)==null||t.resetFields()},_={t:e,message:f,dialogVisible:c,dialogTitle:d,formLoading:r,formType:n,formData:s,formRules:p,formRef:m,open:l,emit:g,submitForm:async()=>{if(m&&await m.value.validate()){r.value=!0;try{const t=s.value;n.value==="create"?(await I(t),f.success(e("common.createSuccess"))):(await N(t),f.success(e("common.updateSuccess"))),c.value=!1,g("success")}finally{r.value=!1}}},resetForm:y};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),[["render",function(F,a,v,e,f,c){const d=S,r=U,n=T,s=q,p=O,m=C;return V(),D(p,{modelValue:e.dialogVisible,"onUpdate:modelValue":a[3]||(a[3]=l=>e.dialogVisible=l),title:e.dialogTitle},{footer:o(()=>[u(s,{disabled:e.formLoading,type:"primary",onClick:e.submitForm},{default:o(()=>a[4]||(a[4]=[w("\u786E \u5B9A")])),_:1},8,["disabled"]),u(s,{onClick:a[2]||(a[2]=l=>e.dialogVisible=!1)},{default:o(()=>a[5]||(a[5]=[w("\u53D6 \u6D88")])),_:1})]),default:o(()=>[L((V(),D(n,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"80px"},{default:o(()=>[u(r,{label:"\u540D\u79F0",prop:"name"},{default:o(()=>[u(d,{modelValue:e.formData.name,"onUpdate:modelValue":a[0]||(a[0]=l=>e.formData.name=l),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),u(r,{label:"\u5907\u6CE8",prop:"remark"},{default:o(()=>[u(d,{modelValue:e.formData.remark,"onUpdate:modelValue":a[1]||(a[1]=l=>e.formData.remark=l),placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[m,e.formLoading]])]),_:1},8,["modelValue","title"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/product/property/PropertyForm.vue"]]);export{Z as default};
