import{d as D,g as F,D as I,r as u,f as U,_ as w,o as v,q as _,w as s,k as m,m as k,I as L,c as h,F as R,n as x,Z as S,L as j,J as C,K as O,O as q,N as J,R as K}from"./index-BaY5TDP-.js";import{_ as M}from"./Dialog-CZSXtzfQ.js";import{b as N}from"./index-CFEI7Byd.js";import{g as P,u as Z}from"./index-DAG8aKkl.js";const z=w(D({name:"MpUserForm",__name:"UserForm",emits:["success"],setup(y,{expose:a,emit:V}){const{t:e}=F(),g=I(),n=u(!1),r=u(!1),t=u({id:void 0,nickname:void 0,remark:void 0,tagIds:[]}),b=U({}),o=u(),f=u([]),i=async d=>{if(n.value=!0,p(),d){r.value=!0;try{t.value=await P(d)}finally{r.value=!1}}f.value=await N()};a({open:i});const c=V,p=()=>{var d;t.value={id:void 0,nickname:void 0,remark:void 0,tagIds:[]},(d=o.value)==null||d.resetFields()},l={t:e,message:g,dialogVisible:n,formLoading:r,formData:t,formRules:b,formRef:o,tagList:f,open:i,emit:c,submitForm:async()=>{if(o&&await o.value.validate()){r.value=!0;try{await Z(t.value),g.success(e("common.updateSuccess")),n.value=!1,c("success")}finally{r.value=!1}}},resetForm:p};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),[["render",function(y,a,V,e,g,n){const r=S,t=j,b=C,o=O,f=q,i=J,c=M,p=K;return v(),_(c,{modelValue:e.dialogVisible,"onUpdate:modelValue":a[4]||(a[4]=l=>e.dialogVisible=l),title:"\u4FEE\u6539"},{footer:s(()=>[m(i,{disabled:e.formLoading,type:"primary",onClick:e.submitForm},{default:s(()=>a[5]||(a[5]=[k("\u786E \u5B9A")])),_:1},8,["disabled"]),m(i,{onClick:a[3]||(a[3]=l=>e.dialogVisible=!1)},{default:s(()=>a[6]||(a[6]=[k("\u53D6 \u6D88")])),_:1})]),default:s(()=>[L((v(),_(f,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"80px"},{default:s(()=>[m(t,{label:"\u6635\u79F0",prop:"nickname"},{default:s(()=>[m(r,{modelValue:e.formData.nickname,"onUpdate:modelValue":a[0]||(a[0]=l=>e.formData.nickname=l),placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0"},null,8,["modelValue"])]),_:1}),m(t,{label:"\u5907\u6CE8",prop:"remark"},{default:s(()=>[m(r,{modelValue:e.formData.remark,"onUpdate:modelValue":a[1]||(a[1]=l=>e.formData.remark=l),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),m(t,{label:"\u6807\u7B7E",prop:"tagIds"},{default:s(()=>[m(o,{modelValue:e.formData.tagIds,"onUpdate:modelValue":a[2]||(a[2]=l=>e.formData.tagIds=l),clearable:"",multiple:"",placeholder:"\u8BF7\u9009\u62E9\u6807\u7B7E"},{default:s(()=>[(v(!0),h(R,null,x(e.tagList,l=>(v(),_(b,{key:l.tagId,label:l.name,value:l.tagId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[p,e.formLoading]])]),_:1},8,["modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mp/user/UserForm.vue"]]);export{z as default};
