import{d as D,g as L,D as k,r as u,f as R,_ as h,o as c,q as b,w as r,k as m,m as w,I as x,c as P,F as S,n as U,J as j,K as q,L as T,Z as O,O as J,N as K,R as N}from"./index-BaY5TDP-.js";import{_ as Z}from"./Dialog-CZSXtzfQ.js";import{a as z,g as A,c as B,u as E}from"./index-kC15peaN.js";const G=h(D({name:"CrmProductCategoryForm",__name:"ProductCategoryForm",emits:["success"],setup(C,{expose:a,emit:_}){const{t:e}=L(),f=k(),p=u(!1),n=u(""),o=u(!1),i=u(""),d=u({id:void 0,name:void 0,parentId:void 0}),y=R({name:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],parentId:[{required:!0,message:"\u7236\u7EA7\u5206\u7C7B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),s=u(),v=u([]),g=async(t,I)=>{if(p.value=!0,n.value=e("action."+t),i.value=t,V(),I){o.value=!0;try{d.value=await z(I)}finally{o.value=!1}}v.value=await A({parentId:0})};a({open:g});const l=_,V=()=>{var t;d.value={id:void 0,name:void 0,parentId:void 0},(t=s.value)==null||t.resetFields()},F={t:e,message:f,dialogVisible:p,dialogTitle:n,formLoading:o,formType:i,formData:d,formRules:y,formRef:s,productCategoryList:v,open:g,emit:l,submitForm:async()=>{if(s&&await s.value.validate()){o.value=!0;try{const t=d.value;i.value==="create"?(await B(t),f.success(e("common.createSuccess"))):(await E(t),f.success(e("common.updateSuccess"))),p.value=!1,l("success")}finally{o.value=!1}}},resetForm:V};return Object.defineProperty(F,"__isScriptSetup",{enumerable:!1,value:!0}),F}}),[["render",function(C,a,_,e,f,p){const n=j,o=q,i=T,d=O,y=J,s=K,v=Z,g=N;return c(),b(v,{title:e.dialogTitle,modelValue:e.dialogVisible,"onUpdate:modelValue":a[3]||(a[3]=l=>e.dialogVisible=l)},{footer:r(()=>[m(s,{onClick:e.submitForm,type:"primary",disabled:e.formLoading},{default:r(()=>a[4]||(a[4]=[w("\u786E \u5B9A")])),_:1},8,["disabled"]),m(s,{onClick:a[2]||(a[2]=l=>e.dialogVisible=!1)},{default:r(()=>a[5]||(a[5]=[w("\u53D6 \u6D88")])),_:1})]),default:r(()=>[x((c(),b(y,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"100px"},{default:r(()=>[m(i,{label:"\u7236\u7EA7\u5206\u7C7B",prop:"parentId"},{default:r(()=>[m(o,{modelValue:e.formData.parentId,"onUpdate:modelValue":a[0]||(a[0]=l=>e.formData.parentId=l),placeholder:"\u8BF7\u9009\u62E9\u4E0A\u7EA7\u5206\u7C7B"},{default:r(()=>[(c(),b(n,{key:0,label:"\u9876\u7EA7\u5206\u7C7B",value:0})),(c(!0),P(S,null,U(e.productCategoryList,l=>(c(),b(n,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),m(i,{label:"\u540D\u79F0",prop:"name"},{default:r(()=>[m(d,{modelValue:e.formData.name,"onUpdate:modelValue":a[1]||(a[1]=l=>e.formData.name=l),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[g,e.formLoading]])]),_:1},8,["title","modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/crm/product/category/ProductCategoryForm.vue"]]);export{G as default};
