import{d as y,g as S,D as A,r as i,f as N,U as w,G as T,_ as F,o as _,q as g,w as o,k as e,m as k,I as P,c as C,F as O,n as E,t as I,Z as L,L as R,v as q,ak as j,al as M,cf as Y,E as B,O as G,N as Z,R as z}from"./index-BaY5TDP-.js";import{_ as H}from"./Dialog-CZSXtzfQ.js";import{S as h}from"./index-C5eeu8k9.js";import{C as J}from"./constants-CEEr2azc.js";const K=F(y({name:"SupplierForm",__name:"SupplierForm",emits:["success"],setup(U,{expose:l,emit:x}){const{t:a}=S(),f=A(),c=i(!1),r=i(""),d=i(!1),u=i(""),s=i({id:void 0,name:void 0,contact:void 0,mobile:void 0,telephone:void 0,email:void 0,fax:void 0,remark:void 0,status:void 0,sort:void 0,taxNo:void 0,taxPercent:void 0,bankName:void 0,bankAccount:void 0,bankAddress:void 0}),D=N({name:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u5F00\u542F\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sort:[{required:!0,message:"\u6392\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),n=i(),v=async(m,t)=>{if(c.value=!0,r.value=a("action."+m),u.value=m,p(),t){d.value=!0;try{s.value=await h.getSupplier(t)}finally{d.value=!1}}};l({open:v});const b=x,p=()=>{var m;s.value={id:void 0,name:void 0,contact:void 0,mobile:void 0,telephone:void 0,email:void 0,fax:void 0,remark:void 0,status:J.ENABLE,sort:void 0,taxNo:void 0,taxPercent:void 0,bankName:void 0,bankAccount:void 0,bankAddress:void 0},(m=n.value)==null||m.resetFields()},V={t:a,message:f,dialogVisible:c,dialogTitle:r,formLoading:d,formType:u,formData:s,formRules:D,formRef:n,open:v,emit:b,submitForm:async()=>{await n.value.validate(),d.value=!0;try{const m=s.value;u.value==="create"?(await h.createSupplier(m),f.success(a("common.createSuccess"))):(await h.updateSupplier(m),f.success(a("common.updateSuccess"))),c.value=!1,b("success")}finally{d.value=!1}},resetForm:p,get getIntDictOptions(){return w},get DICT_TYPE(){return T}};return Object.defineProperty(V,"__isScriptSetup",{enumerable:!1,value:!0}),V}}),[["render",function(U,l,x,a,f,c){const r=L,d=R,u=q,s=j,D=M,n=Y,v=B,b=G,p=Z,V=H,m=z;return _(),g(V,{title:a.dialogTitle,modelValue:a.dialogVisible,"onUpdate:modelValue":l[15]||(l[15]=t=>a.dialogVisible=t)},{footer:o(()=>[e(p,{onClick:a.submitForm,type:"primary",disabled:a.formLoading},{default:o(()=>l[16]||(l[16]=[k("\u786E \u5B9A")])),_:1},8,["disabled"]),e(p,{onClick:l[14]||(l[14]=t=>a.dialogVisible=!1)},{default:o(()=>l[17]||(l[17]=[k("\u53D6 \u6D88")])),_:1})]),default:o(()=>[P((_(),g(b,{ref:"formRef",model:a.formData,rules:a.formRules,"label-width":"100px"},{default:o(()=>[e(v,{gutter:20},{default:o(()=>[e(u,{span:12},{default:o(()=>[e(d,{label:"\u540D\u79F0",prop:"name"},{default:o(()=>[e(r,{modelValue:a.formData.name,"onUpdate:modelValue":l[0]||(l[0]=t=>a.formData.name=t),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u8054\u7CFB\u4EBA",prop:"contact"},{default:o(()=>[e(r,{modelValue:a.formData.contact,"onUpdate:modelValue":l[1]||(l[1]=t=>a.formData.contact=t),placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u624B\u673A\u53F7\u7801",prop:"mobile"},{default:o(()=>[e(r,{modelValue:a.formData.mobile,"onUpdate:modelValue":l[2]||(l[2]=t=>a.formData.mobile=t),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u8054\u7CFB\u7535\u8BDD",prop:"telephone"},{default:o(()=>[e(r,{modelValue:a.formData.telephone,"onUpdate:modelValue":l[3]||(l[3]=t=>a.formData.telephone=t),placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u7535\u5B50\u90AE\u7BB1",prop:"email"},{default:o(()=>[e(r,{modelValue:a.formData.email,"onUpdate:modelValue":l[4]||(l[4]=t=>a.formData.email=t),placeholder:"\u8BF7\u8F93\u5165\u7535\u5B50\u90AE\u7BB1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u4F20\u771F",prop:"fax"},{default:o(()=>[e(r,{modelValue:a.formData.fax,"onUpdate:modelValue":l[5]||(l[5]=t=>a.formData.fax=t),placeholder:"\u8BF7\u8F93\u5165\u4F20\u771F"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u5F00\u542F\u72B6\u6001",prop:"status"},{default:o(()=>[e(D,{modelValue:a.formData.status,"onUpdate:modelValue":l[6]||(l[6]=t=>a.formData.status=t)},{default:o(()=>[(_(!0),C(O,null,E(a.getIntDictOptions(a.DICT_TYPE.COMMON_STATUS),t=>(_(),g(s,{key:t.value,value:t.value},{default:o(()=>[k(I(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u6392\u5E8F",prop:"sort"},{default:o(()=>[e(n,{modelValue:a.formData.sort,"onUpdate:modelValue":l[7]||(l[7]=t=>a.formData.sort=t),placeholder:"\u8BF7\u8F93\u5165\u6392\u5E8F",class:"!w-1/1",precision:0},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u7EB3\u7A0E\u4EBA\u8BC6\u522B\u53F7",prop:"taxNo"},{default:o(()=>[e(r,{modelValue:a.formData.taxNo,"onUpdate:modelValue":l[8]||(l[8]=t=>a.formData.taxNo=t),placeholder:"\u8BF7\u8F93\u5165\u7EB3\u7A0E\u4EBA\u8BC6\u522B\u53F7"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u7A0E\u7387(%)",prop:"taxPercent"},{default:o(()=>[e(n,{modelValue:a.formData.taxPercent,"onUpdate:modelValue":l[9]||(l[9]=t=>a.formData.taxPercent=t),min:0,precision:2,placeholder:"\u8BF7\u8F93\u5165\u7A0E\u7387",class:"!w-1/1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u5F00\u6237\u884C",prop:"bankName"},{default:o(()=>[e(r,{modelValue:a.formData.bankName,"onUpdate:modelValue":l[10]||(l[10]=t=>a.formData.bankName=t),placeholder:"\u8BF7\u8F93\u5165\u5F00\u6237\u884C"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u5F00\u6237\u8D26\u53F7",prop:"bankAccount"},{default:o(()=>[e(r,{modelValue:a.formData.bankAccount,"onUpdate:modelValue":l[11]||(l[11]=t=>a.formData.bankAccount=t),placeholder:"\u8BF7\u8F93\u5165\u5F00\u6237\u8D26\u53F7"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:o(()=>[e(d,{label:"\u5F00\u6237\u5730\u5740",prop:"bankAddress"},{default:o(()=>[e(r,{modelValue:a.formData.bankAddress,"onUpdate:modelValue":l[12]||(l[12]=t=>a.formData.bankAddress=t),placeholder:"\u8BF7\u8F93\u5165\u5F00\u6237\u5730\u5740"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:o(()=>[e(d,{label:"\u5907\u6CE8",prop:"remark"},{default:o(()=>[e(r,{type:"textarea",modelValue:a.formData.remark,"onUpdate:modelValue":l[13]||(l[13]=t=>a.formData.remark=t),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[m,a.formLoading]])]),_:1},8,["title","modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/erp/purchase/supplier/SupplierForm.vue"]]);export{K as default};
