import{d as V,g as I,D,r as t,f as F,_ as k,o as c,q as _,w as i,k as v,m as y,I as R,c as x,F as C,n as L,J as O,K as h,L as j,O as q,N as S,R as J}from"./index-BaY5TDP-.js";import{_ as K}from"./Dialog-CZSXtzfQ.js";import{d as N}from"./index-h6ObHKtQ.js";import{g as P}from"./index-CuAlllbQ.js";const z=k(V({__name:"CustomerDistributeForm",emits:["success"],setup(U,{expose:s,emit:g}){const{t:e}=I(),p=D(),u=t(!1),o=t(!1),d=t([]),r=t({id:void 0,ownerUserId:void 0}),b=F({ownerUserId:[{required:!0,message:"\u8D1F\u8D23\u4EBA\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),l=t(),m=async f=>{u.value=!0,a(),r.value.id=f,d.value=await P()};s({open:m});const n=g,a=()=>{var f;r.value={id:void 0,ownerUserId:void 0},(f=l.value)==null||f.resetFields()},w={t:e,message:p,dialogVisible:u,formLoading:o,userOptions:d,formData:r,formRules:b,formRef:l,open:m,emit:n,submitForm:async()=>{if(l&&await l.value.validate()){o.value=!0;try{await N([r.value.id],r.value.ownerUserId),p.success("\u5206\u914D\u5BA2\u6237\u6210\u529F"),u.value=!1,n("success")}finally{o.value=!1}}},resetForm:a};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),[["render",function(U,s,g,e,p,u){const o=O,d=h,r=j,b=q,l=S,m=K,n=J;return c(),_(m,{modelValue:e.dialogVisible,"onUpdate:modelValue":s[2]||(s[2]=a=>e.dialogVisible=a),title:"\u5206\u914D\u5BA2\u6237"},{footer:i(()=>[v(l,{disabled:e.formLoading,type:"primary",onClick:e.submitForm},{default:i(()=>s[3]||(s[3]=[y("\u786E \u5B9A")])),_:1},8,["disabled"]),v(l,{onClick:s[1]||(s[1]=a=>e.dialogVisible=!1)},{default:i(()=>s[4]||(s[4]=[y("\u53D6 \u6D88")])),_:1})]),default:i(()=>[R((c(),_(b,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"100px"},{default:i(()=>[v(r,{label:"\u8D1F\u8D23\u4EBA",prop:"ownerUserId"},{default:i(()=>[v(d,{modelValue:e.formData.ownerUserId,"onUpdate:modelValue":s[0]||(s[0]=a=>e.formData.ownerUserId=a),class:"w-1/1"},{default:i(()=>[(c(!0),x(C,null,L(e.userOptions,a=>(c(),_(o,{key:a.id,label:a.nickname,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[n,e.formLoading]])]),_:1},8,["modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/crm/customer/pool/CustomerDistributeForm.vue"]]);export{z as default};
