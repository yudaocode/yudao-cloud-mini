import{d as I,D as B,r as w,f as O,C as q,G as A,U as L,ay as N,a as Y,_ as G,o as i,c as m,k as l,w as o,I as R,q as p,ag as K,F as b,n as c,m as s,t as V,Z as j,L as H,J,K as Z,A as Q,ch as X,b8 as $,cf as ee,ak as le,al as ae,cp as re,ai as oe,cd as te,B as se,N as de,O as ue,R as ie}from"./index-BaY5TDP-.js";import{_ as ne}from"./ContentWrap-DKQn7kZm.js";import{_ as fe}from"./index-BAz6Gqim.js";import{g as me,s as pe}from"./index-CcBVVldg.js";const be=G(I({name:"TradeConfig",__name:"index",setup(F,{expose:e}){e();const y=B(),a=w(!1),g=w(),n=w({id:null,afterSaleRefundReasons:[],afterSaleReturnReasons:[],deliveryExpressFreeEnabled:!1,deliveryExpressFreePrice:0,deliveryPickUpEnabled:!1,brokerageEnabled:!1,brokerageEnabledCondition:void 0,brokerageBindMode:void 0,brokeragePosterUrls:[],brokerageFirstPercent:0,brokerageSecondPercent:0,brokerageWithdrawMinPrice:0,brokerageWithdrawFeePercent:0,brokerageFrozenDays:0,brokerageWithdrawTypes:[]}),_=O({deliveryExpressFreePrice:[{required:!0,message:"\u6EE1\u989D\u5305\u90AE\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],brokerageEnabledCondition:[{required:!0,message:"\u5206\u4F63\u6A21\u5F0F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],brokerageBindMode:[{required:!0,message:"\u5206\u9500\u5173\u7CFB\u7ED1\u5B9A\u6A21\u5F0F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],brokerageFirstPercent:[{required:!0,message:"\u4E00\u7EA7\u8FD4\u4F63\u6BD4\u4F8B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],brokerageSecondPercent:[{required:!0,message:"\u4E8C\u7EA7\u8FD4\u4F63\u6BD4\u4F8B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],brokerageWithdrawMinPrice:[{required:!0,message:"\u7528\u6237\u63D0\u73B0\u6700\u4F4E\u91D1\u989D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],brokerageWithdrawFeePercent:[{required:!0,message:"\u63D0\u73B0\u624B\u7EED\u8D39\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],brokerageFrozenDays:[{required:!0,message:"\u4F63\u91D1\u51BB\u7ED3\u65F6\u95F4\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],brokerageWithdrawTypes:[{required:!0,message:"\u63D0\u73B0\u65B9\u5F0F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}]}),k=async()=>{a.value=!0;try{const u=await me();u!=null&&(n.value=u,n.value.deliveryExpressFreePrice=u.deliveryExpressFreePrice/100,n.value.brokerageWithdrawMinPrice=u.brokerageWithdrawMinPrice/100)}finally{a.value=!1}};q(()=>{k()});const t={message:y,formLoading:a,formRef:g,formData:n,formRules:_,submitForm:async()=>{if(!a.value&&g&&await g.value.validate()){a.value=!0;try{const u=N(Y(n.value));u.deliveryExpressFreePrice=100*u.deliveryExpressFreePrice,u.brokerageWithdrawMinPrice=100*u.brokerageWithdrawMinPrice,await pe(u),y.success("\u4FDD\u5B58\u6210\u529F")}finally{a.value=!1}}},getConfig:k,get DICT_TYPE(){return A},get getIntDictOptions(){return L}};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),[["render",function(F,e,y,a,g,n){const _=fe,k=j,t=H,u=J,P=Z,D=Q,v=X,d=$,f=ee,E=le,h=ae,x=re,U=oe,W=te,z=se,S=de,T=ue,M=ne,C=ie;return i(),m(b,null,[l(_,{title:"\u3010\u4EA4\u6613\u3011\u4EA4\u6613\u8BA2\u5355",url:"https://doc.iocoder.cn/mall/trade-order/"}),l(_,{title:"\u3010\u4EA4\u6613\u3011\u8D2D\u7269\u8F66",url:"https://doc.iocoder.cn/mall/trade-cart/"}),l(M,null,{default:o(()=>[R((i(),p(T,{ref:"formRef",model:a.formData,rules:a.formRules,"label-width":"120px"},{default:o(()=>[R(l(t,{label:"hideId"},{default:o(()=>[l(k,{modelValue:a.formData.id,"onUpdate:modelValue":e[0]||(e[0]=r=>a.formData.id=r)},null,8,["modelValue"])]),_:1},512),[[K,!1]]),l(z,null,{default:o(()=>[l(D,{label:"\u552E\u540E"},{default:o(()=>[l(t,{label:"\u9000\u6B3E\u7406\u7531",prop:"afterSaleRefundReasons"},{default:o(()=>[l(P,{modelValue:a.formData.afterSaleRefundReasons,"onUpdate:modelValue":e[1]||(e[1]=r=>a.formData.afterSaleRefundReasons=r),"allow-create":"",filterable:"",multiple:"",placeholder:"\u8BF7\u76F4\u63A5\u8F93\u5165\u9000\u6B3E\u7406\u7531"},{default:o(()=>[(i(!0),m(b,null,c(a.formData.afterSaleRefundReasons,r=>(i(),p(u,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(t,{label:"\u9000\u8D27\u7406\u7531",prop:"afterSaleReturnReasons"},{default:o(()=>[l(P,{modelValue:a.formData.afterSaleReturnReasons,"onUpdate:modelValue":e[2]||(e[2]=r=>a.formData.afterSaleReturnReasons=r),"allow-create":"",filterable:"",multiple:"",placeholder:"\u8BF7\u76F4\u63A5\u8F93\u5165\u9000\u8D27\u7406\u7531"},{default:o(()=>[(i(!0),m(b,null,c(a.formData.afterSaleReturnReasons,r=>(i(),p(u,{key:r,label:r,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(D,{label:"\u914D\u9001"},{default:o(()=>[l(t,{label:"\u542F\u7528\u5305\u90AE",prop:"deliveryExpressFreeEnabled"},{default:o(()=>[l(v,{modelValue:a.formData.deliveryExpressFreeEnabled,"onUpdate:modelValue":e[3]||(e[3]=r=>a.formData.deliveryExpressFreeEnabled=r),style:{"user-select":"none"}},null,8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[16]||(e[16]=[s(" \u5546\u57CE\u662F\u5426\u542F\u7528\u5168\u573A\u5305\u90AE")])),_:1})]),_:1}),l(t,{label:"\u6EE1\u989D\u5305\u90AE",prop:"deliveryExpressFreePrice"},{default:o(()=>[l(f,{modelValue:a.formData.deliveryExpressFreePrice,"onUpdate:modelValue":e[4]||(e[4]=r=>a.formData.deliveryExpressFreePrice=r),min:0,precision:2,class:"!w-xs",placeholder:"\u8BF7\u8F93\u5165\u6EE1\u989D\u5305\u90AE"},null,8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[17]||(e[17]=[s(" \u5546\u57CE\u5546\u54C1\u6EE1\u591A\u5C11\u91D1\u989D\u5373\u53EF\u5305\u90AE\uFF0C\u5355\u4F4D\uFF1A\u5143 ")])),_:1})]),_:1}),l(t,{label:"\u542F\u7528\u95E8\u5E97\u81EA\u63D0",prop:"deliveryPickUpEnabled"},{default:o(()=>[l(v,{modelValue:a.formData.deliveryPickUpEnabled,"onUpdate:modelValue":e[5]||(e[5]=r=>a.formData.deliveryPickUpEnabled=r),style:{"user-select":"none"}},null,8,["modelValue"])]),_:1})]),_:1}),l(D,{label:"\u5206\u9500"},{default:o(()=>[l(t,{label:"\u5206\u4F63\u542F\u7528",prop:"brokerageEnabled"},{default:o(()=>[l(v,{modelValue:a.formData.brokerageEnabled,"onUpdate:modelValue":e[6]||(e[6]=r=>a.formData.brokerageEnabled=r),style:{"user-select":"none"}},null,8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[18]||(e[18]=[s(" \u5546\u57CE\u662F\u5426\u5F00\u542F\u5206\u9500\u6A21\u5F0F")])),_:1})]),_:1}),l(t,{label:"\u5206\u4F63\u6A21\u5F0F",prop:"brokerageEnabledCondition"},{default:o(()=>[l(h,{modelValue:a.formData.brokerageEnabledCondition,"onUpdate:modelValue":e[7]||(e[7]=r=>a.formData.brokerageEnabledCondition=r)},{default:o(()=>[(i(!0),m(b,null,c(a.getIntDictOptions(a.DICT_TYPE.BROKERAGE_ENABLED_CONDITION),r=>(i(),p(E,{key:r.value,value:r.value},{default:o(()=>[s(V(r.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[19]||(e[19]=[s(" \u4EBA\u4EBA\u5206\u9500\uFF1A\u6BCF\u4E2A\u7528\u6237\u90FD\u53EF\u4EE5\u6210\u4E3A\u63A8\u5E7F\u5458 ")])),_:1}),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[20]||(e[20]=[s(" \u6307\u5B9A\u5206\u9500\uFF1A\u4EC5\u53EF\u5728\u540E\u53F0\u624B\u52A8\u8BBE\u7F6E\u63A8\u5E7F\u5458 ")])),_:1})]),_:1}),l(t,{label:"\u5206\u9500\u5173\u7CFB\u7ED1\u5B9A",prop:"brokerageBindMode"},{default:o(()=>[l(h,{modelValue:a.formData.brokerageBindMode,"onUpdate:modelValue":e[8]||(e[8]=r=>a.formData.brokerageBindMode=r)},{default:o(()=>[(i(!0),m(b,null,c(a.getIntDictOptions(a.DICT_TYPE.BROKERAGE_BIND_MODE),r=>(i(),p(E,{key:r.value,value:r.value},{default:o(()=>[s(V(r.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[21]||(e[21]=[s(" \u9996\u6B21\u7ED1\u5B9A\uFF1A\u53EA\u8981\u7528\u6237\u6CA1\u6709\u63A8\u5E7F\u4EBA\uFF0C\u968F\u65F6\u90FD\u53EF\u4EE5\u7ED1\u5B9A\u63A8\u5E7F\u5173\u7CFB ")])),_:1}),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[22]||(e[22]=[s(" \u6CE8\u518C\u7ED1\u5B9A\uFF1A\u53EA\u6709\u65B0\u7528\u6237\u6CE8\u518C\u65F6\u6216\u9996\u6B21\u8FDB\u5165\u7CFB\u7EDF\u65F6\u624D\u53EF\u4EE5\u7ED1\u5B9A\u63A8\u5E7F\u5173\u7CFB ")])),_:1})]),_:1}),l(t,{label:"\u5206\u9500\u6D77\u62A5\u56FE"},{default:o(()=>[l(x,{modelValue:a.formData.brokeragePosterUrls,"onUpdate:modelValue":e[9]||(e[9]=r=>a.formData.brokeragePosterUrls=r),height:"125px",width:"75px"},null,8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[23]||(e[23]=[s(" \u4E2A\u4EBA\u4E2D\u5FC3\u5206\u9500\u6D77\u62A5\u56FE\u7247\uFF0C\u5EFA\u8BAE\u5C3A\u5BF8 600x1000 ")])),_:1})]),_:1}),l(t,{label:"\u4E00\u7EA7\u8FD4\u4F63\u6BD4\u4F8B",prop:"brokerageFirstPercent"},{default:o(()=>[l(f,{modelValue:a.formData.brokerageFirstPercent,"onUpdate:modelValue":e[10]||(e[10]=r=>a.formData.brokerageFirstPercent=r),max:100,min:0,class:"!w-xs",placeholder:"\u8BF7\u8F93\u5165\u4E00\u7EA7\u8FD4\u4F63\u6BD4\u4F8B"},null,8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[24]||(e[24]=[s(" \u8BA2\u5355\u4EA4\u6613\u6210\u529F\u540E\u7ED9\u63A8\u5E7F\u4EBA\u8FD4\u4F63\u7684\u767E\u5206\u6BD4 ")])),_:1})]),_:1}),l(t,{label:"\u4E8C\u7EA7\u8FD4\u4F63\u6BD4\u4F8B",prop:"brokerageSecondPercent"},{default:o(()=>[l(f,{modelValue:a.formData.brokerageSecondPercent,"onUpdate:modelValue":e[11]||(e[11]=r=>a.formData.brokerageSecondPercent=r),max:100,min:0,class:"!w-xs",placeholder:"\u8BF7\u8F93\u5165\u4E8C\u7EA7\u8FD4\u4F63\u6BD4\u4F8B"},null,8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[25]||(e[25]=[s(" \u8BA2\u5355\u4EA4\u6613\u6210\u529F\u540E\u7ED9\u63A8\u5E7F\u4EBA\u7684\u63A8\u8350\u4EBA\u8FD4\u4F63\u7684\u767E\u5206\u6BD4 ")])),_:1})]),_:1}),l(t,{label:"\u4F63\u91D1\u51BB\u7ED3\u5929\u6570",prop:"brokerageFrozenDays"},{default:o(()=>[l(f,{modelValue:a.formData.brokerageFrozenDays,"onUpdate:modelValue":e[12]||(e[12]=r=>a.formData.brokerageFrozenDays=r),min:0,class:"!w-xs",placeholder:"\u8BF7\u8F93\u5165\u4F63\u91D1\u51BB\u7ED3\u5929\u6570"},null,8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[26]||(e[26]=[s(" \u9632\u6B62\u7528\u6237\u9000\u6B3E\uFF0C\u4F63\u91D1\u88AB\u63D0\u73B0\u4E86\uFF0C\u6240\u4EE5\u9700\u8981\u8BBE\u7F6E\u4F63\u91D1\u51BB\u7ED3\u65F6\u95F4\uFF0C\u5355\u4F4D\uFF1A\u5929 ")])),_:1})]),_:1}),l(t,{label:"\u63D0\u73B0\u6700\u4F4E\u91D1\u989D",prop:"brokerageWithdrawMinPrice"},{default:o(()=>[l(f,{modelValue:a.formData.brokerageWithdrawMinPrice,"onUpdate:modelValue":e[13]||(e[13]=r=>a.formData.brokerageWithdrawMinPrice=r),min:0,precision:2,class:"!w-xs",placeholder:"\u8BF7\u8F93\u5165\u63D0\u73B0\u6700\u4F4E\u91D1\u989D"},null,8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[27]||(e[27]=[s(" \u7528\u6237\u63D0\u73B0\u6700\u4F4E\u91D1\u989D\u9650\u5236\uFF0C\u5355\u4F4D\uFF1A\u5143 ")])),_:1})]),_:1}),l(t,{label:"\u63D0\u73B0\u624B\u7EED\u8D39",prop:"brokerageWithdrawFeePercent"},{default:o(()=>[l(f,{modelValue:a.formData.brokerageWithdrawFeePercent,"onUpdate:modelValue":e[14]||(e[14]=r=>a.formData.brokerageWithdrawFeePercent=r),max:100,min:0,class:"!w-xs",placeholder:"\u8BF7\u8F93\u5165\u63D0\u73B0\u624B\u7EED\u8D39"},null,8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[28]||(e[28]=[s(" \u63D0\u73B0\u624B\u7EED\u8D39\u767E\u5206\u6BD4\uFF0C\u8303\u56F4 0-100\uFF0C0 \u4E3A\u65E0\u63D0\u73B0\u624B\u7EED\u8D39\u3002\u4F8B\uFF1A\u8BBE\u7F6E 10\uFF0C\u5373\u6536\u53D6 10% \u624B\u7EED\u8D39\uFF0C\u63D0\u73B0 10 \u5143\uFF0C\u5230\u8D26 9 \u5143\uFF0C1 \u5143\u624B\u7EED\u8D39 ")])),_:1})]),_:1}),l(t,{label:"\u63D0\u73B0\u65B9\u5F0F",prop:"brokerageWithdrawTypes"},{default:o(()=>[l(W,{modelValue:a.formData.brokerageWithdrawTypes,"onUpdate:modelValue":e[15]||(e[15]=r=>a.formData.brokerageWithdrawTypes=r)},{default:o(()=>[(i(!0),m(b,null,c(a.getIntDictOptions(a.DICT_TYPE.BROKERAGE_WITHDRAW_TYPE),r=>(i(),p(U,{key:r.value,value:r.value},{default:o(()=>[s(V(r.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),l(d,{class:"w-full",size:"small",type:"info"},{default:o(()=>e[29]||(e[29]=[s(" \u5546\u57CE\u5F00\u901A\u63D0\u73B0\u7684\u4ED8\u6B3E\u65B9\u5F0F")])),_:1})]),_:1})]),_:1})]),_:1}),l(t,null,{default:o(()=>[l(S,{loading:a.formLoading,type:"primary",onClick:a.submitForm},{default:o(()=>e[30]||(e[30]=[s(" \u4FDD\u5B58")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])),[[C,a.formLoading]])]),_:1})],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/trade/config/index.vue"]]);export{be as default};
