import{d as R,g as h,D as q,r as i,f as C,_ as L,o as y,q as D,w as t,k as d,m as w,I as S,Z as U,L as k,O as x,N as T,R as O}from"./index-BaY5TDP-.js";import{_ as j}from"./Dialog-CZSXtzfQ.js";import{a as N,b as P,d as Z}from"./index-DmE3xvm5.js";const z=L(R({__name:"Demo03CourseForm",emits:["success"],setup(F,{expose:a,emit:p}){const{t:e}=h(),c=q(),f=i(!1),u=i(""),l=i(!1),m=i(""),r=i({id:void 0,studentId:void 0,name:void 0,score:void 0}),v=C({studentId:[{required:!0,message:"\u5B66\u751F\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],name:[{required:!0,message:"\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],score:[{required:!0,message:"\u5206\u6570\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),n=i(),o=async(s,V,I)=>{if(f.value=!0,u.value=e("action."+s),m.value=s,b(),r.value.studentId=I,V){l.value=!0;try{r.value=await N(V)}finally{l.value=!1}}};a({open:o});const g=p,b=()=>{var s;r.value={id:void 0,studentId:void 0,name:void 0,score:void 0},(s=n.value)==null||s.resetFields()},_={t:e,message:c,dialogVisible:f,dialogTitle:u,formLoading:l,formType:m,formData:r,formRules:v,formRef:n,open:o,emit:g,submitForm:async()=>{await n.value.validate(),l.value=!0;try{const s=r.value;m.value==="create"?(await P(s),c.success(e("common.createSuccess"))):(await Z(s),c.success(e("common.updateSuccess"))),f.value=!1,g("success")}finally{l.value=!1}},resetForm:b};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),[["render",function(F,a,p,e,c,f){const u=U,l=k,m=x,r=T,v=j,n=O;return y(),D(v,{title:e.dialogTitle,modelValue:e.dialogVisible,"onUpdate:modelValue":a[3]||(a[3]=o=>e.dialogVisible=o)},{footer:t(()=>[d(r,{onClick:e.submitForm,type:"primary",disabled:e.formLoading},{default:t(()=>a[4]||(a[4]=[w("\u786E \u5B9A")])),_:1},8,["disabled"]),d(r,{onClick:a[2]||(a[2]=o=>e.dialogVisible=!1)},{default:t(()=>a[5]||(a[5]=[w("\u53D6 \u6D88")])),_:1})]),default:t(()=>[S((y(),D(m,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"100px"},{default:t(()=>[d(l,{label:"\u540D\u5B57",prop:"name"},{default:t(()=>[d(u,{modelValue:e.formData.name,"onUpdate:modelValue":a[0]||(a[0]=o=>e.formData.name=o),placeholder:"\u8BF7\u8F93\u5165\u540D\u5B57"},null,8,["modelValue"])]),_:1}),d(l,{label:"\u5206\u6570",prop:"score"},{default:t(()=>[d(u,{modelValue:e.formData.score,"onUpdate:modelValue":a[1]||(a[1]=o=>e.formData.score=o),placeholder:"\u8BF7\u8F93\u5165\u5206\u6570"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[n,e.formLoading]])]),_:1},8,["title","modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/infra/demo/demo03/erp/components/Demo03CourseForm.vue"]]);export{z as default};
