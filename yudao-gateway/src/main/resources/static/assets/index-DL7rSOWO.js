import{d as Q,u as z,r as T,f as K,C as M,cP as x,G as k,ay as W,aA as j,aE as H,_ as B,o,c as y,k as l,w as u,Y as q,F as f,n as w,q as _,m as P,I as G,t as b,j as A,Z as J,L as Z,J as X,K as $,M as ee,z as ae,N as le,O as te,A as ue,B as re,P as se,an as oe,Q as ne,R as pe}from"./index-BaY5TDP-.js";import{_ as de}from"./index-avjYFQiD.js";import{_ as ie}from"./DictTag-QtcI9ZjC.js";import{E as me}from"./el-image-Bg-CwbDE.js";import{_ as ce}from"./ContentWrap-DKQn7kZm.js";import{_ as ye}from"./index-BAz6Gqim.js";import{e as fe}from"./index-BuZFavTY.js";import{f as _e}from"./formatTime-Dr6TiYYc.js";import"./index-DrSdAlug.js";import"./color-BN7ZL7BD.js";const be={class:"flex items-center"},Te={class:"mr-10px"},we=B(Q({name:"TradeAfterSale",__name:"index",setup(N,{expose:t}){t();const{push:g}=z(),a=T(!0),D=T(0),E=T([]),v=T([{label:"\u5168\u90E8",value:"0"}]),i=T(),s=K({pageNo:1,pageSize:10,no:null,status:"0",orderNo:null,spuName:null,createTime:[],way:null,type:null}),n=async()=>{a.value=!0;try{const r=W(s);r.status==="0"&&delete r.status;const d=await fe(r);E.value=d.list,D.value=d.total}finally{a.value=!1}},m=async()=>{s.pageNo=1,await n()};M(async()=>{await n();for(const r of x(k.TRADE_AFTER_SALE_STATUS))v.value.push({label:r.label,value:r.value})});const h={push:g,loading:a,total:D,list:E,statusTabs:v,queryFormRef:i,queryParams:s,getList:n,handleQuery:m,resetQuery:()=>{var r;(r=i.value)==null||r.resetFields(),m()},tabClick:async r=>{s.status=r.paneName,await n()},openAfterSaleDetail:r=>{g({name:"TradeAfterSaleDetail",params:{id:r}})},openOrderDetail:r=>{g({name:"TradeOrderDetail",params:{id:r}})},imagePreview:r=>{H({urlList:[r]})},get DICT_TYPE(){return k},get getDictOptions(){return x},get formatDate(){return _e},get fenToYuan(){return j}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),[["render",function(N,t,g,a,D,E){const v=ye,i=J,s=Z,n=X,m=$,h=ee,r=ae,d=le,C=te,V=ce,U=ue,Y=re,p=se,R=me,F=oe,S=ie,L=ne,I=de,O=pe;return o(),y(f,null,[l(v,{title:"\u3010\u4EA4\u6613\u3011\u552E\u540E\u9000\u6B3E",url:"https://doc.iocoder.cn/mall/trade-aftersale/"}),l(V,null,{default:u(()=>[l(C,{ref:"queryFormRef",inline:!0,model:a.queryParams,"label-width":"68px"},{default:u(()=>[l(s,{label:"\u5546\u54C1\u540D\u79F0",prop:"spuName"},{default:u(()=>[l(i,{modelValue:a.queryParams.spuName,"onUpdate:modelValue":t[0]||(t[0]=e=>a.queryParams.spuName=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1 SPU \u540D\u79F0",onKeyup:q(a.handleQuery,["enter"])},null,8,["modelValue"])]),_:1}),l(s,{label:"\u9000\u6B3E\u7F16\u53F7",prop:"no"},{default:u(()=>[l(i,{modelValue:a.queryParams.no,"onUpdate:modelValue":t[1]||(t[1]=e=>a.queryParams.no=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u9000\u6B3E\u7F16\u53F7",onKeyup:q(a.handleQuery,["enter"])},null,8,["modelValue"])]),_:1}),l(s,{label:"\u8BA2\u5355\u7F16\u53F7",prop:"orderNo"},{default:u(()=>[l(i,{modelValue:a.queryParams.orderNo,"onUpdate:modelValue":t[2]||(t[2]=e=>a.queryParams.orderNo=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u7F16\u53F7",onKeyup:q(a.handleQuery,["enter"])},null,8,["modelValue"])]),_:1}),l(s,{label:"\u552E\u540E\u72B6\u6001",prop:"status"},{default:u(()=>[l(m,{modelValue:a.queryParams.status,"onUpdate:modelValue":t[3]||(t[3]=e=>a.queryParams.status=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u552E\u540E\u72B6\u6001"},{default:u(()=>[l(n,{label:"\u5168\u90E8",value:"0"}),(o(!0),y(f,null,w(a.getDictOptions(a.DICT_TYPE.TRADE_AFTER_SALE_STATUS),e=>(o(),_(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u552E\u540E\u65B9\u5F0F",prop:"way"},{default:u(()=>[l(m,{modelValue:a.queryParams.way,"onUpdate:modelValue":t[4]||(t[4]=e=>a.queryParams.way=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u552E\u540E\u65B9\u5F0F"},{default:u(()=>[(o(!0),y(f,null,w(a.getDictOptions(a.DICT_TYPE.TRADE_AFTER_SALE_WAY),e=>(o(),_(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u552E\u540E\u7C7B\u578B",prop:"type"},{default:u(()=>[l(m,{modelValue:a.queryParams.type,"onUpdate:modelValue":t[5]||(t[5]=e=>a.queryParams.type=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u552E\u540E\u7C7B\u578B"},{default:u(()=>[(o(!0),y(f,null,w(a.getDictOptions(a.DICT_TYPE.TRADE_AFTER_SALE_TYPE),e=>(o(),_(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{default:u(()=>[l(h,{modelValue:a.queryParams.createTime,"onUpdate:modelValue":t[6]||(t[6]=e=>a.queryParams.createTime=e),"default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],class:"!w-280px","end-placeholder":"\u81EA\u5B9A\u4E49\u65F6\u95F4","start-placeholder":"\u81EA\u5B9A\u4E49\u65F6\u95F4",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),l(s,null,{default:u(()=>[l(d,{onClick:a.handleQuery},{default:u(()=>[l(r,{class:"mr-5px",icon:"ep:search"}),t[10]||(t[10]=P(" \u641C\u7D22 "))]),_:1}),l(d,{onClick:a.resetQuery},{default:u(()=>[l(r,{class:"mr-5px",icon:"ep:refresh"}),t[11]||(t[11]=P(" \u91CD\u7F6E "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),l(V,null,{default:u(()=>[l(Y,{modelValue:a.queryParams.status,"onUpdate:modelValue":t[7]||(t[7]=e=>a.queryParams.status=e),onTabClick:a.tabClick},{default:u(()=>[(o(!0),y(f,null,w(a.statusTabs,e=>(o(),_(U,{key:e.label,label:e.label,name:e.value},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),G((o(),_(L,{data:a.list},{default:u(()=>[l(p,{align:"center",label:"\u9000\u6B3E\u7F16\u53F7","min-width":"200",prop:"no"}),l(p,{align:"center",label:"\u8BA2\u5355\u7F16\u53F7","min-width":"200",prop:"orderNo"},{default:u(({row:e})=>[l(d,{link:"",type:"primary",onClick:c=>a.openOrderDetail(e.orderId)},{default:u(()=>[P(b(e.orderNo),1)]),_:2},1032,["onClick"])]),_:1}),l(p,{label:"\u5546\u54C1\u4FE1\u606F","min-width":"600",prop:"spuName"},{default:u(({row:e})=>[A("div",be,[l(R,{src:e.picUrl,class:"mr-10px h-30px w-30px",onClick:c=>a.imagePreview(e.picUrl)},null,8,["src","onClick"]),A("span",Te,b(e.spuName),1),(o(!0),y(f,null,w(e.properties,c=>(o(),_(F,{key:c.propertyId,class:"mr-10px"},{default:u(()=>[P(b(c.propertyName)+": "+b(c.valueName),1)]),_:2},1024))),128))])]),_:1}),l(p,{align:"center",label:"\u8BA2\u5355\u91D1\u989D","min-width":"120",prop:"refundPrice"},{default:u(e=>[A("span",null,b(a.fenToYuan(e.row.refundPrice))+" \u5143",1)]),_:1}),l(p,{align:"center",label:"\u4E70\u5BB6",prop:"user.nickname"}),l(p,{align:"center",label:"\u7533\u8BF7\u65F6\u95F4",prop:"createTime",width:"180"},{default:u(e=>[A("span",null,b(a.formatDate(e.row.createTime)),1)]),_:1}),l(p,{align:"center",label:"\u552E\u540E\u72B6\u6001",width:"100"},{default:u(e=>[l(S,{type:a.DICT_TYPE.TRADE_AFTER_SALE_STATUS,value:e.row.status},null,8,["type","value"])]),_:1}),l(p,{align:"center",label:"\u552E\u540E\u65B9\u5F0F"},{default:u(e=>[l(S,{type:a.DICT_TYPE.TRADE_AFTER_SALE_WAY,value:e.row.way},null,8,["type","value"])]),_:1}),l(p,{align:"center",fixed:"right",label:"\u64CD\u4F5C",width:"160"},{default:u(({row:e})=>[l(d,{link:"",type:"primary",onClick:c=>a.openAfterSaleDetail(e.id)},{default:u(()=>t[12]||(t[12]=[P("\u5904\u7406\u9000\u6B3E")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[O,a.loading]]),l(I,{limit:a.queryParams.pageSize,"onUpdate:limit":t[8]||(t[8]=e=>a.queryParams.pageSize=e),page:a.queryParams.pageNo,"onUpdate:page":t[9]||(t[9]=e=>a.queryParams.pageNo=e),total:a.total,onPagination:a.getList},null,8,["limit","page","total"])]),_:1})],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/trade/afterSale/index.vue"]]);export{we as default};
