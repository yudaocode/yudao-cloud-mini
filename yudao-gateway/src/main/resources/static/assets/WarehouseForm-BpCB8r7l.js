import{d as P,g as U,D as T,r as i,f as F,U as W,G as C,_ as O,o as _,q as b,w as o,k as r,m as D,I as S,c as x,F as I,n as L,t as R,Z as q,L as E,ak as N,al as j,cf as A,O as G,N as M,R as Y}from"./index-BaY5TDP-.js";import{_ as B}from"./Dialog-CZSXtzfQ.js";import{W as h}from"./index-B0TWi7A6.js";import{C as K}from"./constants-CEEr2azc.js";const Z=O(P({name:"WarehouseForm",__name:"WarehouseForm",emits:["success"],setup(y,{expose:a,emit:k}){const{t:e}=U(),f=T(),v=i(!1),u=i(""),s=i(!1),m=i(""),d=i({id:void 0,name:void 0,address:void 0,sort:void 0,remark:void 0,principal:void 0,warehousePrice:void 0,truckagePrice:void 0,status:void 0}),c=F({name:[{required:!0,message:"\u4ED3\u5E93\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sort:[{required:!0,message:"\u6392\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u5F00\u542F\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),n=i(),p=async(t,w)=>{if(v.value=!0,u.value=e("action."+t),m.value=t,V(),w){s.value=!0;try{d.value=await h.getWarehouse(w)}finally{s.value=!1}}};a({open:p});const g=k,V=()=>{var t;d.value={id:void 0,name:void 0,address:void 0,sort:void 0,remark:void 0,principal:void 0,warehousePrice:void 0,truckagePrice:void 0,status:K.ENABLE},(t=n.value)==null||t.resetFields()},l={t:e,message:f,dialogVisible:v,dialogTitle:u,formLoading:s,formType:m,formData:d,formRules:c,formRef:n,open:p,emit:g,submitForm:async()=>{await n.value.validate(),s.value=!0;try{const t=d.value;m.value==="create"?(await h.createWarehouse(t),f.success(e("common.createSuccess"))):(await h.updateWarehouse(t),f.success(e("common.updateSuccess"))),v.value=!1,g("success")}finally{s.value=!1}},resetForm:V,get getIntDictOptions(){return W},get DICT_TYPE(){return C}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),[["render",function(y,a,k,e,f,v){const u=q,s=E,m=N,d=j,c=A,n=G,p=M,g=B,V=Y;return _(),b(g,{title:e.dialogTitle,modelValue:e.dialogVisible,"onUpdate:modelValue":a[9]||(a[9]=l=>e.dialogVisible=l)},{footer:o(()=>[r(p,{onClick:e.submitForm,type:"primary",disabled:e.formLoading},{default:o(()=>a[10]||(a[10]=[D("\u786E \u5B9A")])),_:1},8,["disabled"]),r(p,{onClick:a[8]||(a[8]=l=>e.dialogVisible=!1)},{default:o(()=>a[11]||(a[11]=[D("\u53D6 \u6D88")])),_:1})]),default:o(()=>[S((_(),b(n,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"100px"},{default:o(()=>[r(s,{label:"\u4ED3\u5E93\u540D\u79F0",prop:"name"},{default:o(()=>[r(u,{modelValue:e.formData.name,"onUpdate:modelValue":a[0]||(a[0]=l=>e.formData.name=l),placeholder:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"},null,8,["modelValue"])]),_:1}),r(s,{label:"\u4ED3\u5E93\u5730\u5740",prop:"address"},{default:o(()=>[r(u,{modelValue:e.formData.address,"onUpdate:modelValue":a[1]||(a[1]=l=>e.formData.address=l),placeholder:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u5730\u5740"},null,8,["modelValue"])]),_:1}),r(s,{label:"\u4ED3\u5E93\u72B6\u6001",prop:"status"},{default:o(()=>[r(d,{modelValue:e.formData.status,"onUpdate:modelValue":a[2]||(a[2]=l=>e.formData.status=l)},{default:o(()=>[(_(!0),x(I,null,L(e.getIntDictOptions(e.DICT_TYPE.COMMON_STATUS),l=>(_(),b(m,{key:l.value,value:l.value},{default:o(()=>[D(R(l.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(s,{label:"\u4ED3\u50A8\u8D39",prop:"warehousePrice"},{default:o(()=>[r(c,{modelValue:e.formData.warehousePrice,"onUpdate:modelValue":a[3]||(a[3]=l=>e.formData.warehousePrice=l),placeholder:"\u8BF7\u8F93\u5165\u4ED3\u50A8\u8D39\uFF0C\u5355\u4F4D\uFF1A\u5143/\u5929/KG",min:0,precision:2,class:"!w-1/1"},null,8,["modelValue"])]),_:1}),r(s,{label:"\u642C\u8FD0\u8D39",prop:"truckagePrice"},{default:o(()=>[r(c,{modelValue:e.formData.truckagePrice,"onUpdate:modelValue":a[4]||(a[4]=l=>e.formData.truckagePrice=l),placeholder:"\u8BF7\u8F93\u5165\u642C\u8FD0\u8D39\uFF0C\u5355\u4F4D\uFF1A\u5143",min:0,precision:2,class:"!w-1/1"},null,8,["modelValue"])]),_:1}),r(s,{label:"\u8D1F\u8D23\u4EBA",prop:"principal"},{default:o(()=>[r(u,{modelValue:e.formData.principal,"onUpdate:modelValue":a[5]||(a[5]=l=>e.formData.principal=l),placeholder:"\u8BF7\u8F93\u5165\u8D1F\u8D23\u4EBA"},null,8,["modelValue"])]),_:1}),r(s,{label:"\u6392\u5E8F",prop:"sort"},{default:o(()=>[r(c,{modelValue:e.formData.sort,"onUpdate:modelValue":a[6]||(a[6]=l=>e.formData.sort=l),placeholder:"\u8BF7\u8F93\u5165\u6392\u5E8F",precision:0,class:"!w-1/1"},null,8,["modelValue"])]),_:1}),r(s,{label:"\u5907\u6CE8",prop:"remark"},{default:o(()=>[r(u,{type:"textarea",modelValue:e.formData.remark,"onUpdate:modelValue":a[7]||(a[7]=l=>e.formData.remark=l),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[V,e.formLoading]])]),_:1},8,["title","modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/erp/stock/warehouse/WarehouseForm.vue"]]);export{Z as default};
