import{bz as h,d as P,D as x,r as l,f as q,_ as F,o as v,q as y,w as g,k as r,I as V,P as L,Q as R,R as S}from"./index-BaY5TDP-.js";import{_ as z}from"./Dialog-CZSXtzfQ.js";import{_ as D}from"./ContentWrap-DKQn7kZm.js";import{_ as I}from"./index-avjYFQiD.js";import{E as N}from"./el-avatar-DZsRbb7z.js";import{d as U}from"./formatTime-Dr6TiYYc.js";import{f as B}from"./formatter-DdccBgw4.js";import"./index-DrSdAlug.js";const Q=F(P({name:"BargainRecordListDialog",__name:"BargainRecordListDialog",setup(b,{expose:o}){const _=x(),a=l(!0),c=l(0),f=l([]),e=q({pageNo:1,pageSize:10,recordId:void 0}),s=l(),n=l(!1),p=async i=>{n.value=!0,e.recordId=i,d()};o({open:p});const m=async()=>{a.value=!0;try{const i=await(async w=>await h.get({url:"/promotion/bargain-help/page",params:w}))(e);f.value=i.list,c.value=i.total}finally{a.value=!1}},u=()=>{e.pageNo=1,m()},d=()=>{var i;(i=s.value)==null||i.resetFields(),u()},t={message:_,loading:a,total:c,list:f,queryParams:e,queryFormRef:s,dialogVisible:n,open:p,getList:m,handleQuery:u,resetQuery:d,get dateFormatter(){return U},get fenToYuanFormat(){return B}};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),[["render",function(b,o,_,a,c,f){const e=L,s=N,n=R,p=I,m=D,u=z,d=S;return v(),y(u,{modelValue:a.dialogVisible,"onUpdate:modelValue":o[2]||(o[2]=t=>a.dialogVisible=t),title:"\u52A9\u529B\u5217\u8868"},{default:g(()=>[r(m,null,{default:g(()=>[V((v(),y(n,{data:a.list,stripe:!0,"show-overflow-tooltip":!0},{default:g(()=>[r(e,{label:"\u7528\u6237\u7F16\u53F7",prop:"userId","min-width":"80px"}),r(e,{label:"\u7528\u6237\u5934\u50CF",prop:"avatar","min-width":"80px"},{default:g(t=>[r(s,{src:t.row.avatar},null,8,["src"])]),_:1}),r(e,{label:"\u7528\u6237\u6635\u79F0",prop:"nickname","min-width":"100px"}),r(e,{label:"\u780D\u4EF7\u91D1\u989D",prop:"reducePrice","min-width":"100px",formatter:a.fenToYuanFormat},null,8,["formatter"]),r(e,{label:"\u52A9\u529B\u65F6\u95F4",align:"center",prop:"createTime",formatter:a.dateFormatter,width:"180px"},null,8,["formatter"])]),_:1},8,["data"])),[[d,a.loading]]),r(p,{total:a.total,page:a.queryParams.pageNo,"onUpdate:page":o[0]||(o[0]=t=>a.queryParams.pageNo=t),limit:a.queryParams.pageSize,"onUpdate:limit":o[1]||(o[1]=t=>a.queryParams.pageSize=t),onPagination:a.getList},null,8,["total","page","limit"])]),_:1})]),_:1},8,["modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/promotion/bargain/record/BargainRecordListDialog.vue"]]);export{Q as default};
