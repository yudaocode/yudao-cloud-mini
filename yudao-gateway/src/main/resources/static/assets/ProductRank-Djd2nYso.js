import{d as P,r as p,f as v,C,eR as _,_ as y,o as c,q as g,w as m,j as R,k as a,I as S,P as k,Q as U,l as q,R as x}from"./index-BaY5TDP-.js";import{_ as D}from"./index-avjYFQiD.js";import{E as j}from"./el-image-Bg-CwbDE.js";import{_ as F}from"./index-BYWVnEtA.js";import{P as T}from"./product-BL6PUJpk.js";import{C as z}from"./CardTitle-Z2xLAPly.js";import{f as I}from"./formatter-DdccBgw4.js";import"./index-DrSdAlug.js";import"./formatTime-Dr6TiYYc.js";const N={class:"flex flex-row items-center justify-between"},L=y(P({name:"ProductRank",__name:"ProductRank",setup(f,{expose:r}){r();const d=p(),e=v({pageNo:1,pageSize:10,times:[],sortingFields:{}}),i=p(!1),u=p(0),l=p([]),t=async()=>{i.value=!0;try{const o=await T.getProductStatisticsRankPage(e);l.value=o.list,u.value=o.total}finally{i.value=!1}};C(async()=>{await t()});const n={formatConvertRate:o=>`${o.browseConvertPercent}%`,handleSortChange:o=>{e.sortingFields=[_(o)],t()},handleDateRangeChange:o=>{e.times=o,t()},shortcutDateRangePicker:d,queryParams:e,loading:i,total:u,list:l,getSpuList:t,get CardTitle(){return z},get fenToYuanFormat(){return I}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),[["render",function(f,r,d,e,i,u){const l=F,t=k,n=j,o=U,w=D,h=q,b=x;return c(),g(h,{shadow:"never"},{header:m(()=>[R("div",N,[a(e.CardTitle,{title:"\u5546\u54C1\u6392\u884C"}),a(l,{ref:"shortcutDateRangePicker",onChange:e.handleDateRangeChange},null,512)])]),default:m(()=>[S((c(),g(o,{data:e.list,onSortChange:e.handleSortChange},{default:m(()=>[a(t,{label:"\u5546\u54C1 ID",prop:"spuId","min-width":"70"}),a(t,{label:"\u5546\u54C1\u56FE\u7247",align:"center",prop:"picUrl",width:"80"},{default:m(({row:s})=>[a(n,{src:s.picUrl,"preview-src-list":[s.picUrl],class:"h-30px w-30px","preview-teleported":""},null,8,["src","preview-src-list"])]),_:1}),a(t,{label:"\u5546\u54C1\u540D\u79F0",prop:"name","min-width":"200","show-overflow-tooltip":!0}),a(t,{label:"\u6D4F\u89C8\u91CF",prop:"browseCount","min-width":"90",sortable:"custom"}),a(t,{label:"\u8BBF\u5BA2\u6570",prop:"browseUserCount","min-width":"90",sortable:"custom"}),a(t,{label:"\u52A0\u8D2D\u4EF6\u6570",prop:"cartCount","min-width":"105",sortable:"custom"}),a(t,{label:"\u4E0B\u5355\u4EF6\u6570",prop:"orderCount","min-width":"105",sortable:"custom"}),a(t,{label:"\u652F\u4ED8\u4EF6\u6570",prop:"orderPayCount","min-width":"105",sortable:"custom"}),a(t,{label:"\u652F\u4ED8\u91D1\u989D",prop:"orderPayPrice","min-width":"105",sortable:"custom",formatter:e.fenToYuanFormat},null,8,["formatter"]),a(t,{label:"\u6536\u85CF\u6570",prop:"favoriteCount","min-width":"90",sortable:"custom"}),a(t,{label:"\u8BBF\u5BA2-\u652F\u4ED8\u8F6C\u5316\u7387(%)",prop:"browseConvertPercent","min-width":"180",sortable:"custom",formatter:e.formatConvertRate})]),_:1},8,["data"])),[[b,e.loading]]),a(w,{total:e.total,page:e.queryParams.pageNo,"onUpdate:page":r[0]||(r[0]=s=>e.queryParams.pageNo=s),limit:e.queryParams.pageSize,"onUpdate:limit":r[1]||(r[1]=s=>e.queryParams.pageSize=s),onPagination:e.getSpuList},null,8,["total","page","limit"])]),_:1})}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/statistics/product/components/ProductRank.vue"]]);export{L as default};
