import{d as g,p as h,r as D,f as _,au as v,C as I,a as x,D as P,d_ as k,_ as F,o as y,q as U,w as d,k as r,c as R,F as j,n as L,Z as O,L as S,cg as z,J as N,K as q,co as C,cp as J,O as K}from"./index-BaY5TDP-.js";import{h as Z,d as A}from"./tree-z7HkrWVC.js";import{g as B}from"./category-B7jjsMOS.js";import{g as E}from"./brand-CpGCeCT3.js";import{r as i}from"./formRules-CMjZInfO.js";const G=F(g({name:"ProductSpuInfoForm",__name:"InfoForm",props:{propFormData:{type:Object,default:()=>{}},isDetail:h.bool.def(!1)},emits:["update:activeName"],setup(V,{expose:l,emit:m}){const a=V,w=P(),u=D(),s=_({name:"",categoryId:void 0,keyword:"",picUrl:"",sliderPicUrls:[],introduction:"",brandId:void 0}),o=_({name:[i],categoryId:[i],keyword:[i],introduction:[i],picUrl:[i],sliderPicUrls:[i],brandId:[i]});v(()=>a.propFormData,t=>{t&&k(s,t)},{immediate:!0});const p=m,n=async()=>{var t;if(u)try{await((t=x(u))==null?void 0:t.validate()),Object.assign(a.propFormData,s)}catch(e){throw w.error("\u3010\u57FA\u7840\u8BBE\u7F6E\u3011\u4E0D\u5B8C\u5584\uFF0C\u8BF7\u586B\u5199\u76F8\u5173\u4FE1\u606F"),p("update:activeName","info"),e}};l({validate:n});const c=D([]),f=D([]);I(async()=>{const t=await B({});f.value=Z(t,"id"),c.value=await E()});const b={props:a,message:w,formRef:u,formData:s,rules:o,emit:p,validate:n,brandList:c,categoryList:f,get defaultProps(){return A}};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),[["render",function(V,l,m,a,w,u){const s=O,o=S,p=z,n=N,c=q,f=C,b=J,t=K;return y(),U(t,{ref:"formRef",disabled:m.isDetail,model:a.formData,rules:a.rules,"label-width":"120px"},{default:d(()=>[r(o,{label:"\u5546\u54C1\u540D\u79F0",prop:"name"},{default:d(()=>[r(s,{modelValue:a.formData.name,"onUpdate:modelValue":l[0]||(l[0]=e=>a.formData.name=e),autosize:{minRows:2,maxRows:2},clearable:!0,"show-word-limit":!0,class:"w-80!",maxlength:"64",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u540D\u79F0",type:"textarea"},null,8,["modelValue"])]),_:1}),r(o,{label:"\u5546\u54C1\u5206\u7C7B",prop:"categoryId"},{default:d(()=>[r(p,{modelValue:a.formData.categoryId,"onUpdate:modelValue":l[1]||(l[1]=e=>a.formData.categoryId=e),options:a.categoryList,props:a.defaultProps,class:"w-80",clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9\u5546\u54C1\u5206\u7C7B"},null,8,["modelValue","options","props"])]),_:1}),r(o,{label:"\u5546\u54C1\u54C1\u724C",prop:"brandId"},{default:d(()=>[r(c,{modelValue:a.formData.brandId,"onUpdate:modelValue":l[2]||(l[2]=e=>a.formData.brandId=e),class:"w-80",placeholder:"\u8BF7\u9009\u62E9\u5546\u54C1\u54C1\u724C"},{default:d(()=>[(y(!0),R(j,null,L(a.brandList,e=>(y(),U(n,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(o,{label:"\u5546\u54C1\u5173\u952E\u5B57",prop:"keyword"},{default:d(()=>[r(s,{modelValue:a.formData.keyword,"onUpdate:modelValue":l[3]||(l[3]=e=>a.formData.keyword=e),class:"w-80!",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u5173\u952E\u5B57"},null,8,["modelValue"])]),_:1}),r(o,{label:"\u5546\u54C1\u7B80\u4ECB",prop:"introduction"},{default:d(()=>[r(s,{modelValue:a.formData.introduction,"onUpdate:modelValue":l[4]||(l[4]=e=>a.formData.introduction=e),autosize:{minRows:2,maxRows:2},clearable:!0,"show-word-limit":!0,class:"w-80!",maxlength:"128",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u7B80\u4ECB",type:"textarea"},null,8,["modelValue"])]),_:1}),r(o,{label:"\u5546\u54C1\u5C01\u9762\u56FE",prop:"picUrl"},{default:d(()=>[r(f,{modelValue:a.formData.picUrl,"onUpdate:modelValue":l[5]||(l[5]=e=>a.formData.picUrl=e),disabled:m.isDetail,height:"80px"},null,8,["modelValue","disabled"])]),_:1}),r(o,{label:"\u5546\u54C1\u8F6E\u64AD\u56FE",prop:"sliderPicUrls"},{default:d(()=>[r(b,{modelValue:a.formData.sliderPicUrls,"onUpdate:modelValue":l[6]||(l[6]=e=>a.formData.sliderPicUrls=e),disabled:m.isDetail},null,8,["modelValue","disabled"])]),_:1})]),_:1},8,["disabled","model","rules"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/product/spu/form/InfoForm.vue"]]);export{G as default};
