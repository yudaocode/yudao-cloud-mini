import{bz as g,d as v,r as p,f as y,b as f,_,o as d,c as b,n as w,q as P,F as k}from"./index-BaY5TDP-.js";import I from"./ProductItem-B-fB2q4x.js";import{c as H}from"./concat-C9cLR7iJ.js";import"./el-image-Bg-CwbDE.js";const m=o=>g.get({url:"/product/browse-history/page",params:o}),M=_(v({name:"ProductBrowsingHistory",__name:"ProductBrowsingHistory",setup(o,{expose:u}){const r=p([]),s=p(0),t=y({pageNo:1,pageSize:10,userId:0,userDeleted:!1}),i=f(()=>s.value>0&&Math.ceil(s.value/t.pageSize)===t.pageNo),e=async a=>{t.userId=a.userId;const n=await m(t);s.value=n.total,r.value=n.list},l=async()=>{if(i.value)return;t.pageNo+=1;const a=await m(t);s.value=a.total,H(r.value,a.list)};u({getHistoryList:e,loadMore:l});const c={list:r,total:s,queryParams:t,skipGetMessageList:i,getHistoryList:e,loadMore:l,ProductItem:I};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),[["render",function(o,u,r,s,t,i){return d(!0),b(k,null,w(s.list,e=>(d(),P(s.ProductItem,{key:e.id,picUrl:e.picUrl,price:e.price,"sales-count":e.salesCount,"spu-id":e.spuId,stock:e.stock,title:e.spuName,class:"mb-10px"},null,8,["picUrl","price","sales-count","spu-id","stock","title"]))),128)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/promotion/kefu/components/member/ProductBrowsingHistory.vue"]]);export{M as default};
