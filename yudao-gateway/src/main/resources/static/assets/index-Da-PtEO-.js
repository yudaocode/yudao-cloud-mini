import{d as F,D as U,g as K,r as y,f as V,C as R,U as L,G as N,d$ as M,_ as Q,X as Y,o as s,c as h,k as l,w as t,Y as E,F as k,n as q,q as d,m as f,I as w,Z as z,L as j,J as G,K as J,z as X,N as Z,O as $,P as B,Q as H,R as W}from"./index-BaY5TDP-.js";import{_ as ee}from"./index-avjYFQiD.js";import{_ as ae}from"./DictTag-QtcI9ZjC.js";import{_ as le}from"./ContentWrap-DKQn7kZm.js";import{A}from"./index-B3VhXi0r.js";import re from"./ApiKeyForm-BbpK0J8C.js";import"./index-DrSdAlug.js";import"./color-BN7ZL7BD.js";import"./Dialog-CZSXtzfQ.js";import"./constants-CEEr2azc.js";const te=Q(F({name:"AiApiKey",__name:"index",setup(S,{expose:r}){r();const _=U(),{t:e}=K(),g=y(!0),C=y([]),v=y(0),u=V({pageNo:1,pageSize:10,name:void 0,platform:void 0,status:void 0}),c=y(),n=async()=>{g.value=!0;try{const o=await A.getApiKeyPage(u);C.value=o.list,v.value=o.total}finally{g.value=!1}},p=()=>{u.pageNo=1,n()},i=y();R(()=>{n()});const P={message:_,t:e,loading:g,list:C,total:v,queryParams:u,queryFormRef:c,getList:n,handleQuery:p,resetQuery:()=>{c.value.resetFields(),p()},formRef:i,openForm:(o,b)=>{i.value.open(o,b)},handleDelete:async o=>{try{await _.delConfirm(),await A.deleteApiKey(o),_.success(e("common.delSuccess")),await n()}catch{}},get getIntDictOptions(){return L},get DICT_TYPE(){return N},get getStrDictOptions(){return M},ApiKeyForm:re};return Object.defineProperty(P,"__isScriptSetup",{enumerable:!1,value:!0}),P}}),[["render",function(S,r,_,e,g,C){const v=z,u=j,c=G,n=J,p=X,i=Z,P=$,o=le,b=ae,m=B,x=H,D=ee,T=Y("hasPermi"),I=W;return s(),h(k,null,[l(o,null,{default:t(()=>[l(P,{class:"-mb-15px",model:e.queryParams,ref:"queryFormRef",inline:!0,"label-width":"68px"},{default:t(()=>[l(u,{label:"\u540D\u79F0",prop:"name"},{default:t(()=>[l(v,{modelValue:e.queryParams.name,"onUpdate:modelValue":r[0]||(r[0]=a=>e.queryParams.name=a),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",clearable:"",onKeyup:E(e.handleQuery,["enter"]),class:"!w-240px"},null,8,["modelValue"])]),_:1}),l(u,{label:"\u5E73\u53F0",prop:"platform"},{default:t(()=>[l(n,{modelValue:e.queryParams.platform,"onUpdate:modelValue":r[1]||(r[1]=a=>e.queryParams.platform=a),placeholder:"\u8BF7\u8F93\u5165\u5E73\u53F0",clearable:"",class:"!w-240px"},{default:t(()=>[(s(!0),h(k,null,q(e.getStrDictOptions(e.DICT_TYPE.AI_PLATFORM),a=>(s(),d(c,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"\u72B6\u6001",prop:"status"},{default:t(()=>[l(n,{modelValue:e.queryParams.status,"onUpdate:modelValue":r[2]||(r[2]=a=>e.queryParams.status=a),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",clearable:"",class:"!w-240px"},{default:t(()=>[(s(!0),h(k,null,q(e.getIntDictOptions(e.DICT_TYPE.COMMON_STATUS),a=>(s(),d(c,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(u,null,{default:t(()=>[l(i,{onClick:e.handleQuery},{default:t(()=>[l(p,{icon:"ep:search",class:"mr-5px"}),r[6]||(r[6]=f(" \u641C\u7D22"))]),_:1}),l(i,{onClick:e.resetQuery},{default:t(()=>[l(p,{icon:"ep:refresh",class:"mr-5px"}),r[7]||(r[7]=f(" \u91CD\u7F6E"))]),_:1}),w((s(),d(i,{type:"primary",plain:"",onClick:r[3]||(r[3]=a=>e.openForm("create"))},{default:t(()=>[l(p,{icon:"ep:plus",class:"mr-5px"}),r[8]||(r[8]=f(" \u65B0\u589E "))]),_:1})),[[T,["ai:api-key:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),l(o,null,{default:t(()=>[w((s(),d(x,{data:e.list,stripe:!0,"show-overflow-tooltip":!0},{default:t(()=>[l(m,{label:"\u6240\u5C5E\u5E73\u53F0",align:"center",prop:"platform"},{default:t(a=>[l(b,{type:e.DICT_TYPE.AI_PLATFORM,value:a.row.platform},null,8,["type","value"])]),_:1}),l(m,{label:"\u540D\u79F0",align:"center",prop:"name"}),l(m,{label:"\u5BC6\u94A5",align:"center",prop:"apiKey"}),l(m,{label:"\u81EA\u5B9A\u4E49 API URL",align:"center",prop:"url"}),l(m,{label:"\u72B6\u6001",align:"center",prop:"status"},{default:t(a=>[l(b,{type:e.DICT_TYPE.COMMON_STATUS,value:a.row.status},null,8,["type","value"])]),_:1}),l(m,{label:"\u64CD\u4F5C",align:"center"},{default:t(a=>[w((s(),d(i,{link:"",type:"primary",onClick:O=>e.openForm("update",a.row.id)},{default:t(()=>r[9]||(r[9]=[f(" \u7F16\u8F91 ")])),_:2},1032,["onClick"])),[[T,["ai:api-key:update"]]]),w((s(),d(i,{link:"",type:"danger",onClick:O=>e.handleDelete(a.row.id)},{default:t(()=>r[10]||(r[10]=[f(" \u5220\u9664 ")])),_:2},1032,["onClick"])),[[T,["ai:api-key:delete"]]])]),_:1})]),_:1},8,["data"])),[[I,e.loading]]),l(D,{total:e.total,page:e.queryParams.pageNo,"onUpdate:page":r[4]||(r[4]=a=>e.queryParams.pageNo=a),limit:e.queryParams.pageSize,"onUpdate:limit":r[5]||(r[5]=a=>e.queryParams.pageSize=a),onPagination:e.getList},null,8,["total","page","limit"])]),_:1}),l(e.ApiKeyForm,{ref:"formRef",onSuccess:e.getList},null,512)],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/ai/model/apiKey/index.vue"]]);export{te as default};
