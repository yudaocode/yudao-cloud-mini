import{d as I,D as M,b as f,r as k,au as W,ao as S,_ as N,o as i,c as r,j as u,k as n,w as c,m as x,F as A,n as R,q as U,ah as m,z as P,N as D,Z as E,J as K,K as j,E as q,v as C,cK as O}from"./index-BaY5TDP-.js";import B from"./main-US54NKSx.js";import L from"./main-BdcmYikv.js";import{W as z}from"./main-KjNEjHxK.js";import"./TabNews-CsSL-hHj.js";import"./TabText-BH6wUfdj.js";import"./TabImage-dEaedJeg.js";import"./useUpload-Dg-sFRn3.js";import"./index-avjYFQiD.js";import"./index-DrSdAlug.js";import"./el-image-Bg-CwbDE.js";import"./main-BdArqmip.js";import"./main-DeQxN6ve.js";import"./index-Ci6jvA8Q.js";import"./index-D0l0uLV-.js";import"./formatTime-Dr6TiYYc.js";import"./TabVoice-C2wi4dha.js";import"./TabVideo-DsHofe_N.js";import"./TabMusic-B3V30vcB.js";const F=[{value:"view",label:"\u8DF3\u8F6C\u7F51\u9875"},{value:"miniprogram",label:"\u8DF3\u8F6C\u5C0F\u7A0B\u5E8F"},{value:"click",label:"\u70B9\u51FB\u56DE\u590D"},{value:"article_view_limited",label:"\u8DF3\u8F6C\u56FE\u6587\u6D88\u606F"},{value:"scancode_push",label:"\u626B\u7801\u76F4\u63A5\u8FD4\u56DE\u7ED3\u679C"},{value:"scancode_waitmsg",label:"\u626B\u7801\u56DE\u590D"},{value:"pic_sysphoto",label:"\u7CFB\u7EDF\u62CD\u7167\u53D1\u56FE"},{value:"pic_photo_or_album",label:"\u62CD\u7167\u6216\u8005\u76F8\u518C"},{value:"pic_weixin",label:"\u5FAE\u4FE1\u76F8\u518C"},{value:"location_select",label:"\u9009\u62E9\u5730\u7406\u4F4D\u7F6E"}],J=I({__name:"MenuEditor",props:{accountId:{type:Number,required:!0},modelValue:{type:null,required:!0},isParent:{type:Boolean,required:!0}},emits:["delete","update:modelValue"],setup(b,{expose:e,emit:g}){e();const l=M(),h=b,V=g,t=f({get:()=>h.modelValue,set(s){V("update:modelValue",s)}}),d=k(!1),o=k(!1),w=f(()=>{var s;return!(((s=t.value.children)==null?void 0:s.length)>0)});W(t,()=>{o.value=!1,S(()=>{o.value=!0})});const _={message:l,props:h,emit:V,menu:t,showNewsDialog:d,hackResetWxReplySelect:o,isLeave:w,selectMaterial:s=>{const v=s.articleId,y=s.content.newsItem;y.length>1&&l.alertWarning("\u60A8\u9009\u62E9\u7684\u662F\u591A\u56FE\u6587\uFF0C\u5C06\u9ED8\u8BA4\u8DF3\u8F6C\u7B2C\u4E00\u7BC7"),d.value=!1,t.value.articleId=v,t.value.replyArticles=[],y.forEach(p=>{t.value.replyArticles.push({title:p.title,description:p.digest,picUrl:p.picUrl,url:p.url})})},deleteMaterial:()=>{delete t.value.articleId,delete t.value.replyArticles},get WxReplySelect(){return B},get WxNews(){return L},get WxMaterialSelect(){return z},get menuOptions(){return F}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),T={class:"configure_page"},Y={class:"delete_btn"},Z={key:0},G={class:"menu_content"},H={class:"menu_content"},Q={key:0,class:"configur_content"},X={key:1,class:"configur_content"},$={class:"applet"},ee={class:"applet"},le={class:"applet"},ae={key:2,class:"configur_content"},ne={key:0,class:"select-item"},ue={key:1},te={key:3,class:"configur_content"},ie=N(J,[["render",function(b,e,g,l,h,V){const t=P,d=D,o=E,w=K,_=j,s=P,v=q,y=C,p=O;return i(),r("div",null,[u("div",T,[u("div",Y,[n(d,{type:"danger",onClick:e[0]||(e[0]=a=>l.emit("delete"))},{default:c(()=>[n(t,{icon:"ep:delete"}),e[11]||(e[11]=x(" \u5220\u9664\u5F53\u524D\u83DC\u5355 "))]),_:1})]),u("div",null,[e[12]||(e[12]=u("span",null,"\u83DC\u5355\u540D\u79F0\uFF1A",-1)),n(o,{class:"input_width",modelValue:l.menu.name,"onUpdate:modelValue":e[1]||(e[1]=a=>l.menu.name=a),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",maxlength:g.isParent?4:7,clearable:""},null,8,["modelValue","maxlength"])]),l.isLeave?(i(),r("div",Z,[u("div",G,[e[13]||(e[13]=u("span",null,"\u83DC\u5355\u6807\u8BC6\uFF1A",-1)),n(o,{class:"input_width",modelValue:l.menu.menuKey,"onUpdate:modelValue":e[2]||(e[2]=a=>l.menu.menuKey=a),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355 KEY",clearable:""},null,8,["modelValue"])]),u("div",H,[e[14]||(e[14]=u("span",null,"\u83DC\u5355\u5185\u5BB9\uFF1A",-1)),n(_,{modelValue:l.menu.type,"onUpdate:modelValue":e[3]||(e[3]=a=>l.menu.type=a),clearable:"",placeholder:"\u8BF7\u9009\u62E9",class:"menu_option"},{default:c(()=>[(i(!0),r(A,null,R(l.menuOptions,a=>(i(),U(w,{label:a.label,value:a.value,key:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),l.menu.type==="view"?(i(),r("div",Q,[e[15]||(e[15]=u("span",null,"\u8DF3\u8F6C\u94FE\u63A5\uFF1A",-1)),n(o,{class:"input_width",modelValue:l.menu.url,"onUpdate:modelValue":e[4]||(e[4]=a=>l.menu.url=a),placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5",clearable:""},null,8,["modelValue"])])):m("",!0),l.menu.type==="miniprogram"?(i(),r("div",X,[u("div",$,[e[16]||(e[16]=u("span",null,"\u5C0F\u7A0B\u5E8F\u7684 appid \uFF1A",-1)),n(o,{class:"input_width",modelValue:l.menu.miniProgramAppId,"onUpdate:modelValue":e[5]||(e[5]=a=>l.menu.miniProgramAppId=a),placeholder:"\u8BF7\u8F93\u5165\u5C0F\u7A0B\u5E8F\u7684appid",clearable:""},null,8,["modelValue"])]),u("div",ee,[e[17]||(e[17]=u("span",null,"\u5C0F\u7A0B\u5E8F\u7684\u9875\u9762\u8DEF\u5F84\uFF1A",-1)),n(o,{class:"input_width",modelValue:l.menu.miniProgramPagePath,"onUpdate:modelValue":e[6]||(e[6]=a=>l.menu.miniProgramPagePath=a),placeholder:"\u8BF7\u8F93\u5165\u5C0F\u7A0B\u5E8F\u7684\u9875\u9762\u8DEF\u5F84\uFF0C\u5982\uFF1Apages/index",clearable:""},null,8,["modelValue"])]),u("div",le,[e[18]||(e[18]=u("span",null,"\u5C0F\u7A0B\u5E8F\u7684\u5907\u7528\u7F51\u9875\uFF1A",-1)),n(o,{class:"input_width",modelValue:l.menu.url,"onUpdate:modelValue":e[7]||(e[7]=a=>l.menu.url=a),placeholder:"\u4E0D\u652F\u6301\u5C0F\u7A0B\u5E8F\u7684\u8001\u7248\u672C\u5BA2\u6237\u7AEF\u5C06\u6253\u5F00\u672C\u7F51\u9875",clearable:""},null,8,["modelValue"])]),e[19]||(e[19]=u("p",{class:"blue"},"tips:\u9700\u8981\u548C\u516C\u4F17\u53F7\u8FDB\u884C\u5173\u8054\u624D\u53EF\u4EE5\u628A\u5C0F\u7A0B\u5E8F\u7ED1\u5B9A\u5E26\u5FAE\u4FE1\u83DC\u5355\u4E0A\u54DF\uFF01",-1))])):m("",!0),l.menu.type==="article_view_limited"?(i(),r("div",ae,[n(v,null,{default:c(()=>[l.menu&&l.menu.replyArticles?(i(),r("div",ne,[n(l.WxNews,{articles:l.menu.replyArticles},null,8,["articles"]),n(v,{class:"ope-row",justify:"center",align:"middle"},{default:c(()=>[n(d,{type:"danger",circle:"",onClick:l.deleteMaterial},{default:c(()=>[n(s,{icon:"ep:delete"})]),_:1})]),_:1})])):(i(),r("div",ue,[n(v,{justify:"center"},{default:c(()=>[n(y,{span:24,style:{"text-align":"center"}},{default:c(()=>[n(d,{type:"success",onClick:e[8]||(e[8]=a=>l.showNewsDialog=!0)},{default:c(()=>[e[20]||(e[20]=x(" \u7D20\u6750\u5E93\u9009\u62E9 ")),n(t,{icon:"ep:circle-check"})]),_:1})]),_:1})]),_:1})])),n(p,{title:"\u9009\u62E9\u56FE\u6587",modelValue:l.showNewsDialog,"onUpdate:modelValue":e[9]||(e[9]=a=>l.showNewsDialog=a),width:"80%","destroy-on-close":""},{default:c(()=>[n(l.WxMaterialSelect,{type:"news","account-id":l.props.accountId,onSelectMaterial:l.selectMaterial},null,8,["account-id"])]),_:1},8,["modelValue"])]),_:1})])):m("",!0),l.menu.type==="click"||l.menu.type==="scancode_waitmsg"?(i(),r("div",te,[l.hackResetWxReplySelect?(i(),U(l.WxReplySelect,{key:0,modelValue:l.menu.reply,"onUpdate:modelValue":e[10]||(e[10]=a=>l.menu.reply=a)},null,8,["modelValue"])):m("",!0)])):m("",!0)])):m("",!0)])])}],["__scopeId","data-v-4a32e789"],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mp/menu/components/MenuEditor.vue"]]);export{ie as default};
