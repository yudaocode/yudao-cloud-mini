import{d as b,p as n,r as c,f as F,au as f,a as g,cn as w,D as y,d_ as h,_ as O,o as j,q as x,w as v,k as D,L as N,O as V}from"./index-BaY5TDP-.js";import{r as E}from"./formRules-CMjZInfO.js";const P=O(b({name:"ProductDescriptionForm",__name:"DescriptionForm",props:{propFormData:{type:Object,default:()=>{}},activeName:n.string.def(""),isDetail:n.bool.def(!1)},emits:["update:activeName"],setup(l,{expose:r,emit:d}){const e=y(),o=l,s=c(),a=c({description:""}),p=F({description:[E]});f(()=>a.value.description,t=>{t==="<p><br></p>"&&(a.value.description="")},{deep:!0,immediate:!0}),f(()=>o.propFormData,t=>{t&&h(a.value,t)},{immediate:!0});const i=d,m=async()=>{var t;if(s)try{await((t=g(s))==null?void 0:t.validate()),Object.assign(o.propFormData,a.value)}catch(_){throw e.error("\u3010\u5546\u54C1\u8BE6\u60C5\u3011\u4E0D\u5B8C\u5584\uFF0C\u8BF7\u586B\u5199\u76F8\u5173\u4FE1\u606F"),i("update:activeName","description"),_}};r({validate:m});const u={message:e,props:o,formRef:s,formData:a,rules:p,emit:i,validate:m,get Editor(){return w}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),[["render",function(l,r,d,e,o,s){const a=N,p=V;return j(),x(p,{ref:"formRef",model:e.formData,rules:e.rules,"label-width":"120px",disabled:d.isDetail},{default:v(()=>[D(a,{label:"\u5546\u54C1\u8BE6\u60C5",prop:"description"},{default:v(()=>[D(e.Editor,{modelValue:e.formData.description,"onUpdate:modelValue":r[0]||(r[0]=i=>e.formData.description=i)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules","disabled"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/product/spu/form/DescriptionForm.vue"]]);export{P as default};
