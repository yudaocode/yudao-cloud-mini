import{bb as ne,bh as Se,fd as Me,cJ as xe,r as f,b as B,a as e,fe as oe,au as j,dr as Te,C as ie,c5 as Be,av as Ee,at as _e,bq as He,c4 as ee,c_ as Ne,cu as Ae,bQ as se,d as Y,bd as re,bV as Le,o as E,c as z,q as ue,w as Z,I as W,j as A,a2 as L,a_ as J,k as K,bs as ve,cU as Ve,ag as Q,a4 as ce,ah as q,cV as $e,aS as de,aF as he,F as Pe,n as ze,t as De,bf as fe,b4 as Ge,f as Oe,bu as Re,bi as qe,bl as Fe,bm as je}from"./index-BaY5TDP-.js";const We=ne({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),Je={change:(t,s)=>[t,s].every(Se)},pe=Symbol("carouselContextKey"),U="ElCarouselItem",Ke=(t,s,c)=>{const{children:n,addChild:_,removeChild:p}=Me(se(),U),M=xe(),o=f(-1),m=f(null),k=f(!1),d=f(),x=f(0),C=f(!0),h=f(!0),I=f(!1),g=B(()=>t.arrow!=="never"&&!e(T)),w=B(()=>n.value.some(a=>a.props.label.toString().length>0)),H=B(()=>t.type==="card"),T=B(()=>t.direction==="vertical"),O=B(()=>t.height!=="auto"?{height:t.height}:{height:`${x.value}px`,overflow:"hidden"}),R=oe(a=>{u(a)},300,{trailing:!0}),V=oe(a=>{(function(r){t.trigger==="hover"&&r!==o.value&&(o.value=r,h.value||(I.value=!0))})(a)},300);function $(){m.value&&(clearInterval(m.value),m.value=null)}function v(){t.interval<=0||!t.autoplay||m.value||(m.value=setInterval(()=>y(),t.interval))}const y=()=>{h.value||(I.value=!0),h.value=!1,o.value<n.value.length-1?o.value=o.value+1:t.loop?o.value=0:I.value=!1};function u(a){if(h.value||(I.value=!0),h.value=!1,He(a)){const i=n.value.filter(G=>G.props.name===a);i.length>0&&(a=n.value.indexOf(i[0]))}if(a=Number(a),Number.isNaN(a)||a!==Math.floor(a))return void ee(c,"index must be integer.");const r=n.value.length,S=o.value;o.value=a<0?t.loop?r-1:0:a>=r?t.loop?0:r-1:a,S===o.value&&b(S),l()}function b(a){n.value.forEach((r,S)=>{r.translateItem(S,o.value,a)})}function l(){$(),t.pauseOnHover||v()}j(()=>o.value,(a,r)=>{b(r),C.value&&(a%=2,r%=2),r>-1&&s("change",a,r)}),j(()=>t.autoplay,a=>{a?v():$()}),j(()=>t.loop,()=>{u(o.value)}),j(()=>t.interval,()=>{l()});const D=Te();return ie(()=>{j(()=>n.value,()=>{n.value.length>0&&u(t.initialIndex)},{immediate:!0}),D.value=Be(d.value,()=>{b()}),v()}),Ee(()=>{$(),d.value&&D.value&&D.value.stop()}),_e(pe,{root:d,isCardType:H,isVertical:T,items:n,loop:t.loop,cardScale:t.cardScale,addItem:_,removeItem:p,setActiveItem:u,setContainerHeight:function(a){t.height==="auto"&&(x.value=a)}}),{root:d,activeIndex:o,arrowDisplay:g,hasLabel:w,hover:k,isCardType:H,isTransitioning:I,items:n,isVertical:T,containerStyle:O,isItemsTwoLength:C,handleButtonEnter:function(a){e(T)||n.value.forEach((r,S)=>{a===function(i,G){var P,N,X,ae;const F=e(n),te=F.length;if(te===0||!i.states.inStage)return!1;const ye=G+1,be=G-1,le=te-1,Ie=F[le].states.active,Ce=F[0].states.active,we=(N=(P=F[ye])==null?void 0:P.states)==null?void 0:N.active,ke=(ae=(X=F[be])==null?void 0:X.states)==null?void 0:ae.active;return G===le&&Ce||we?"left":!!(G===0&&Ie||ke)&&"right"}(r,S)&&(r.states.hover=!0)})},handleTransitionEnd:function(){I.value=!1},handleButtonLeave:function(){e(T)||n.value.forEach(a=>{a.states.hover=!1})},handleIndicatorClick:function(a){a!==o.value&&(h.value||(I.value=!0)),o.value=a},handleMouseEnter:function(){k.value=!0,t.pauseOnHover&&$()},handleMouseLeave:function(){k.value=!1,v()},setActiveItem:u,prev:function(){u(o.value-1)},next:function(){u(o.value+1)},PlaceholderItem:function(){var a;const r=(a=M.default)==null?void 0:a.call(M);if(!r)return null;const S=Ne(r).filter(i=>Ae(i)&&i.type.name===U);return(S==null?void 0:S.length)===2&&t.loop&&!H.value?(C.value=!0,S):(C.value=!1,null)},isTwoLengthShow:a=>!C.value||(o.value<=1?a<=1:a>1),throttledArrowClick:R,throttledIndicatorHover:V}},me="ElCarousel",Qe=Y({name:me});var Ue=fe(Y({...Qe,props:We,emits:Je,setup(t,{expose:s,emit:c}){const n=t,{root:_,activeIndex:p,arrowDisplay:M,hasLabel:o,hover:m,isCardType:k,items:d,isVertical:x,containerStyle:C,handleButtonEnter:h,handleButtonLeave:I,isTransitioning:g,handleIndicatorClick:w,handleMouseEnter:H,handleMouseLeave:T,handleTransitionEnd:O,setActiveItem:R,prev:V,next:$,PlaceholderItem:v,isTwoLengthShow:y,throttledArrowClick:u,throttledIndicatorHover:b}=Ke(n,c,me),l=re("carousel"),{t:D}=Le(),a=B(()=>{const i=[l.b(),l.m(n.direction)];return e(k)&&i.push(l.m("card")),i}),r=B(()=>{const i=[l.e("container")];return n.motionBlur&&e(g)&&d.value.length>1&&i.push(e(x)?`${l.namespace.value}-transitioning-vertical`:`${l.namespace.value}-transitioning`),i}),S=B(()=>{const i=[l.e("indicators"),l.em("indicators",n.direction)];return e(o)&&i.push(l.em("indicators","labels")),n.indicatorPosition==="outside"&&i.push(l.em("indicators","outside")),e(x)&&i.push(l.em("indicators","right")),i});return s({activeIndex:p,setActiveItem:R,prev:V,next:$}),(i,G)=>(E(),z("div",{ref_key:"root",ref:_,class:L(e(a)),onMouseenter:J(e(H),["stop"]),onMouseleave:J(e(T),["stop"])},[e(M)?(E(),ue(ce,{key:0,name:"carousel-arrow-left",persisted:""},{default:Z(()=>[W(A("button",{type:"button",class:L([e(l).e("arrow"),e(l).em("arrow","left")]),"aria-label":e(D)("el.carousel.leftArrow"),onMouseenter:P=>e(h)("left"),onMouseleave:e(I),onClick:J(P=>e(u)(e(p)-1),["stop"])},[K(e(ve),null,{default:Z(()=>[K(e(Ve))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Q,(i.arrow==="always"||e(m))&&(n.loop||e(p)>0)]])]),_:1})):q("v-if",!0),e(M)?(E(),ue(ce,{key:1,name:"carousel-arrow-right",persisted:""},{default:Z(()=>[W(A("button",{type:"button",class:L([e(l).e("arrow"),e(l).em("arrow","right")]),"aria-label":e(D)("el.carousel.rightArrow"),onMouseenter:P=>e(h)("right"),onMouseleave:e(I),onClick:J(P=>e(u)(e(p)+1),["stop"])},[K(e(ve),null,{default:Z(()=>[K(e($e))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Q,(i.arrow==="always"||e(m))&&(n.loop||e(p)<e(d).length-1)]])]),_:1})):q("v-if",!0),A("div",{class:L(e(r)),style:he(e(C)),onTransitionend:e(O)},[K(e(v)),de(i.$slots,"default")],46,["onTransitionend"]),i.indicatorPosition!=="none"?(E(),z("ul",{key:2,class:L(e(S))},[(E(!0),z(Pe,null,ze(e(d),(P,N)=>W((E(),z("li",{key:N,class:L([e(l).e("indicator"),e(l).em("indicator",i.direction),e(l).is("active",N===e(p))]),onMouseenter:X=>e(b)(N),onClick:J(X=>e(w)(N),["stop"])},[A("button",{class:L(e(l).e("button")),"aria-label":e(D)("el.carousel.indicator",{index:N+1})},[e(o)?(E(),z("span",{key:0},De(P.props.label),1)):q("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[Q,e(y)(N)]])),128))],2)):q("v-if",!0),n.motionBlur?(E(),z("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[A("defs",null,[A("filter",{id:"elCarouselHorizontal"},[A("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),A("filter",{id:"elCarouselVertical"},[A("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):q("v-if",!0)],42,["onMouseenter","onMouseleave"]))}}),[["__file","carousel.vue"]]);const Xe=ne({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Ye=t=>{const s=Ge(pe),c=se();s||ee(U,"usage: <el-carousel></el-carousel-item></el-carousel>"),c||ee(U,"compositional hook can only be invoked inside setups");const n=f(),_=f(!1),p=f(0),M=f(1),o=f(!1),m=f(!1),k=f(!1),d=f(!1),{isCardType:x,isVertical:C,cardScale:h}=s,I=(g,w,H)=>{var T;const O=e(x),R=(T=s.items.value.length)!=null?T:Number.NaN,V=g===w;O||qe(H)||(d.value=V||g===H),!V&&R>2&&s.loop&&(g=function(v,y,u){const b=u-1,l=u/2;return y===0&&v===b?-1:y===b&&v===0?u:v<y-1&&y-v>=l?u+1:v>y+1&&v-y>=l?-2:v}(g,w,R));const $=e(C);o.value=V,O?(k.value=Math.round(Math.abs(g-w))<=1,p.value=function(v,y){var u,b;const l=e(C)?((u=s.root.value)==null?void 0:u.offsetHeight)||0:((b=s.root.value)==null?void 0:b.offsetWidth)||0;return k.value?l*((2-h)*(v-y)+1)/4:v<y?-(1+h)*l/4:(3+h)*l/4}(g,w),M.value=e(o)?1:h):p.value=function(v,y,u){const b=s.root.value;return b?((u?b.offsetHeight:b.offsetWidth)||0)*(v-y):0}(g,w,$),m.value=!0,V&&n.value&&s.setContainerHeight(n.value.offsetHeight)};return ie(()=>{s.addItem({props:t,states:Oe({hover:_,translate:p,scale:M,active:o,ready:m,inStage:k,animating:d}),uid:c.uid,translateItem:I})}),Re(()=>{s.removeItem(c.uid)}),{carouselItemRef:n,active:o,animating:d,hover:_,inStage:k,isVertical:C,translate:p,isCardType:x,scale:M,ready:m,handleItemClick:function(){if(s&&e(x)){const g=s.items.value.findIndex(({uid:w})=>w===c.uid);s.setActiveItem(g)}}}},Ze=Y({name:U});var ge=fe(Y({...Ze,props:Xe,setup(t){const s=t,c=re("carousel"),{carouselItemRef:n,active:_,animating:p,hover:M,inStage:o,isVertical:m,translate:k,isCardType:d,scale:x,ready:C,handleItemClick:h}=Ye(s),I=B(()=>[c.e("item"),c.is("active",_.value),c.is("in-stage",o.value),c.is("hover",M.value),c.is("animating",p.value),{[c.em("item","card")]:d.value,[c.em("item","card-vertical")]:d.value&&m.value}]),g=B(()=>({transform:[`${"translate"+(e(m)?"Y":"X")}(${e(k)}px)`,`scale(${e(x)})`].join(" ")}));return(w,H)=>W((E(),z("div",{ref_key:"carouselItemRef",ref:n,class:L(e(I)),style:he(e(g)),onClick:e(h)},[e(d)?W((E(),z("div",{key:0,class:L(e(c).e("mask"))},null,2)),[[Q,!e(_)]]):q("v-if",!0),de(w.$slots,"default")],14,["onClick"])),[[Q,e(C)]])}}),[["__file","carousel-item.vue"]]);const ea=Fe(Ue,{CarouselItem:ge}),aa=je(ge);export{aa as E,ea as a};
