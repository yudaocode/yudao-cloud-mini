import{bz as g,d as V,D as R,g as k,r as v,f as L,C as j,_ as z,X as N,o as d,c as _,k as t,w as o,I as b,q as D,j as U,m as u,ah as O,F as P,N as T,ak as q,al as F,L as I,cf as X,l as A,O as B,R as G}from"./index-BaY5TDP-.js";import{_ as H}from"./ContentWrap-DKQn7kZm.js";import{_ as J}from"./index-BAz6Gqim.js";import{C as K}from"./CardTitle-Z2xLAPly.js";const M={class:"flex items-center justify-between"},Q={key:0},W=z(V({name:"CrmContractConfig",__name:"index",setup(h,{expose:a}){a();const m=R(),{t:e}=k(),n=v(!1),l=v({notifyEnabled:!1,notifyDays:void 0}),f=L({}),i=v(),r=async()=>{try{n.value=!0;const s=await(async()=>await g.get({url:"/crm/contract-config/get"}))();if(s===null)return;l.value=s}finally{n.value=!1}};j(()=>{r()});const c={message:m,t:e,formLoading:n,formData:l,formRules:f,formRef:i,getConfig:r,onSubmit:async()=>{if(i&&await i.value.validate()){n.value=!0;try{const s=l.value;await(async y=>await g.put({url:"/crm/contract-config/save",data:y}))(s),m.success(e("common.updateSuccess")),await r(),n.value=!1}finally{n.value=!1}}},changeNotifyEnable:()=>{l.value.notifyEnabled||(l.value.notifyDays=void 0)},get CardTitle(){return K}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),[["render",function(h,a,m,e,n,l){const f=J,i=T,r=q,c=F,s=I,y=X,w=A,C=B,E=H,x=N("hasPermi"),S=G;return d(),_(P,null,[t(f,{title:"\u3010\u5408\u540C\u3011\u5408\u540C\u7BA1\u7406\u3001\u5408\u540C\u63D0\u9192",url:"https://doc.iocoder.cn/crm/contract/"}),t(f,{title:"\u3010\u901A\u7528\u3011\u6570\u636E\u6743\u9650",url:"https://doc.iocoder.cn/crm/permission/"}),t(E,null,{default:o(()=>[b((d(),D(C,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"160px"},{default:o(()=>[t(w,{shadow:"never"},{header:o(()=>[U("div",M,[t(e.CardTitle,{title:"\u5408\u540C\u914D\u7F6E\u8BBE\u7F6E"}),b((d(),D(i,{type:"primary",onClick:e.onSubmit},{default:o(()=>a[2]||(a[2]=[u(" \u4FDD\u5B58 ")])),_:1})),[[x,["crm:contract-config:update"]]])])]),default:o(()=>[t(s,{label:"\u63D0\u524D\u63D0\u9192\u8BBE\u7F6E",prop:"notifyEnabled"},{default:o(()=>[t(c,{modelValue:e.formData.notifyEnabled,"onUpdate:modelValue":a[0]||(a[0]=p=>e.formData.notifyEnabled=p),onChange:e.changeNotifyEnable,class:"ml-4"},{default:o(()=>[t(r,{value:!1,size:"large"},{default:o(()=>a[3]||(a[3]=[u("\u4E0D\u63D0\u9192")])),_:1}),t(r,{value:!0,size:"large"},{default:o(()=>a[4]||(a[4]=[u("\u63D0\u9192")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e.formData.notifyEnabled?(d(),_("div",Q,[t(s,null,{default:o(()=>[a[5]||(a[5]=u(" \u63D0\u524D ")),t(y,{class:"mx-2",modelValue:e.formData.notifyDays,"onUpdate:modelValue":a[1]||(a[1]=p=>e.formData.notifyDays=p)},null,8,["modelValue"]),a[6]||(a[6]=u(" \u5929\u63D0\u9192 "))]),_:1})])):O("",!0)]),_:1})]),_:1},8,["model","rules"])),[[S,e.formLoading]])]),_:1})],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/crm/contract/config/index.vue"]]);export{W as default};
