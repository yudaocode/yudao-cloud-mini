import{d as g,r as m,au as h,aA as w,_ as v,o as t,c as o,F as k,n as C,aF as s,k as b,ah as a,j as c,a2 as n,t as i,q as T}from"./index-BaY5TDP-.js";import{E as R}from"./el-image-Bg-CwbDE.js";import{b as S}from"./spu-BVX48OKx.js";const B=g({name:"ProductCard",__name:"index",props:{property:{type:Object,required:!0}},setup(d,{expose:x}){x();const e=d,l=m([]);h(()=>e.property.spuIds,async()=>{l.value=await S(e.property.spuIds)},{immediate:!0,deep:!0});const y=m(),u={props:e,spuList:l,calculateSpace:p=>{const r=e.property.layoutType==="twoCol"?2:1;return{marginLeft:p%r==0?"0":e.property.space+"px",marginTop:p<r?"0":e.property.space+"px"}},containerRef:y,calculateWidth:()=>{let p="100%";return e.property.layoutType==="twoCol"&&(p=(y.value.offsetWidth-e.property.space)/2+"px"),{width:p}},get fenToYuan(){return w}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),_={class:n("box-content min-h-30px w-full flex flex-row flex-wrap"),ref:"containerRef"},I={key:0,class:"absolute left-0 top-0 z-1 items-center justify-center"},P={class:"text-12px"},$={class:"absolute bottom-8px right-8px"},L=v(B,[["render",function(d,x,e,l,y,u){const p=R;return t(),o("div",_,[(t(!0),o(k,null,C(l.spuList,(r,f)=>(t(),o("div",{class:"relative box-content flex flex-row flex-wrap overflow-hidden bg-white",style:s({...l.calculateSpace(f),...l.calculateWidth(),borderTopLeftRadius:`${e.property.borderRadiusTop}px`,borderTopRightRadius:`${e.property.borderRadiusTop}px`,borderBottomLeftRadius:`${e.property.borderRadiusBottom}px`,borderBottomRightRadius:`${e.property.borderRadiusBottom}px`}),key:f},[e.property.badge.show?(t(),o("div",I,[b(p,{fit:"cover",src:e.property.badge.imgUrl,class:"h-26px w-38px"},null,8,["src"])])):a("",!0),c("div",{class:n(["h-140px",{"w-full":e.property.layoutType!=="oneColSmallImg","w-140px":e.property.layoutType==="oneColSmallImg"}])},[b(p,{fit:"cover",class:"h-full w-full",src:r.picUrl},null,8,["src"])],2),c("div",{class:n([" flex flex-col gap-8px p-8px box-border",{"w-full":e.property.layoutType!=="oneColSmallImg","w-[calc(100%-140px-16px)]":e.property.layoutType==="oneColSmallImg"}])},[e.property.fields.name.show?(t(),o("div",{key:0,class:n(["text-14px ",{truncate:e.property.layoutType!=="oneColSmallImg","overflow-ellipsis line-clamp-2":e.property.layoutType==="oneColSmallImg"}]),style:s({color:e.property.fields.name.color})},i(r.name),7)):a("",!0),e.property.fields.introduction.show?(t(),o("div",{key:1,class:"truncate text-12px",style:s({color:e.property.fields.introduction.color})},i(r.introduction),5)):a("",!0),c("div",null,[e.property.fields.price.show?(t(),o("span",{key:0,class:"text-16px",style:s({color:e.property.fields.price.color})}," \uFFE5"+i(l.fenToYuan(r.price)),5)):a("",!0),e.property.fields.marketPrice.show&&r.marketPrice?(t(),o("span",{key:1,class:"ml-4px text-10px line-through",style:s({color:e.property.fields.marketPrice.color})},"\uFFE5"+i(l.fenToYuan(r.marketPrice)),5)):a("",!0)]),c("div",P,[e.property.fields.salesCount.show?(t(),o("span",{key:0,style:s({color:e.property.fields.salesCount.color})}," \u5DF2\u552E"+i((r.salesCount||0)+(r.virtualSalesCount||0))+"\u4EF6 ",5)):a("",!0),e.property.fields.stock.show?(t(),o("span",{key:1,style:s({color:e.property.fields.stock.color})}," \u5E93\u5B58"+i(r.stock||0),5)):a("",!0)])],2),c("div",$,[e.property.btnBuy.type==="text"?(t(),o("span",{key:0,class:"rounded-full p-x-12px p-y-4px text-12px text-white",style:s({background:`linear-gradient(to right, ${e.property.btnBuy.bgBeginColor}, ${e.property.btnBuy.bgEndColor}`})},i(e.property.btnBuy.text),5)):(t(),T(p,{key:1,class:"h-28px w-28px rounded-full",fit:"cover",src:e.property.btnBuy.imgUrl},null,8,["src"]))])],4))),128))],512)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/components/DiyEditor/components/mobile/ProductCard/index.vue"]]);export{L as default};
