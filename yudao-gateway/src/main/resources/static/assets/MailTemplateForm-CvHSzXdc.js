import{f as T,G as V,d as k,g as D,D as O,r as n,_ as j,o as C,q as R,w as f,k as b,m as P,I as Y,N as A,R as H,__tla as I}from"./index-BaY5TDP-.js";import{_ as L}from"./Dialog-CZSXtzfQ.js";import{_ as U}from"./Form-CB5RGX1K.js";import{g as E,c as N,u as q}from"./index-CY__hSuf.js";import{d as z}from"./formatTime-Dr6TiYYc.js";import{b as G}from"./index-TmRUK8YF.js";import{r as o}from"./formRules-CMjZInfO.js";import{u as B}from"./useCrudSchemas-BQxlWSsn.js";let h,_,M,J=Promise.all([(()=>{try{return I}catch{}})()]).then(async()=>{let c,y,v;c=await G(),y=T({name:[o],code:[o],accountId:[o],label:[o],content:[o],params:[o],status:[o]}),v=T([{label:"\u6A21\u677F\u7F16\u7801",field:"code",isSearch:!0,search:{componentProps:{style:{width:"240px"}}}},{label:"\u6A21\u677F\u540D\u79F0",field:"name",isSearch:!0,search:{componentProps:{style:{width:"240px"}}}},{label:"\u6A21\u677F\u6807\u9898",field:"title"},{label:"\u6A21\u677F\u5185\u5BB9",field:"content",form:{component:"Editor",componentProps:{valueHtml:"",height:200}}},{label:"\u90AE\u7BB1\u8D26\u53F7",field:"accountId",width:"200px",formatter:(g,a,d)=>{var e;return(e=c.find(s=>s.id===d))==null?void 0:e.mail},search:{show:!0,component:"Select",api:()=>c,componentProps:{optionsAlias:{labelField:"mail",valueField:"id"},style:{width:"240px"}}},form:{component:"Select",api:()=>c,componentProps:{optionsAlias:{labelField:"mail",valueField:"id"}}}},{label:"\u53D1\u9001\u4EBA\u540D\u79F0",field:"nickname"},{label:"\u5F00\u542F\u72B6\u6001",field:"status",isSearch:!0,dictType:V.COMMON_STATUS,dictClass:"number",search:{componentProps:{style:{width:"240px"}}}},{label:"\u5907\u6CE8",field:"remark",isTable:!1},{label:"\u521B\u5EFA\u65F6\u95F4",field:"createTime",isForm:!1,formatter:z,search:{show:!0,component:"DatePicker",componentProps:{valueFormat:"YYYY-MM-DD HH:mm:ss",type:"daterange",defaultTime:[new Date("1 00:00:00"),new Date("1 23:59:59")],style:{width:"240px"}}}},{label:"\u64CD\u4F5C",field:"action",isForm:!1}]),{allSchemas:_}=B(v),h=j(k({name:"SystemMailTemplateForm",__name:"MailTemplateForm",emits:["success"],setup(g,{expose:a,emit:d}){const{t:e}=D(),s=O(),u=n(!1),p=n(""),l=n(!1),i=n(""),t=n(),r=async(m,F)=>{if(u.value=!0,p.value=e("action."+m),i.value=m,F){l.value=!0;try{const x=await E(F);t.value.setValues(x)}finally{l.value=!1}}};a({open:r});const w=d,S={t:e,message:s,dialogVisible:u,dialogTitle:p,formLoading:l,formType:i,formRef:t,open:r,emit:w,submitForm:async()=>{if(t&&await t.value.getElFormRef().validate()){l.value=!0;try{const m=t.value.formModel;i.value==="create"?(await N(m),s.success(e("common.createSuccess"))):(await q(m),s.success(e("common.updateSuccess"))),u.value=!1,w("success")}finally{l.value=!1}}},get allSchemas(){return _},get rules(){return y}};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),[["render",function(g,a,d,e,s,u){const p=U,l=A,i=L,t=H;return C(),R(i,{modelValue:e.dialogVisible,"onUpdate:modelValue":a[1]||(a[1]=r=>e.dialogVisible=r),"max-height":500,scroll:!0,title:e.dialogTitle,width:800},{footer:f(()=>[b(l,{disabled:e.formLoading,type:"primary",onClick:e.submitForm},{default:f(()=>a[2]||(a[2]=[P("\u786E \u5B9A")])),_:1},8,["disabled"]),b(l,{onClick:a[0]||(a[0]=r=>e.dialogVisible=!1)},{default:f(()=>a[3]||(a[3]=[P("\u53D6 \u6D88")])),_:1})]),default:f(()=>[Y(b(p,{ref:"formRef",rules:e.rules,schema:e.allSchemas.formSchema},null,8,["rules","schema"]),[[t,e.formLoading]])]),_:1},8,["modelValue","title"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/system/mail/template/MailTemplateForm.vue"]]),M=Object.freeze(Object.defineProperty({__proto__:null,default:h},Symbol.toStringTag,{value:"Module"}))});export{h as M,J as __tla,_ as a,M as b};
