import{d as P,r as g,G as k,aw as L,aE as A,_ as R,o as c,q as S,w as d,j as t,aF as u,k as l,t as s,c as v,ah as D,F as U,n as W,m as I,aS as H,z as Y,aK as j,an as N,P as O,Q as F}from"./index-BaY5TDP-.js";import{E as M}from"./el-image-Bg-CwbDE.js";import{_ as q}from"./DictTag-QtcI9ZjC.js";import{D as K}from"./constants-CEEr2azc.js";import{f as z}from"./formatTime-Dr6TiYYc.js";import"./color-BN7ZL7BD.js";const G={class:"flex items-center",style:{width:"100%"}},Q={class:"mr-[20px] h-[35px] flex items-center pl-[10px] pr-[10px]",style:{"background-color":"var(--app-content-bg-color)"}},V={class:"mr-20px"},X={class:"mr-20px"},$={key:1,class:"mr-20px"},B={key:2,class:"mr-20px"},J={class:"flex flex-wrap"},Z={class:"mb-[10px] mr-[10px] flex items-start"},ee={class:"mr-[10px]"},ae={class:"image-slot"},te={class:"overflow-ellipsis max-h-[45px] overflow-hidden"},re={key:0,class:"flex flex-col"},le={key:1,class:"flex flex-col"},se=R(P({name:"OrderTableColumn",__name:"OrderTableColumn",props:{list:{type:Array,required:!0},pickUpStoreList:{type:Array,required:!0}},setup(h,{expose:n}){n();const m=h,e=g([300,150,120,120,160,120,120,160]),_=r=>{const p=r.store.states.columns.value;p.length!==0&&p.forEach((y,w)=>{y.realWidth&&(e.value[w]=y.realWidth)})},b={props:m,headerStyle:({row:r,columnIndex:p})=>{if(p!==0)return r[p].colSpan=0,{display:"none"};r[p].colSpan=8},spanMethod:({row:r,rowIndex:p,columnIndex:y})=>{var T,o;const w=(o=(T=m.list.find(E=>{var a;return((a=E.items)==null?void 0:a.findIndex(i=>i.id===r.id))!==-1}))==null?void 0:T.items)==null?void 0:o.length;if([3,4,5,6,7].includes(y))return p!==0?{rowspan:0,colspan:0}:{rowspan:w,colspan:1}},setOrderTableRef:r=>{r&&r.tableId==="el-table_2"&&_(r)},orderTableHeadWidthList:e,tableHeadWidthAuto:_,imagePreview:r=>{A({urlList:[r]})},get DICT_TYPE(){return k},get DeliveryTypeEnum(){return K},get formatDate(){return z},get floatToFixed2(){return L}};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),[["render",function(h,n,m,e,_,b){const r=q,p=Y,y=M,w=j,T=N,o=O,E=F;return c(),S(o,{"class-name":"order-table-col"},{header:d(()=>[t("div",G,[t("div",{style:u({width:e.orderTableHeadWidthList[0]+"px"}),class:"flex justify-center"}," \u5546\u54C1\u4FE1\u606F ",4),t("div",{style:u({width:e.orderTableHeadWidthList[1]+"px"}),class:"flex justify-center"}," \u5355\u4EF7(\u5143)/\u6570\u91CF ",4),t("div",{style:u({width:e.orderTableHeadWidthList[2]+"px"}),class:"flex justify-center"}," \u552E\u540E\u72B6\u6001 ",4),t("div",{style:u({width:e.orderTableHeadWidthList[3]+"px"}),class:"flex justify-center"}," \u5B9E\u4ED8\u91D1\u989D(\u5143) ",4),t("div",{style:u({width:e.orderTableHeadWidthList[4]+"px"}),class:"flex justify-center"}," \u4E70\u5BB6/\u6536\u8D27\u4EBA ",4),t("div",{style:u({width:e.orderTableHeadWidthList[5]+"px"}),class:"flex justify-center"}," \u914D\u9001\u65B9\u5F0F ",4),t("div",{style:u({width:e.orderTableHeadWidthList[6]+"px"}),class:"flex justify-center"}," \u8BA2\u5355\u72B6\u6001 ",4),t("div",{style:u({width:e.orderTableHeadWidthList[7]+"px"}),class:"flex justify-center"}," \u64CD\u4F5C ",4)])]),default:d(a=>[l(E,{ref:e.setOrderTableRef,border:!0,data:a.row.items,"header-cell-style":e.headerStyle,"span-method":e.spanMethod,style:{width:"100%"}},{default:d(()=>[l(o,{"min-width":"300",prop:"spuName"},{header:d(()=>[t("div",Q,[t("span",V,"\u8BA2\u5355\u53F7\uFF1A"+s(a.row.no),1),t("span",X,"\u4E0B\u5355\u65F6\u95F4\uFF1A"+s(e.formatDate(a.row.createTime)),1),n[0]||(n[0]=t("span",null,"\u8BA2\u5355\u6765\u6E90\uFF1A",-1)),l(r,{type:e.DICT_TYPE.TERMINAL,value:a.row.terminal,class:"mr-20px"},null,8,["type","value"]),n[1]||(n[1]=t("span",null,"\u652F\u4ED8\u65B9\u5F0F\uFF1A",-1)),a.row.payChannelCode?(c(),S(r,{key:0,type:e.DICT_TYPE.PAY_CHANNEL_CODE,value:a.row.payChannelCode,class:"mr-20px"},null,8,["type","value"])):(c(),v("span",$,"\u672A\u652F\u4ED8")),a.row.payTime?(c(),v("span",B," \u652F\u4ED8\u65F6\u95F4\uFF1A"+s(e.formatDate(a.row.payTime)),1)):D("",!0),n[2]||(n[2]=t("span",null,"\u8BA2\u5355\u7C7B\u578B\uFF1A",-1)),l(r,{type:e.DICT_TYPE.TRADE_ORDER_TYPE,value:a.row.type},null,8,["type","value"])])]),default:d(({row:i})=>[t("div",J,[t("div",Z,[t("div",ee,[l(y,{src:i.picUrl,class:"!h-[45px] !w-[45px]",fit:"contain",onClick:f=>e.imagePreview(i.picUrl)},{error:d(()=>[t("div",ae,[l(p,{icon:"ep:picture"})])]),_:2},1032,["src","onClick"])]),l(w,{content:i.spuName,placement:"top"},{default:d(()=>[t("span",te,s(i.spuName),1)]),_:2},1032,["content"])]),(c(!0),v(U,null,W(i.properties,f=>(c(),S(T,{key:f.propertyId,class:"mb-[10px] mr-[10px]"},{default:d(()=>[I(s(f.propertyName)+": "+s(f.valueName),1)]),_:2},1024))),128))])]),_:2},1024),l(o,{label:"\u5546\u54C1\u539F\u4EF7*\u6570\u91CF",prop:"price",width:"150"},{default:d(({row:i})=>[I(s(e.floatToFixed2(i.price))+" \u5143 / "+s(i.count),1)]),_:1}),l(o,{label:"\u552E\u540E\u72B6\u6001",prop:"afterSaleStatus",width:"120"},{default:d(({row:i})=>[l(r,{type:e.DICT_TYPE.TRADE_ORDER_ITEM_AFTER_SALE_STATUS,value:i.afterSaleStatus},null,8,["type","value"])]),_:1}),l(o,{align:"center",label:"\u5B9E\u9645\u652F\u4ED8","min-width":"120",prop:"payPrice"},{default:d(()=>[I(s(e.floatToFixed2(a.row.payPrice)+"\u5143"),1)]),_:2},1024),l(o,{label:"\u4E70\u5BB6/\u6536\u8D27\u4EBA","min-width":"160"},{default:d(()=>{var i,f,C;return[a.row.deliveryType===e.DeliveryTypeEnum.EXPRESS.type?(c(),v("div",re,[t("span",null,"\u4E70\u5BB6\uFF1A"+s(a.row.user.nickname),1),t("span",null," \u6536\u8D27\u4EBA\uFF1A"+s(a.row.receiverName)+" "+s(a.row.receiverMobile)+" "+s(a.row.receiverAreaName)+" "+s(a.row.receiverDetailAddress),1)])):D("",!0),a.row.deliveryType===e.DeliveryTypeEnum.PICK_UP.type?(c(),v("div",le,[t("span",null," \u95E8\u5E97\u540D\u79F0\uFF1A "+s((i=m.pickUpStoreList.find(x=>x.id===a.row.pickUpStoreId))==null?void 0:i.name),1),t("span",null," \u95E8\u5E97\u624B\u673A\uFF1A "+s((f=m.pickUpStoreList.find(x=>x.id===a.row.pickUpStoreId))==null?void 0:f.phone),1),t("span",null," \u81EA\u63D0\u95E8\u5E97: "+s((C=m.pickUpStoreList.find(x=>x.id===a.row.pickUpStoreId))==null?void 0:C.detailAddress),1)])):D("",!0)]}),_:2},1024),l(o,{align:"center",label:"\u914D\u9001\u65B9\u5F0F",width:"120"},{default:d(()=>[l(r,{type:e.DICT_TYPE.TRADE_DELIVERY_TYPE,value:a.row.deliveryType},null,8,["type","value"])]),_:2},1024),l(o,{align:"center",label:"\u8BA2\u5355\u72B6\u6001",width:"120"},{default:d(()=>[l(r,{type:e.DICT_TYPE.TRADE_ORDER_STATUS,value:a.row.status},null,8,["type","value"])]),_:2},1024),l(o,{align:"center",fixed:"right",label:"\u64CD\u4F5C",width:"160"},{default:d(()=>[H(h.$slots,"default",{row:a.row},void 0,!0)]),_:2},1024)]),_:2},1032,["data"])]),_:3})}],["__scopeId","data-v-3c799a92"],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/trade/order/components/OrderTableColumn.vue"]]);export{se as default};
