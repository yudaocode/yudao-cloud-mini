import{d as w,g as F,D as C,r as i,f as O,G as S,U as k,_ as I,o as g,q as b,w as l,k as d,m as V,I as L,c as R,F as E,n as h,t as j,Z as q,L as x,ak as N,al as A,O as M,N as Y,R as B}from"./index-BaY5TDP-.js";import{_ as G}from"./Dialog-CZSXtzfQ.js";import{P as y}from"./index-CRTwLgwp.js";import{C as Z}from"./constants-CEEr2azc.js";const z=I(w({name:"ProductUnitForm",__name:"ProductUnitForm",emits:["success"],setup(T,{expose:a,emit:D}){const{t:e}=F(),n=C(),c=i(!1),f=i(""),o=i(!1),m=i(""),s=i({id:void 0,name:void 0,status:void 0}),_=O({name:[{required:!0,message:"\u5355\u4F4D\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u5355\u4F4D\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),r=i(),p=async(u,P)=>{if(c.value=!0,f.value=e("action."+u),m.value=u,t(),P){o.value=!0;try{s.value=await y.getProductUnit(P)}finally{o.value=!1}}};a({open:p});const v=D,t=()=>{var u;s.value={id:void 0,name:void 0,status:Z.ENABLE},(u=r.value)==null||u.resetFields()},U={t:e,message:n,dialogVisible:c,dialogTitle:f,formLoading:o,formType:m,formData:s,formRules:_,formRef:r,open:p,emit:v,submitForm:async()=>{await r.value.validate(),o.value=!0;try{const u=s.value;m.value==="create"?(await y.createProductUnit(u),n.success(e("common.createSuccess"))):(await y.updateProductUnit(u),n.success(e("common.updateSuccess"))),c.value=!1,v("success")}finally{o.value=!1}},resetForm:t,get DICT_TYPE(){return S},get getIntDictOptions(){return k}};return Object.defineProperty(U,"__isScriptSetup",{enumerable:!1,value:!0}),U}}),[["render",function(T,a,D,e,n,c){const f=q,o=x,m=N,s=A,_=M,r=Y,p=G,v=B;return g(),b(p,{title:e.dialogTitle,modelValue:e.dialogVisible,"onUpdate:modelValue":a[3]||(a[3]=t=>e.dialogVisible=t)},{footer:l(()=>[d(r,{onClick:e.submitForm,type:"primary",disabled:e.formLoading},{default:l(()=>a[4]||(a[4]=[V("\u786E \u5B9A")])),_:1},8,["disabled"]),d(r,{onClick:a[2]||(a[2]=t=>e.dialogVisible=!1)},{default:l(()=>a[5]||(a[5]=[V("\u53D6 \u6D88")])),_:1})]),default:l(()=>[L((g(),b(_,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"100px"},{default:l(()=>[d(o,{label:"\u5355\u4F4D\u540D\u5B57",prop:"name"},{default:l(()=>[d(f,{modelValue:e.formData.name,"onUpdate:modelValue":a[0]||(a[0]=t=>e.formData.name=t),placeholder:"\u8BF7\u8F93\u5165\u5355\u4F4D\u540D\u5B57"},null,8,["modelValue"])]),_:1}),d(o,{label:"\u5355\u4F4D\u72B6\u6001",prop:"status"},{default:l(()=>[d(s,{modelValue:e.formData.status,"onUpdate:modelValue":a[1]||(a[1]=t=>e.formData.status=t)},{default:l(()=>[(g(!0),R(E,null,h(e.getIntDictOptions(e.DICT_TYPE.COMMON_STATUS),t=>(g(),b(m,{key:t.value,value:t.value},{default:l(()=>[V(j(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[v,e.formLoading]])]),_:1},8,["title","modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/erp/product/unit/ProductUnitForm.vue"]]);export{z as default};
