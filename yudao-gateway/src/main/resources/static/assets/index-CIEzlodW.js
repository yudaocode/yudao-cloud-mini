import{d as W,D as O,r as n,_ as L,o as m,c as b,j as u,k as t,w as s,m as i,F as y,n as V,q as S,t as H,b8 as j,Z as A,N as B,J as T,K as q}from"./index-BaY5TDP-.js";import{E as J}from"./el-space-B4pGZPiv.js";import{I as K}from"./index-BRp175ra.js";import{h as M,S as Z,b as Q,c as R,a as I}from"./constants-BXWrMvZH.js";const X={class:"prompt"},Y={class:"hot-words"},$={class:"group-item"},ee={class:"group-item"},ae={class:"group-item"},le={class:"group-item"},te={class:"group-item"},se={class:"group-item"},ue={class:"group-item"},oe={class:"btns"},de=L(W({__name:"index",emits:["onDrawStart","onDrawComplete"],setup(N,{expose:e,emit:D}){const l=O(),w=n(!1),f=n(""),o=n(""),p=n(512),g=n(512),r=n("DDIM"),c=n(20),v=n(42),a=n(7.5),_=n("NONE"),P=n("3d-model"),x=D,k=async d=>{var h,C,G,z,E,F;o.value=d.prompt,p.value=d.width,g.value=d.height,v.value=(h=d.options)==null?void 0:h.seed,c.value=(C=d.options)==null?void 0:C.steps,a.value=(G=d.options)==null?void 0:G.scale,r.value=(z=d.options)==null?void 0:z.sampler,_.value=(E=d.options)==null?void 0:E.clipGuidancePreset,P.value=(F=d.options)==null?void 0:F.stylePreset};e({settingValues:k});const U={message:l,drawIn:w,selectHotWord:f,prompt:o,width:p,height:g,sampler:r,steps:c,seed:v,scale:a,clipGuidancePreset:_,stylePreset:P,emits:x,handleHotWordClick:async d=>{f.value!=d?(f.value=d,o.value=d):f.value=""},handleGenerateImage:async()=>{if(d=o.value,/[\u4e00-\u9fa5]/.test(d))l.alert("\u6682\u4E0D\u652F\u6301\u4E2D\u6587\uFF01");else{var d;await l.confirm("\u786E\u8BA4\u751F\u6210\u5185\u5BB9?");try{w.value=!0,x("onDrawStart",I.STABLE_DIFFUSION);const h={platform:I.STABLE_DIFFUSION,model:"stable-diffusion-v1-6",prompt:o.value,width:p.value,height:g.value,options:{seed:v.value,steps:c.value,scale:a.value,sampler:r.value,clipGuidancePreset:_.value,stylePreset:P.value}};await K.drawImage(h)}finally{x("onDrawComplete",I.STABLE_DIFFUSION),w.value=!1}}},settingValues:k,get ImageHotEnglishWords(){return M},get StableDiffusionClipGuidancePresets(){return Z},get StableDiffusionSamplers(){return Q},get StableDiffusionStylePresets(){return R}};return Object.defineProperty(U,"__isScriptSetup",{enumerable:!1,value:!0}),U}}),[["render",function(N,e,D,l,w,f){const o=j,p=A,g=B,r=J,c=T,v=q;return m(),b(y,null,[u("div",X,[t(o,{tag:"b"},{default:s(()=>e[9]||(e[9]=[i("\u753B\u9762\u63CF\u8FF0")])),_:1}),t(o,{tag:"p"},{default:s(()=>e[10]||(e[10]=[i("\u5EFA\u8BAE\u4F7F\u7528\u201C\u5F62\u5BB9\u8BCD+\u52A8\u8BCD+\u98CE\u683C\u201D\u7684\u683C\u5F0F\uFF0C\u4F7F\u7528\u201C\uFF0C\u201D\u9694\u5F00")])),_:1}),t(p,{modelValue:l.prompt,"onUpdate:modelValue":e[0]||(e[0]=a=>l.prompt=a),maxlength:"1024",rows:"5",class:"w-100% mt-15px","input-style":"border-radius: 7px;",placeholder:"\u4F8B\u5982\uFF1A\u7AE5\u8BDD\u91CC\u7684\u5C0F\u5C4B\u5E94\u8BE5\u662F\u4EC0\u4E48\u6837\u5B50\uFF1F","show-word-limit":"",type:"textarea"},null,8,["modelValue"])]),u("div",Y,[u("div",null,[t(o,{tag:"b"},{default:s(()=>e[11]||(e[11]=[i("\u968F\u673A\u70ED\u8BCD")])),_:1})]),t(r,{wrap:"",class:"word-list"},{default:s(()=>[(m(!0),b(y,null,V(l.ImageHotEnglishWords,a=>(m(),S(g,{round:"",class:"btn",type:l.selectHotWord===a?"primary":"default",key:a,onClick:_=>l.handleHotWordClick(a)},{default:s(()=>[i(H(a),1)]),_:2},1032,["type","onClick"]))),128))]),_:1})]),u("div",$,[u("div",null,[t(o,{tag:"b"},{default:s(()=>e[12]||(e[12]=[i("\u91C7\u6837\u65B9\u6CD5")])),_:1})]),t(r,{wrap:"",class:"group-item-body"},{default:s(()=>[t(v,{modelValue:l.sampler,"onUpdate:modelValue":e[1]||(e[1]=a=>l.sampler=a),placeholder:"Select",size:"large",class:"!w-350px"},{default:s(()=>[(m(!0),b(y,null,V(l.StableDiffusionSamplers,a=>(m(),S(c,{key:a.key,label:a.name,value:a.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),u("div",ee,[u("div",null,[t(o,{tag:"b"},{default:s(()=>e[13]||(e[13]=[i("CLIP")])),_:1})]),t(r,{wrap:"",class:"group-item-body"},{default:s(()=>[t(v,{modelValue:l.clipGuidancePreset,"onUpdate:modelValue":e[2]||(e[2]=a=>l.clipGuidancePreset=a),placeholder:"Select",size:"large",class:"!w-350px"},{default:s(()=>[(m(!0),b(y,null,V(l.StableDiffusionClipGuidancePresets,a=>(m(),S(c,{key:a.key,label:a.name,value:a.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),u("div",ae,[u("div",null,[t(o,{tag:"b"},{default:s(()=>e[14]||(e[14]=[i("\u98CE\u683C")])),_:1})]),t(r,{wrap:"",class:"group-item-body"},{default:s(()=>[t(v,{modelValue:l.stylePreset,"onUpdate:modelValue":e[3]||(e[3]=a=>l.stylePreset=a),placeholder:"Select",size:"large",class:"!w-350px"},{default:s(()=>[(m(!0),b(y,null,V(l.StableDiffusionStylePresets,a=>(m(),S(c,{key:a.key,label:a.name,value:a.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),u("div",le,[u("div",null,[t(o,{tag:"b"},{default:s(()=>e[15]||(e[15]=[i("\u56FE\u7247\u5C3A\u5BF8")])),_:1})]),t(r,{wrap:"",class:"group-item-body"},{default:s(()=>[t(p,{modelValue:l.width,"onUpdate:modelValue":e[4]||(e[4]=a=>l.width=a),class:"w-170px",placeholder:"\u56FE\u7247\u5BBD\u5EA6"},null,8,["modelValue"]),t(p,{modelValue:l.height,"onUpdate:modelValue":e[5]||(e[5]=a=>l.height=a),class:"w-170px",placeholder:"\u56FE\u7247\u9AD8\u5EA6"},null,8,["modelValue"])]),_:1})]),u("div",te,[u("div",null,[t(o,{tag:"b"},{default:s(()=>e[16]||(e[16]=[i("\u8FED\u4EE3\u6B65\u6570")])),_:1})]),t(r,{wrap:"",class:"group-item-body"},{default:s(()=>[t(p,{modelValue:l.steps,"onUpdate:modelValue":e[6]||(e[6]=a=>l.steps=a),type:"number",size:"large",class:"!w-350px",placeholder:"Please input"},null,8,["modelValue"])]),_:1})]),u("div",se,[u("div",null,[t(o,{tag:"b"},{default:s(()=>e[17]||(e[17]=[i("\u5F15\u5BFC\u7CFB\u6570")])),_:1})]),t(r,{wrap:"",class:"group-item-body"},{default:s(()=>[t(p,{modelValue:l.scale,"onUpdate:modelValue":e[7]||(e[7]=a=>l.scale=a),type:"number",size:"large",class:"!w-350px",placeholder:"Please input"},null,8,["modelValue"])]),_:1})]),u("div",ue,[u("div",null,[t(o,{tag:"b"},{default:s(()=>e[18]||(e[18]=[i("\u968F\u673A\u56E0\u5B50")])),_:1})]),t(r,{wrap:"",class:"group-item-body"},{default:s(()=>[t(p,{modelValue:l.seed,"onUpdate:modelValue":e[8]||(e[8]=a=>l.seed=a),type:"number",size:"large",class:"!w-350px",placeholder:"Please input"},null,8,["modelValue"])]),_:1})]),u("div",oe,[t(g,{type:"primary",size:"large",round:"",loading:l.drawIn,onClick:l.handleGenerateImage},{default:s(()=>[i(H(l.drawIn?"\u751F\u6210\u4E2D":"\u751F\u6210\u5185\u5BB9"),1)]),_:1},8,["loading"])])],64)}],["__scopeId","data-v-fb65597b"],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/ai/image/index/components/stableDiffusion/index.vue"]]);export{de as default};
