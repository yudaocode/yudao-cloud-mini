import{d as P,g,D as c,r as b,f as m,_,o as R,q as V,w as t,k as o,L as v,O as q}from"./index-BaY5TDP-.js";import{_ as y}from"./XButton-BcV39lfk.js";import{I}from"./InputPassword-liMgUpCC.js";import{a as h}from"./profile-BO8Syfus.js";const x=_(P({name:"ResetPwd",__name:"ResetPwd",setup(f,{expose:r}){r();const{t:a}=g(),s=c(),i=b(),l=m({oldPassword:"",newPassword:"",confirmPassword:""}),d=(e,n,p)=>{l.newPassword!==n?p(new Error(a("profile.password.diffPwd"))):p()},w=m({oldPassword:[{required:!0,message:a("profile.password.oldPwdMsg"),trigger:"blur"},{min:6,max:20,message:a("profile.password.pwdRules"),trigger:"blur"}],newPassword:[{required:!0,message:a("profile.password.newPwdMsg"),trigger:"blur"},{min:6,max:20,message:a("profile.password.pwdRules"),trigger:"blur"}],confirmPassword:[{required:!0,message:a("profile.password.cfPwdMsg"),trigger:"blur"},{required:!0,validator:d,trigger:"blur"}]}),u={t:a,message:s,formRef:i,password:l,equalToPassword:d,rules:w,submit:e=>{e&&e.validate(async n=>{n&&(await h(l.oldPassword,l.newPassword),s.success(a("common.updateSuccess")))})},reset:e=>{e&&e.resetFields()},get InputPassword(){return I}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),[["render",function(f,r,a,s,i,l){const d=v,w=y,u=q;return R(),V(u,{ref:"formRef",model:s.password,rules:s.rules,"label-width":200},{default:t(()=>[o(d,{label:s.t("profile.password.oldPassword"),prop:"oldPassword"},{default:t(()=>[o(s.InputPassword,{modelValue:s.password.oldPassword,"onUpdate:modelValue":r[0]||(r[0]=e=>s.password.oldPassword=e)},null,8,["modelValue"])]),_:1},8,["label"]),o(d,{label:s.t("profile.password.newPassword"),prop:"newPassword"},{default:t(()=>[o(s.InputPassword,{modelValue:s.password.newPassword,"onUpdate:modelValue":r[1]||(r[1]=e=>s.password.newPassword=e),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),o(d,{label:s.t("profile.password.confirmPassword"),prop:"confirmPassword"},{default:t(()=>[o(s.InputPassword,{modelValue:s.password.confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=e=>s.password.confirmPassword=e),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),o(d,null,{default:t(()=>[o(w,{title:s.t("common.save"),type:"primary",onClick:r[3]||(r[3]=e=>s.submit(s.formRef))},null,8,["title"]),o(w,{title:s.t("common.reset"),type:"danger",onClick:r[4]||(r[4]=e=>s.reset(s.formRef))},null,8,["title"])]),_:1})]),_:1},8,["model","rules"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/Profile/components/ResetPwd.vue"]]);export{x as default};
