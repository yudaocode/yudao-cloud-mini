import{bz as d,d as q,g as x,D as N,r as p,b as P,f as A,U as B,H as j,G as Y,_ as z,o as u,q as i,w as o,k as r,m as R,I as G,c as M,F as S,n as I,ah as _,t as O,Z as H,L as J,co as K,J as Z,K as Q,ak as W,al as X,cf as $,O as ee,N as ae,R as te}from"./index-BaY5TDP-.js";import{_ as le}from"./Dialog-CZSXtzfQ.js";import{C as T}from"./constants-CEEr2azc.js";import{C as oe}from"./index-Cz_ljQ_t.js";const f={getChatRolePage:async l=>await d.get({url:"/ai/chat-role/page",params:l}),getChatRole:async l=>await d.get({url:"/ai/chat-role/get?id="+l}),createChatRole:async l=>await d.post({url:"/ai/chat-role/create",data:l}),updateChatRole:async l=>await d.put({url:"/ai/chat-role/update",data:l}),deleteChatRole:async l=>await d.delete({url:"/ai/chat-role/delete?id="+l}),getMyPage:async l=>await d.get({url:"/ai/chat-role/my-page",params:l}),getCategoryList:async()=>await d.get({url:"/ai/chat-role/category-list"}),createMy:async l=>await d.post({url:"/ai/chat-role/create-my",data:l}),updateMy:async l=>await d.put({url:"/ai/chat-role/update-my",data:l}),deleteMy:async l=>await d.delete({url:"/ai/chat-role/delete-my?id="+l})},E=z(q({name:"ChatRoleForm",__name:"ChatRoleForm",emits:["success"],setup(l,{expose:t,emit:k}){const{t:e}=x(),n=N(),h=p(!1),c=p(""),s=p(!1),m=p(""),g=p({id:void 0,modelId:void 0,name:void 0,avatar:void 0,category:void 0,sort:void 0,description:void 0,systemMessage:void 0,publicStatus:!0,status:T.ENABLE}),y=p(),v=p([]),V=P(()=>m.value==="my-create"||m.value==="my-update"),U=A({name:[{required:!0,message:"\u89D2\u8272\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],avatar:[{required:!0,message:"\u89D2\u8272\u5934\u50CF\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],category:[{required:!0,message:"\u89D2\u8272\u7C7B\u522B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sort:[{required:!0,message:"\u89D2\u8272\u6392\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],description:[{required:!0,message:"\u89D2\u8272\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],systemMessage:[{required:!0,message:"\u89D2\u8272\u8BBE\u5B9A\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],publicStatus:[{required:!0,message:"\u662F\u5426\u516C\u5F00\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),D=async(a,L,F)=>{if(h.value=!0,c.value=F||e("action."+a),m.value=a,w(),L){s.value=!0;try{g.value=await f.getChatRole(L)}finally{s.value=!1}}v.value=await oe.getChatModelSimpleList(T.ENABLE)};t({open:D});const b=k,w=()=>{var a;g.value={id:void 0,modelId:void 0,name:void 0,avatar:void 0,category:void 0,sort:void 0,description:void 0,systemMessage:void 0,publicStatus:!0,status:T.ENABLE},(a=y.value)==null||a.resetFields()},C={t:e,message:n,dialogVisible:h,dialogTitle:c,formLoading:s,formType:m,formData:g,formRef:y,chatModelList:v,isUser:V,formRules:U,open:D,emit:b,submitForm:async()=>{await y.value.validate(),s.value=!0;try{const a=g.value;m.value==="my-create"?(await f.createMy(a),n.success(e("common.createSuccess"))):m.value==="my-update"?(await f.updateMy(a),n.success(e("common.updateSuccess"))):m.value==="create"?(await f.createChatRole(a),n.success(e("common.createSuccess"))):(await f.updateChatRole(a),n.success(e("common.updateSuccess"))),h.value=!1,b("success")}finally{s.value=!1}},resetForm:w,get getIntDictOptions(){return B},get getBoolDictOptions(){return j},get DICT_TYPE(){return Y}};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}}),[["render",function(l,t,k,e,n,h){const c=H,s=J,m=K,g=Z,y=Q,v=W,V=X,U=$,D=ee,b=ae,w=le,C=te;return u(),i(w,{title:e.dialogTitle,modelValue:e.dialogVisible,"onUpdate:modelValue":t[10]||(t[10]=a=>e.dialogVisible=a)},{footer:o(()=>[r(b,{onClick:e.submitForm,type:"primary",disabled:e.formLoading},{default:o(()=>t[11]||(t[11]=[R("\u786E \u5B9A")])),_:1},8,["disabled"]),r(b,{onClick:t[9]||(t[9]=a=>e.dialogVisible=!1)},{default:o(()=>t[12]||(t[12]=[R("\u53D6 \u6D88")])),_:1})]),default:o(()=>[G((u(),i(D,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"100px"},{default:o(()=>[r(s,{label:"\u89D2\u8272\u540D\u79F0",prop:"name"},{default:o(()=>[r(c,{modelValue:e.formData.name,"onUpdate:modelValue":t[0]||(t[0]=a=>e.formData.name=a),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0"},null,8,["modelValue"])]),_:1}),r(s,{label:"\u89D2\u8272\u5934\u50CF",prop:"avatar"},{default:o(()=>[r(m,{modelValue:e.formData.avatar,"onUpdate:modelValue":t[1]||(t[1]=a=>e.formData.avatar=a),height:"60px",width:"60px"},null,8,["modelValue"])]),_:1}),e.isUser?_("",!0):(u(),i(s,{key:0,label:"\u7ED1\u5B9A\u6A21\u578B",prop:"modelId"},{default:o(()=>[r(y,{modelValue:e.formData.modelId,"onUpdate:modelValue":t[2]||(t[2]=a=>e.formData.modelId=a),placeholder:"\u8BF7\u9009\u62E9\u6A21\u578B",clearable:""},{default:o(()=>[(u(!0),M(S,null,I(e.chatModelList,a=>(u(),i(g,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})),e.isUser?_("",!0):(u(),i(s,{key:1,label:"\u89D2\u8272\u7C7B\u522B",prop:"category"},{default:o(()=>[r(c,{modelValue:e.formData.category,"onUpdate:modelValue":t[3]||(t[3]=a=>e.formData.category=a),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u7C7B\u522B"},null,8,["modelValue"])]),_:1})),r(s,{label:"\u89D2\u8272\u63CF\u8FF0",prop:"description"},{default:o(()=>[r(c,{type:"textarea",modelValue:e.formData.description,"onUpdate:modelValue":t[4]||(t[4]=a=>e.formData.description=a),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u63CF\u8FF0"},null,8,["modelValue"])]),_:1}),r(s,{label:"\u89D2\u8272\u8BBE\u5B9A",prop:"systemMessage"},{default:o(()=>[r(c,{type:"textarea",modelValue:e.formData.systemMessage,"onUpdate:modelValue":t[5]||(t[5]=a=>e.formData.systemMessage=a),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u8BBE\u5B9A"},null,8,["modelValue"])]),_:1}),e.isUser?_("",!0):(u(),i(s,{key:2,label:"\u662F\u5426\u516C\u5F00",prop:"publicStatus"},{default:o(()=>[r(V,{modelValue:e.formData.publicStatus,"onUpdate:modelValue":t[6]||(t[6]=a=>e.formData.publicStatus=a)},{default:o(()=>[(u(!0),M(S,null,I(e.getBoolDictOptions(e.DICT_TYPE.INFRA_BOOLEAN_STRING),a=>(u(),i(v,{key:a.value,value:a.value},{default:o(()=>[R(O(a.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})),e.isUser?_("",!0):(u(),i(s,{key:3,label:"\u89D2\u8272\u6392\u5E8F",prop:"sort"},{default:o(()=>[r(U,{modelValue:e.formData.sort,"onUpdate:modelValue":t[7]||(t[7]=a=>e.formData.sort=a),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u6392\u5E8F",class:"!w-1/1"},null,8,["modelValue"])]),_:1})),e.isUser?_("",!0):(u(),i(s,{key:4,label:"\u5F00\u542F\u72B6\u6001",prop:"status"},{default:o(()=>[r(V,{modelValue:e.formData.status,"onUpdate:modelValue":t[8]||(t[8]=a=>e.formData.status=a)},{default:o(()=>[(u(!0),M(S,null,I(e.getIntDictOptions(e.DICT_TYPE.COMMON_STATUS),a=>(u(),i(v,{key:a.value,value:a.value},{default:o(()=>[R(O(a.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}))]),_:1},8,["model","rules"])),[[C,e.formLoading]])]),_:1},8,["title","modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/ai/model/chatRole/ChatRoleForm.vue"]]),se=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{f as C,E as a,se as b};
