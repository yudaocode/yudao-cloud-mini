import{b as M,a as o,bg as st,r as Y,au as Ye,dr as De,bh as ne,b9 as co,bQ as it,b$ as Ae,br as Qe,c6 as Ve,cu as He,h as Ce,bj as Tt,bd as ke,bc as G,cz as uo,bb as Le,d as Ie,b4 as ct,dW as ho,bP as mo,k as K,ao as Ge,bK as fo,bM as wo,bN as po,C as dt,bO as go,eT as yo,aZ as Ht,bq as Ct,F as xo,bR as vo,bS as Ze,bi as bo,at as It,bk as oe,aS as Ne,cV as Ro,bs as Et,bA as So,eU as To,eV as Ho,c5 as Co,av as Io,bl as Mt}from"./index-BaY5TDP-.js";import{j as Ee,v as Eo,k as Mo,I as Wt,S as Ot,F as Je,u as Wo,B as Kt,d as _e,A as et,R as Oo,g as Dt,a as Ko,b as At,l as Lt,c as zt,e as Do,D as Ft,C as ze,E as ut,f as ht,h as jt}from"./el-virtual-list-Cbbiio1P.js";import{E as Ao}from"./el-empty-wTPt5q4m.js";var Pe=(e=>(e.ASC="asc",e.DESC="desc",e))(Pe||{}),$e=(e=>(e.CENTER="center",e.RIGHT="right",e))($e||{}),mt=(e=>(e.LEFT="left",e.RIGHT="right",e))(mt||{});const ft={asc:"desc",desc:"asc"},Be=Symbol("placeholder"),Lo=(e,{mainTableRef:t,leftTableRef:l,rightTableRef:r,tableInstance:n,ns:a,isScrolling:i})=>{const s=it(),{emit:f}=s,u=De(!1),d=Y(e.defaultExpandedRowKeys||[]),y=Y(-1),R=De(null),A=Y({}),W=Y({}),c=De({}),N=De({}),V=De({}),$=M(()=>ne(e.estimatedRowHeight)),U=co(()=>{var S,T,P,q;u.value=!0,A.value={...o(A),...o(W)},k(o(R),!1),W.value={},R.value=null,(S=t.value)==null||S.forceUpdate(),(T=l.value)==null||T.forceUpdate(),(P=r.value)==null||P.forceUpdate(),(q=s.proxy)==null||q.$forceUpdate(),u.value=!1},0);function k(S,T=!1){o($)&&[t,l,r].forEach(P=>{const q=o(P);q&&q.resetAfterRowIndex(S,T)})}return{expandedRowKeys:d,lastRenderedRowIndex:y,isDynamic:$,isResetting:u,rowHeights:A,resetAfterIndex:k,onRowExpanded:function({expanded:S,rowData:T,rowIndex:P,rowKey:q}){var J,D;const X=[...o(d)],Q=X.indexOf(q);S?Q===-1&&X.push(q):Q>-1&&X.splice(Q,1),d.value=X,f("update:expandedRowKeys",X),(J=e.onRowExpand)==null||J.call(e,{expanded:S,rowData:T,rowIndex:P,rowKey:q}),(D=e.onExpandedRowsChange)==null||D.call(e,X)},onRowHovered:function({hovered:S,rowKey:T}){i.value||n.vnode.el.querySelectorAll(`[rowkey="${String(T)}"]`).forEach(P=>{S?P.classList.add(a.is("hovered")):P.classList.remove(a.is("hovered"))})},onRowsRendered:function(S){var T;(T=e.onRowsRendered)==null||T.call(e,S),S.rowCacheEnd>o(y)&&(y.value=S.rowCacheEnd)},onRowHeightChange:function({rowKey:S,height:T,rowIndex:P},q){q?q===mt.RIGHT?V.value[S]=T:c.value[S]=T:N.value[S]=T;const J=Math.max(...[c,V,N].map(D=>D.value[S]||0));o(A)[S]!==J&&(function(D,X,Q){const C=o(R);(C===null||C>Q)&&(R.value=Q),W.value[D]=X}(S,J,P),U())}}},zo=(e,t)=>e+t,tt=e=>Ae(e)?e.reduce(zo,0):e,Me=(e,t,l={})=>Ve(e)?e(t):e??l,xe=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Qe(e[t])}),e),Vt=e=>He(e)?t=>Ce(e,t):e;function Fo(e){const t=Y(),l=Y(),r=Y(),{columns:n,columnsStyles:a,columnsTotalWidth:i,fixedColumnsOnLeft:s,fixedColumnsOnRight:f,hasFixedColumns:u,mainColumns:d,onColumnSorted:y}=function(z,h,w){const m=M(()=>o(h).map((p,O)=>{var B,re;return{...p,key:(re=(B=p.key)!=null?B:p.dataKey)!=null?re:O}})),H=M(()=>o(m).filter(p=>!p.hidden)),g=M(()=>o(H).filter(p=>p.fixed==="left"||p.fixed===!0)),b=M(()=>o(H).filter(p=>p.fixed==="right")),x=M(()=>o(H).filter(p=>!p.fixed)),I=M(()=>{const p=[];return o(g).forEach(O=>{p.push({...O,placeholderSign:Be})}),o(x).forEach(O=>{p.push(O)}),o(b).forEach(O=>{p.push({...O,placeholderSign:Be})}),p}),v=M(()=>o(g).length||o(b).length),E=M(()=>o(m).reduce((p,O)=>(p[O.key]=((B,re,we)=>{var ee;const te={flexGrow:0,flexShrink:0,...we?{}:{flexGrow:B.flexGrow||0,flexShrink:B.flexShrink||1}};we||(te.flexShrink=1);const ae={...(ee=B.style)!=null?ee:{},...te,flexBasis:"auto",width:B.width};return re||(B.maxWidth&&(ae.maxWidth=B.maxWidth),B.minWidth&&(ae.minWidth=B.minWidth)),ae})(O,o(w),z.fixed),p),{})),F=M(()=>o(H).reduce((p,O)=>p+O.width,0)),L=p=>o(m).find(O=>O.key===p);return{columns:m,columnsStyles:E,columnsTotalWidth:F,fixedColumnsOnLeft:g,fixedColumnsOnRight:b,hasFixedColumns:v,mainColumns:I,normalColumns:x,visibleColumns:H,getColumn:L,getColumnStyle:p=>o(E)[p],updateColumnWidth:(p,O)=>{p.width=O},onColumnSorted:function(p){var O;const{key:B}=p.currentTarget.dataset;if(!B)return;const{sortState:re,sortBy:we}=z;let ee=Pe.ASC;ee=st(re)?ft[re[B]]:ft[we.order],(O=z.onColumnSort)==null||O.call(z,{column:L(B),key:B,order:ee})}}}(e,Tt(e,"columns"),Tt(e,"fixed")),{scrollTo:R,scrollToLeft:A,scrollToTop:W,scrollToRow:c,onScroll:N,onVerticalScroll:V,scrollPos:$}=((z,{mainTableRef:h,leftTableRef:w,rightTableRef:m,onMaybeEndReached:H})=>{const g=Y({scrollLeft:0,scrollTop:0});function b(v){var E,F,L;const{scrollTop:p}=v;(E=h.value)==null||E.scrollTo(v),(F=w.value)==null||F.scrollToTop(p),(L=m.value)==null||L.scrollToTop(p)}function x(v){g.value=v,b(v)}function I(v){g.value.scrollTop=v,b(o(g))}return Ye(()=>o(g).scrollTop,(v,E)=>{v>E&&H()}),{scrollPos:g,scrollTo:x,scrollToLeft:function(v){var E,F;g.value.scrollLeft=v,(F=(E=h.value)==null?void 0:E.scrollTo)==null||F.call(E,o(g))},scrollToTop:I,scrollToRow:function(v,E="auto"){var F;(F=h.value)==null||F.scrollToRow(v,E)},onScroll:function(v){var E;x(v),(E=z.onScroll)==null||E.call(z,v)},onVerticalScroll:function({scrollTop:v}){const{scrollTop:E}=o(g);v!==E&&I(v)}}})(e,{mainTableRef:t,leftTableRef:l,rightTableRef:r,onMaybeEndReached:function(){const{onEndReached:z}=e;if(!z)return;const{scrollTop:h}=o($),w=o(me),m=o(se),H=w-(h+m)+e.hScrollbarSize;o(P)>=0&&w===h+o(de)-o(Se)&&z(H)}}),U=ke("table-v2"),k=it(),S=De(!1),{expandedRowKeys:T,lastRenderedRowIndex:P,isDynamic:q,isResetting:J,rowHeights:D,resetAfterIndex:X,onRowExpanded:Q,onRowHeightChange:C,onRowHovered:j,onRowsRendered:_}=Lo(e,{mainTableRef:t,leftTableRef:l,rightTableRef:r,tableInstance:k,ns:U,isScrolling:S}),{data:Z,depthMap:le}=((z,{expandedRowKeys:h,lastRenderedRowIndex:w,resetAfterIndex:m})=>{const H=Y({}),g=M(()=>{const x={},{data:I,rowKey:v}=z,E=o(h);if(!E||!E.length)return I;const F=[],L=new Set;E.forEach(O=>L.add(O));let p=I.slice();for(p.forEach(O=>x[O[v]]=0);p.length>0;){const O=p.shift();F.push(O),L.has(O[v])&&Ae(O.children)&&O.children.length>0&&(p=[...O.children,...p],O.children.forEach(B=>x[B[v]]=x[O[v]]+1))}return H.value=x,F}),b=M(()=>{const{data:x,expandColumnKey:I}=z;return I?o(g):x});return Ye(b,(x,I)=>{x!==I&&(w.value=-1,m(0,!0))}),{data:b,depthMap:H}})(e,{expandedRowKeys:T,lastRenderedRowIndex:P,resetAfterIndex:X}),me=M(()=>{const{estimatedRowHeight:z,rowHeight:h}=e,w=o(Z);return ne(z)?Object.values(o(D)).reduce((m,H)=>m+H,0):w.length*h}),{bodyWidth:ve,fixedTableHeight:fe,mainTableHeight:de,leftTableWidth:be,rightTableWidth:ye,headerWidth:ue,windowHeight:se,footerHeight:he,emptyStyle:Re,rootStyle:Ke,headerHeight:Se}=((z,{columnsTotalWidth:h,rowsHeight:w,fixedColumnsOnLeft:m,fixedColumnsOnRight:H})=>{const g=M(()=>{const{fixed:ee,width:te,vScrollbarSize:ae}=z,ie=te-ae;return ee?Math.max(Math.round(o(h)),ie):ie}),b=M(()=>o(g)+z.vScrollbarSize),x=M(()=>{const{height:ee=0,maxHeight:te=0,footerHeight:ae,hScrollbarSize:ie}=z;if(te>0){const rt=o(p),Xe=o(w),nt=o(L)+rt+Xe+ie;return Math.min(nt,te-ae)}return ee-ae}),I=M(()=>{const{maxHeight:ee}=z,te=o(x);if(ne(ee)&&ee>0)return te;const ae=o(w)+o(L)+o(p);return Math.min(te,ae)}),v=ee=>ee.width,E=M(()=>tt(o(m).map(v))),F=M(()=>tt(o(H).map(v))),L=M(()=>tt(z.headerHeight)),p=M(()=>{var ee;return(((ee=z.fixedData)==null?void 0:ee.length)||0)*z.rowHeight}),O=M(()=>o(x)-o(L)-o(p)),B=M(()=>{const{style:ee={},height:te,width:ae}=z;return xe({...ee,height:te,width:ae})}),re=M(()=>xe({height:z.footerHeight})),we=M(()=>({top:Qe(o(L)),bottom:Qe(z.footerHeight),width:Qe(z.width)}));return{bodyWidth:g,fixedTableHeight:I,mainTableHeight:x,leftTableWidth:E,rightTableWidth:F,headerWidth:b,windowHeight:O,footerHeight:re,emptyStyle:we,rootStyle:B,headerHeight:L}})(e,{columnsTotalWidth:i,fixedColumnsOnLeft:s,fixedColumnsOnRight:f,rowsHeight:me}),Fe=Y(),je=M(()=>{const z=o(Z).length===0;return Ae(e.fixedData)?e.fixedData.length===0&&z:z});return Ye(()=>e.expandedRowKeys,z=>T.value=z,{deep:!0}),{columns:n,containerRef:Fe,mainTableRef:t,leftTableRef:l,rightTableRef:r,isDynamic:q,isResetting:J,isScrolling:S,hasFixedColumns:u,columnsStyles:a,columnsTotalWidth:i,data:Z,expandedRowKeys:T,depthMap:le,fixedColumnsOnLeft:s,fixedColumnsOnRight:f,mainColumns:d,bodyWidth:ve,emptyStyle:Re,rootStyle:Ke,headerWidth:ue,footerHeight:he,mainTableHeight:de,fixedTableHeight:fe,leftTableWidth:be,rightTableWidth:ye,showEmpty:je,getRowHeight:function(z){const{estimatedRowHeight:h,rowHeight:w,rowKey:m}=e;return h?o(D)[o(Z)[z][m]]||h:w},onColumnSorted:y,onRowHovered:j,onRowExpanded:Q,onRowsRendered:_,onRowHeightChange:C,scrollTo:R,scrollToLeft:A,scrollToTop:W,scrollToRow:c,onScroll:N,onVerticalScroll:V}}const wt=Symbol("tableV2"),kt=String,qe={type:G(Array),required:!0},pt={type:G(Array)},Gt={...pt,required:!0},jo=String,Nt={type:G(Array),default:()=>uo([])},We={type:Number,required:!0},Pt={type:G([String,Number,Symbol]),default:"id"},$t={type:G(Object)},Oe=Le({class:String,columns:qe,columnsStyles:{type:G(Object),required:!0},depth:Number,expandColumnKey:jo,estimatedRowHeight:{...Ee.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:G(Function)},onRowHover:{type:G(Function)},onRowHeightChange:{type:G(Function)},rowData:{type:G(Object),required:!0},rowEventHandlers:{type:G(Object)},rowIndex:{type:Number,required:!0},rowKey:Pt,style:{type:G(Object)}}),gt={type:Number,required:!0},yt=Le({class:String,columns:qe,fixedHeaderData:{type:G(Array)},headerData:{type:G(Array),required:!0},headerHeight:{type:G([Number,Array]),default:50},rowWidth:gt,rowHeight:{type:Number,default:50},height:gt,width:gt}),ot=Le({columns:qe,data:Gt,fixedData:pt,estimatedRowHeight:Oe.estimatedRowHeight,width:We,height:We,headerWidth:We,headerHeight:yt.headerHeight,bodyWidth:We,rowHeight:We,cache:Eo.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Ee.scrollbarAlwaysOn,scrollbarStartGap:Ee.scrollbarStartGap,scrollbarEndGap:Ee.scrollbarEndGap,class:kt,style:$t,containerStyle:$t,getRowHeight:{type:G(Function),required:!0},rowKey:Oe.rowKey,onRowsRendered:{type:G(Function)},onScroll:{type:G(Function)}}),Vo=Le({cache:ot.cache,estimatedRowHeight:Oe.estimatedRowHeight,rowKey:Pt,headerClass:{type:G([String,Function])},headerProps:{type:G([Object,Function])},headerCellProps:{type:G([Object,Function])},headerHeight:yt.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:G([String,Function])},rowProps:{type:G([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:G([Object,Function])},columns:qe,data:Gt,dataGetter:{type:G(Function)},fixedData:pt,expandColumnKey:Oe.expandColumnKey,expandedRowKeys:Nt,defaultExpandedRowKeys:Nt,class:kt,fixed:Boolean,style:{type:G(Object)},width:We,height:We,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Ee.hScrollbarSize,vScrollbarSize:Ee.vScrollbarSize,scrollbarAlwaysOn:Mo.alwaysOn,sortBy:{type:G(Object),default:()=>({})},sortState:{type:G(Object),default:void 0},onColumnSort:{type:G(Function)},onExpandedRowsChange:{type:G(Function)},onEndReached:{type:G(Function)},onRowExpand:Oe.onRowExpand,onScroll:ot.onScroll,onRowsRendered:ot.onRowsRendered,rowEventHandlers:Oe.rowEventHandlers}),ko=Ie({name:"ElTableV2Header",props:yt,setup(e,{slots:t,expose:l}){const r=ke("table-v2"),n=ct("tableV2GridScrollLeft"),a=Y(),i=M(()=>xe({width:e.width,height:e.height})),s=M(()=>xe({width:e.rowWidth,height:e.height})),f=M(()=>ho(o(e.headerHeight))),u=R=>{const A=o(a);Ge(()=>{A!=null&&A.scroll&&A.scroll({left:R})})},d=()=>{const R=r.e("fixed-header-row"),{columns:A,fixedHeaderData:W,rowHeight:c}=e;return W==null?void 0:W.map((N,V)=>{var $;const U=xe({height:c,width:"100%"});return($=t.fixed)==null?void 0:$.call(t,{class:R,columns:A,rowData:N,rowIndex:-(V+1),style:U})})},y=()=>{const R=r.e("dynamic-header-row"),{columns:A}=e;return o(f).map((W,c)=>{var N;const V=xe({width:"100%",height:W});return(N=t.dynamic)==null?void 0:N.call(t,{class:R,columns:A,headerIndex:c,style:V})})};return mo(()=>{n!=null&&n.value&&u(n.value)}),l({scrollToLeft:u}),()=>{if(!(e.height<=0))return K("div",{ref:a,class:e.class,style:o(i),role:"rowgroup"},[K("div",{style:o(s),class:r.e("header")},[y(),d()])])}}});var Go=ko;const Bt=({name:e,clearCache:t,getColumnPosition:l,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:n,getEstimatedTotalHeight:a,getEstimatedTotalWidth:i,getColumnOffset:s,getRowOffset:f,getRowPosition:u,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:y,initCache:R,injectToInstance:A,validateProps:W})=>Ie({name:e??"ElVirtualList",props:Ee,emits:[Wt,Ot],setup(c,{emit:N,expose:V,slots:$}){const U=ke("vl");W(c);const k=it(),S=Y(R(c,k));A==null||A(k,S);const T=Y(),P=Y(),q=Y(),J=Y(null),D=Y({isScrolling:!1,scrollLeft:ne(c.initScrollLeft)?c.initScrollLeft:0,scrollTop:ne(c.initScrollTop)?c.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Je,yAxisScrollDir:Je}),X=Wo(),Q=M(()=>Number.parseInt(`${c.height}`,10)),C=M(()=>Number.parseInt(`${c.width}`,10)),j=M(()=>{const{totalColumn:h,totalRow:w,columnCache:m}=c,{isScrolling:H,xAxisScrollDir:g,scrollLeft:b}=o(D);if(h===0||w===0)return[0,0,0,0];const x=r(c,b,o(S)),I=n(c,x,b,o(S)),v=H&&g!==Kt?1:Math.max(1,m),E=H&&g!==Je?1:Math.max(1,m);return[Math.max(0,x-v),Math.max(0,Math.min(h-1,I+E)),x,I]}),_=M(()=>{const{totalColumn:h,totalRow:w,rowCache:m}=c,{isScrolling:H,yAxisScrollDir:g,scrollTop:b}=o(D);if(h===0||w===0)return[0,0,0,0];const x=d(c,b,o(S)),I=y(c,x,b,o(S)),v=H&&g!==Kt?1:Math.max(1,m),E=H&&g!==Je?1:Math.max(1,m);return[Math.max(0,x-v),Math.max(0,Math.min(w-1,I+E)),x,I]}),Z=M(()=>a(c,o(S))),le=M(()=>i(c,o(S))),me=M(()=>{var h;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:ne(c.height)?`${c.height}px`:c.height,width:ne(c.width)?`${c.width}px`:c.width},(h=c.style)!=null?h:{}]}),ve=M(()=>{const h=`${o(le)}px`;return{height:`${o(Z)}px`,pointerEvents:o(D).isScrolling?"none":void 0,width:h}}),fe=()=>{const{totalColumn:h,totalRow:w}=c;if(h>0&&w>0){const[I,v,E,F]=o(j),[L,p,O,B]=o(_);N(Wt,{columnCacheStart:I,columnCacheEnd:v,rowCacheStart:L,rowCacheEnd:p,columnVisibleStart:E,columnVisibleEnd:F,rowVisibleStart:O,rowVisibleEnd:B})}const{scrollLeft:m,scrollTop:H,updateRequested:g,xAxisScrollDir:b,yAxisScrollDir:x}=o(D);N(Ot,{xAxisScrollDir:b,scrollLeft:m,yAxisScrollDir:x,scrollTop:H,updateRequested:g})},de=h=>{const{clientHeight:w,clientWidth:m,scrollHeight:H,scrollLeft:g,scrollTop:b,scrollWidth:x}=h.currentTarget,I=o(D);if(I.scrollTop===b&&I.scrollLeft===g)return;let v=g;if(Lt(c.direction))switch(Dt()){case At:v=-g;break;case Do:v=x-m-g}D.value={...I,isScrolling:!0,scrollLeft:v,scrollTop:Math.max(0,Math.min(b,H-w)),updateRequested:!0,xAxisScrollDir:_e(I.scrollLeft,v),yAxisScrollDir:_e(I.scrollTop,b)},Ge(()=>Re()),Ke(),fe()},be=(h,w)=>{const m=o(Q),H=(Z.value-m)/w*h;se({scrollTop:Math.min(Z.value-m,H)})},ye=(h,w)=>{const m=o(C),H=(le.value-m)/w*h;se({scrollLeft:Math.min(le.value-m,H)})},{onWheel:ue}=(({atXEndEdge:h,atXStartEdge:w,atYEndEdge:m,atYStartEdge:H},g)=>{let b=null,x=0,I=0;const v=(E,F)=>{const L=E<=0&&w.value||E>=0&&h.value,p=F<=0&&H.value||F>=0&&m.value;return L&&p};return{hasReachedEdge:v,onWheel:E=>{fo(b);let F=E.deltaX,L=E.deltaY;Math.abs(F)>Math.abs(L)?L=0:F=0,E.shiftKey&&L!==0&&(F=L,L=0),v(x,I)&&v(x+F,I+L)||(x+=F,I+=L,E.preventDefault(),b=wo(()=>{g(x,I),x=0,I=0}))}}})({atXStartEdge:M(()=>D.value.scrollLeft<=0),atXEndEdge:M(()=>D.value.scrollLeft>=le.value-o(C)),atYStartEdge:M(()=>D.value.scrollTop<=0),atYEndEdge:M(()=>D.value.scrollTop>=Z.value-o(Q))},(h,w)=>{var m,H,g,b;(H=(m=P.value)==null?void 0:m.onMouseUp)==null||H.call(m),(b=(g=q.value)==null?void 0:g.onMouseUp)==null||b.call(g);const x=o(C),I=o(Q);se({scrollLeft:Math.min(D.value.scrollLeft+h,le.value-x),scrollTop:Math.min(D.value.scrollTop+w,Z.value-I)})});po(T,"wheel",ue,{passive:!1});const se=({scrollLeft:h=D.value.scrollLeft,scrollTop:w=D.value.scrollTop})=>{h=Math.max(h,0),w=Math.max(w,0);const m=o(D);w===m.scrollTop&&h===m.scrollLeft||(D.value={...m,xAxisScrollDir:_e(m.scrollLeft,h),yAxisScrollDir:_e(m.scrollTop,w),scrollLeft:h,scrollTop:w,updateRequested:!0},Ge(()=>Re()),Ke(),fe())},he=(h,w)=>{const{columnWidth:m,direction:H,rowHeight:g}=c,b=X.value(t&&m,t&&g,t&&H),x=`${h},${w}`;if(vo(b,x))return b[x];{const[,I]=l(c,w,o(S)),v=o(S),E=Lt(H),[F,L]=u(c,h,v),[p]=l(c,w,v);return b[x]={position:"absolute",left:E?void 0:`${I}px`,right:E?`${I}px`:void 0,top:`${L}px`,height:`${F}px`,width:`${p}px`},b[x]}},Re=()=>{D.value.isScrolling=!1,Ge(()=>{X.value(-1,null,null)})};dt(()=>{if(!go)return;const{initScrollLeft:h,initScrollTop:w}=c,m=o(T);m&&(ne(h)&&(m.scrollLeft=h),ne(w)&&(m.scrollTop=w)),fe()});const Ke=()=>{const{direction:h}=c,{scrollLeft:w,scrollTop:m,updateRequested:H}=o(D),g=o(T);if(H&&g){if(h===Oo)switch(Dt()){case At:g.scrollLeft=-w;break;case Ko:g.scrollLeft=w;break;default:{const{clientWidth:b,scrollWidth:x}=g;g.scrollLeft=x-b-w;break}}else g.scrollLeft=Math.max(0,w);g.scrollTop=Math.max(0,m)}},{resetAfterColumnIndex:Se,resetAfterRowIndex:Fe,resetAfter:je}=k.proxy;V({windowRef:T,innerRef:J,getItemStyleCache:X,scrollTo:se,scrollToItem:(h=0,w=0,m=et)=>{const H=o(D);w=Math.max(0,Math.min(w,c.totalColumn-1)),h=Math.max(0,Math.min(h,c.totalRow-1));const g=yo(U.namespace.value),b=o(S),x=a(c,b),I=i(c,b);se({scrollLeft:s(c,w,m,H.scrollLeft,b,I>c.width?g:0),scrollTop:f(c,h,m,H.scrollTop,b,x>c.height?g:0)})},states:D,resetAfterColumnIndex:Se,resetAfterRowIndex:Fe,resetAfter:je});const z=()=>{const h=Ht(c.innerElement),w=(()=>{var m;const[H,g]=o(j),[b,x]=o(_),{data:I,totalColumn:v,totalRow:E,useIsScrolling:F,itemKey:L}=c,p=[];if(E>0&&v>0)for(let O=b;O<=x;O++)for(let B=H;B<=g;B++){const re=L({columnIndex:B,data:I,rowIndex:O});p.push(Ce(xo,{key:re},(m=$.default)==null?void 0:m.call($,{columnIndex:B,data:I,isScrolling:F?o(D).isScrolling:void 0,style:he(O,B),rowIndex:O})))}return p})();return[Ce(h,{style:o(ve),ref:J},Ct(h)?w:{default:()=>w})]};return()=>{const h=Ht(c.containerElement),{horizontalScrollbar:w,verticalScrollbar:m}=(()=>{const{scrollbarAlwaysOn:g,scrollbarStartGap:b,scrollbarEndGap:x,totalColumn:I,totalRow:v}=c,E=o(C),F=o(Q),L=o(le),p=o(Z),{scrollLeft:O,scrollTop:B}=o(D);return{horizontalScrollbar:Ce(zt,{ref:P,alwaysOn:g,startGap:b,endGap:x,class:U.e("horizontal"),clientSize:E,layout:"horizontal",onScroll:ye,ratio:100*E/L,scrollFrom:O/(L-E),total:v,visible:!0}),verticalScrollbar:Ce(zt,{ref:q,alwaysOn:g,startGap:b,endGap:x,class:U.e("vertical"),clientSize:F,layout:"vertical",onScroll:be,ratio:100*F/p,scrollFrom:B/(p-F),total:I,visible:!0})}})(),H=z();return Ce("div",{key:0,class:U.e("wrapper"),role:c.role},[Ce(h,{class:c.className,style:o(me),onScroll:de,ref:T},Ct(h)?H:{default:()=>H}),w,m])}}}),{max:lt,min:qt,floor:Ut}=Math,Xt="ElDynamicSizeGrid",No={column:"columnWidth",row:"rowHeight"},xt={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},ge=(e,t,l,r)=>{const[n,a,i]=[l[r],e[No[r]],l[xt[r]]];if(t>i){let s=0;if(i>=0){const f=n[i];s=f.offset+f.size}for(let f=i+1;f<=t;f++){const u=a(f);n[f]={offset:s,size:u},s+=u}l[xt[r]]=t}return n[t]},Yt=(e,t,l,r,n,a)=>{for(;l<=r;){const i=l+Ut((r-l)/2),s=ge(e,i,t,a).offset;if(s===n)return i;s<n?l=i+1:r=i-1}return lt(0,l-1)},Qt=(e,t,l,r)=>{const[n,a]=[t[r],t[xt[r]]];return(a>0?n[a].offset:0)>=l?Yt(e,t,0,a,l,r):((i,s,f,u,d)=>{const y=d==="column"?i.totalColumn:i.totalRow;let R=1;for(;f<y&&ge(i,f,s,d).offset<u;)f+=R,R*=2;return Yt(i,s,Ut(f/2),qt(f,y-1),u,d)})(e,t,lt(0,a),l,r)},Zt=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:l,row:r})=>{let n=0;if(l>=e&&(l=e-1),l>=0){const a=r[l];n=a.offset+a.size}return n+(e-l-1)*t},Jt=({totalColumn:e},{column:t,estimatedColumnWidth:l,lastVisitedColumnIndex:r})=>{let n=0;if(r>e&&(r=e-1),r>=0){const a=t[r];n=a.offset+a.size}return n+(e-r-1)*l},Po={column:Jt,row:Zt},_t=(e,t,l,r,n,a,i)=>{const[s,f]=[a==="row"?e.height:e.width,Po[a]],u=ge(e,t,n,a),d=f(e,n),y=lt(0,qt(d-s,u.offset)),R=lt(0,u.offset-s+i+u.size);switch(l===jt&&(l=r>=R-s&&r<=y+s?et:ze),l){case ht:return y;case ut:return R;case ze:return Math.round(R+(y-R)/2);default:return r>=R&&r<=y?r:R>y||r<R?R:y}},$o=Bt({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,l)=>{const r=ge(e,t,l,"column");return[r.size,r.offset]},getRowPosition:(e,t,l)=>{const r=ge(e,t,l,"row");return[r.size,r.offset]},getColumnOffset:(e,t,l,r,n,a)=>_t(e,t,l,r,n,"column",a),getRowOffset:(e,t,l,r,n,a)=>_t(e,t,l,r,n,"row",a),getColumnStartIndexForOffset:(e,t,l)=>Qt(e,l,t,"column"),getColumnStopIndexForStartIndex:(e,t,l,r)=>{const n=ge(e,t,r,"column"),a=l+e.width;let i=n.offset+n.size,s=t;for(;s<e.totalColumn-1&&i<a;)s++,i+=ge(e,t,r,"column").size;return s},getEstimatedTotalHeight:Zt,getEstimatedTotalWidth:Jt,getRowStartIndexForOffset:(e,t,l)=>Qt(e,l,t,"row"),getRowStopIndexForStartIndex:(e,t,l,r)=>{const{totalRow:n,height:a}=e,i=ge(e,t,r,"row"),s=l+a;let f=i.size+i.offset,u=t;for(;u<n-1&&f<s;)u++,f+=ge(e,u,r,"row").size;return u},injectToInstance:(e,t)=>{const l=({columnIndex:r,rowIndex:n},a)=>{var i,s;a=!!bo(a)||a,ne(r)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,r-1)),ne(n)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,n-1)),(i=e.exposed)==null||i.getItemStyleCache.value(-1,null,null),a&&((s=e.proxy)==null||s.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(r,n)=>{l({columnIndex:r},n)},resetAfterRowIndex:(r,n)=>{l({rowIndex:r},n)},resetAfter:l})},initCache:({estimatedColumnWidth:e=Ft,estimatedRowHeight:t=Ft})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{Ve(e)||Ze(Xt,`
          "columnWidth" must be passed as function,
            instead ${typeof e} was given.
        `),Ve(t)||Ze(Xt,`
          "rowHeight" must be passed as function,
            instead ${typeof t} was given.
        `)}}),eo="ElFixedSizeGrid",Bo=Bt({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:l},r,n,a,i,s)=>{l=Number(l);const f=Math.max(0,e*t-l),u=Math.min(f,r*t),d=Math.max(0,r*t-l+s+t);switch(n==="smart"&&(n=a>=d-l&&a<=u+l?et:ze),n){case ht:return u;case ut:return d;case ze:{const y=Math.round(d+(u-d)/2);return y<Math.ceil(l/2)?0:y>f+Math.floor(l/2)?f:y}default:return a>=d&&a<=u?a:d>u||a<d?d:u}},getRowOffset:({rowHeight:e,height:t,totalRow:l},r,n,a,i,s)=>{t=Number(t);const f=Math.max(0,l*e-t),u=Math.min(f,r*e),d=Math.max(0,r*e-t+s+e);switch(n===jt&&(n=a>=d-t&&a<=u+t?et:ze),n){case ht:return u;case ut:return d;case ze:{const y=Math.round(d+(u-d)/2);return y<Math.ceil(t/2)?0:y>f+Math.floor(t/2)?f:y}default:return a>=d&&a<=u?a:d>u||a<d?d:u}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:l},r,n)=>{const a=r*e,i=Math.ceil((l+n-a)/e);return Math.max(0,Math.min(t-1,r+i-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:l},r,n)=>{const a=r*e,i=Math.ceil((l+n-a)/e);return Math.max(0,Math.min(t-1,r+i-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{ne(e)||Ze(eo,`
          "columnWidth" must be passed as number,
            instead ${typeof e} was given.
        `),ne(t)||Ze(eo,`
          "columnWidth" must be passed as number,
            instead ${typeof t} was given.
        `)}}),qo=Ie({name:"ElTableV2Grid",props:ot,setup(e,{slots:t,expose:l}){const{ns:r}=ct(wt),{bodyRef:n,fixedRowHeight:a,gridHeight:i,hasHeader:s,headerRef:f,headerHeight:u,totalHeight:d,forceUpdate:y,itemKey:R,onItemRendered:A,resetAfterRowIndex:W,scrollTo:c,scrollToTop:N,scrollToRow:V,scrollLeft:$}=(k=>{const S=Y(),T=Y(),P=Y(0),q=M(()=>{const{data:C,rowHeight:j,estimatedRowHeight:_}=k;if(!_)return C.length*j}),J=M(()=>{const{fixedData:C,rowHeight:j}=k;return((C==null?void 0:C.length)||0)*j}),D=M(()=>tt(k.headerHeight)),X=M(()=>{const{height:C}=k;return Math.max(0,C-o(D)-o(J))}),Q=M(()=>o(D)+o(J)>0);return{bodyRef:T,forceUpdate:function(){var C,j;(C=o(T))==null||C.$forceUpdate(),(j=o(S))==null||j.$forceUpdate()},fixedRowHeight:J,gridHeight:X,hasHeader:Q,headerHeight:D,headerRef:S,totalHeight:q,itemKey:({data:C,rowIndex:j})=>C[j][k.rowKey],onItemRendered:function({rowCacheStart:C,rowCacheEnd:j,rowVisibleStart:_,rowVisibleEnd:Z}){var le;(le=k.onRowsRendered)==null||le.call(k,{rowCacheStart:C,rowCacheEnd:j,rowVisibleStart:_,rowVisibleEnd:Z})},resetAfterRowIndex:function(C,j){var _;(_=T.value)==null||_.resetAfterRowIndex(C,j)},scrollTo:function(C,j){const _=o(S),Z=o(T);st(C)?(_==null||_.scrollToLeft(C.scrollLeft),P.value=C.scrollLeft,Z==null||Z.scrollTo(C)):(_==null||_.scrollToLeft(C),P.value=C,Z==null||Z.scrollTo({scrollLeft:C,scrollTop:j}))},scrollToTop:function(C){var j;(j=o(T))==null||j.scrollTo({scrollTop:C})},scrollToRow:function(C,j){var _;(_=o(T))==null||_.scrollToItem(C,1,j)},scrollLeft:P}})(e);It("tableV2GridScrollLeft",$),l({forceUpdate:y,totalHeight:d,scrollTo:c,scrollToTop:N,scrollToRow:V,resetAfterRowIndex:W});const U=()=>e.bodyWidth;return()=>{const{cache:k,columns:S,data:T,fixedData:P,useIsScrolling:q,scrollbarAlwaysOn:J,scrollbarEndGap:D,scrollbarStartGap:X,style:Q,rowHeight:C,bodyWidth:j,estimatedRowHeight:_,headerWidth:Z,height:le,width:me,getRowHeight:ve,onScroll:fe}=e,de=ne(_),be=de?$o:Bo,ye=o(u);return K("div",{role:"table",class:[r.e("table"),e.class],style:Q},[K(be,{ref:n,data:T,useIsScrolling:q,itemKey:R,columnCache:0,columnWidth:de?U:j,totalColumn:1,totalRow:T.length,rowCache:k,rowHeight:de?ve:C,width:me,height:o(i),class:r.e("body"),role:"rowgroup",scrollbarStartGap:X,scrollbarEndGap:D,scrollbarAlwaysOn:J,onScroll:fe,onItemRendered:A,perfMode:!1},{default:ue=>{var se;const he=T[ue.rowIndex];return(se=t.row)==null?void 0:se.call(t,{...ue,columns:S,rowData:he})}}),o(s)&&K(Go,{ref:f,class:r.e("header-wrapper"),columns:S,headerData:T,headerHeight:e.headerHeight,fixedHeaderData:P,rowWidth:Z,rowHeight:C,width:me,height:Math.min(ye+o(a),le)},{dynamic:t.header,fixed:t.row})])}}});var vt=qo,Uo=(e,{slots:t})=>{const{mainTableRef:l,...r}=e;return K(vt,oe({ref:l},r),typeof(n=t)=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!He(n)?t:{default:()=>[t]});var n},Xo=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:l,...r}=e;return K(vt,oe({ref:l},r),typeof(n=t)=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!He(n)?t:{default:()=>[t]});var n},Yo=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:l,...r}=e;return K(vt,oe({ref:l},r),typeof(n=t)=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!He(n)?t:{default:()=>[t]});var n};const Qo=e=>{const{isScrolling:t}=ct(wt),l=Y(!1),r=Y(),n=M(()=>ne(e.estimatedRowHeight)&&e.rowIndex>=0),a=M(()=>{const{rowData:i,rowIndex:s,rowKey:f,onRowHover:u}=e,d=e.rowEventHandlers||{},y={};return Object.entries(d).forEach(([R,A])=>{Ve(A)&&(y[R]=W=>{A({event:W,rowData:i,rowIndex:s,rowKey:f})})}),u&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:R,hovered:A})=>{const W=y[R];y[R]=c=>{u({event:c,hovered:A,rowData:i,rowIndex:s,rowKey:f}),W==null||W(c)}}),y});return dt(()=>{o(n)&&((i=!1)=>{const s=o(r);if(!s)return;const{columns:f,onRowHeightChange:u,rowKey:d,rowIndex:y,style:R}=e,{height:A}=s.getBoundingClientRect();l.value=!0,Ge(()=>{if(i||A!==Number.parseInt(R.height)){const W=f[0],c=(W==null?void 0:W.placeholderSign)===Be;u==null||u({rowKey:d,height:A,rowIndex:y},W&&!c&&W.fixed)}})})(!0)}),{isScrolling:t,measurable:n,measured:l,rowRef:r,eventHandlers:a,onExpand:i=>{const{onRowExpand:s,rowData:f,rowIndex:u,rowKey:d}=e;s==null||s({expanded:i,rowData:f,rowIndex:u,rowKey:d})}}},Zo=Ie({name:"ElTableV2TableRow",props:Oe,setup(e,{expose:t,slots:l,attrs:r}){const{eventHandlers:n,isScrolling:a,measurable:i,measured:s,rowRef:f,onExpand:u}=Qo(e);return t({onExpand:u}),()=>{const{columns:d,columnsStyles:y,expandColumnKey:R,depth:A,rowData:W,rowIndex:c,style:N}=e;let V=d.map(($,U)=>{const k=Ae(W.children)&&W.children.length>0&&$.key===R;return l.cell({column:$,columns:d,columnIndex:U,depth:A,style:y[$.key],rowData:W,rowIndex:c,isScrolling:o(a),expandIconProps:k?{rowData:W,rowIndex:c,onExpand:u}:void 0})});if(l.row&&(V=l.row({cells:V.map($=>Ae($)&&$.length===1?$[0]:$),style:N,columns:d,depth:A,rowData:W,rowIndex:c,isScrolling:o(a)})),o(i)){const{height:$,...U}=N||{},k=o(s);return K("div",oe({ref:f,class:e.class,style:k?N:U,role:"row"},r,o(n)),[V])}return K("div",oe(r,{ref:f,class:e.class,style:N,role:"row"},o(n)),[V])}}});var Jo=Zo,_o=(e,{slots:t})=>{const{columns:l,columnsStyles:r,depthMap:n,expandColumnKey:a,expandedRowKeys:i,estimatedRowHeight:s,hasFixedColumns:f,rowData:u,rowIndex:d,style:y,isScrolling:R,rowProps:A,rowClass:W,rowKey:c,rowEventHandlers:N,ns:V,onRowHovered:$,onRowExpanded:U}=e,k=Me(W,{columns:l,rowData:u,rowIndex:d},""),S=Me(A,{columns:l,rowData:u,rowIndex:d}),T=u[c],P=n[T]||0,q=!!a,J=d<0,D=[V.e("row"),k,{[V.e(`row-depth-${P}`)]:q&&d>=0,[V.is("expanded")]:q&&i.includes(T),[V.is("fixed")]:!P&&J,[V.is("customized")]:!!t.row}],X=f?$:void 0,Q={...S,columns:l,columnsStyles:r,class:D,depth:P,expandColumnKey:a,estimatedRowHeight:J?void 0:s,isScrolling:R,rowIndex:d,rowData:u,rowKey:T,rowEventHandlers:N,style:y};return K(Jo,oe(Q,{onRowExpand:U,onMouseenter:j=>{X==null||X({hovered:!0,rowKey:T,event:j,rowData:u,rowIndex:d})},onMouseleave:j=>{X==null||X({hovered:!1,rowKey:T,event:j,rowData:u,rowIndex:d})},rowkey:T}),typeof(C=t)=="function"||Object.prototype.toString.call(C)==="[object Object]"&&!He(C)?t:{default:()=>[t]});var C};const bt=(e,{slots:t})=>{var l;const{cellData:r,style:n}=e,a=((l=r==null?void 0:r.toString)==null?void 0:l.call(r))||"",i=Ne(t,"default",e,()=>[a]);return K("div",{class:e.class,title:a,style:n},[i])};bt.displayName="ElTableV2Cell",bt.inheritAttrs=!1;var el=bt,tl=e=>{const{expanded:t,expandable:l,onExpand:r,style:n,size:a}=e,i={onClick:l?()=>r(!t):void 0,class:e.class};return K(Et,oe(i,{size:a,style:n}),{default:()=>[K(Ro,null,null)]})};const to=({columns:e,column:t,columnIndex:l,depth:r,expandIconProps:n,isScrolling:a,rowData:i,rowIndex:s,style:f,expandedRowKeys:u,ns:d,cellProps:y,expandColumnKey:R,indentSize:A,iconSize:W,rowKey:c},{slots:N})=>{const V=xe(f);if(t.placeholderSign===Be)return K("div",{class:d.em("row-cell","placeholder"),style:V},null);const{cellRenderer:$,dataKey:U,dataGetter:k}=t,S=Ve(k)?k({columns:e,column:t,columnIndex:l,rowData:i,rowIndex:s}):So(i,U??""),T=Me(y,{cellData:S,columns:e,column:t,columnIndex:l,rowIndex:s,rowData:i}),P={class:d.e("cell-text"),columns:e,column:t,columnIndex:l,cellData:S,isScrolling:a,rowData:i,rowIndex:s},q=Vt($),J=q?q(P):Ne(N,"default",P,()=>[K(el,P,null)]),D=[d.e("row-cell"),t.class,t.align===$e.CENTER&&d.is("align-center"),t.align===$e.RIGHT&&d.is("align-right")],X=s>=0&&R&&t.key===R,Q=s>=0&&u.includes(i[c]);let C;const j=`margin-inline-start: ${r*A}px;`;return X&&(C=st(n)?K(tl,oe(n,{class:[d.e("expand-icon"),d.is("expanded",Q)],size:W,expanded:Q,style:j,expandable:!0}),null):K("div",{style:[j,`width: ${W}px; height: ${W}px;`].join(" ")},null)),K("div",oe({class:D,style:V},T,{role:"cell"}),[C,J])};to.inheritAttrs=!1;var oo=to;const ol=Le({class:String,columns:qe,columnsStyles:{type:G(Object),required:!0},headerIndex:Number,style:{type:G(Object)}}),ll=Ie({name:"ElTableV2HeaderRow",props:ol,setup:(e,{slots:t})=>()=>{const{columns:l,columnsStyles:r,headerIndex:n,style:a}=e;let i=l.map((s,f)=>t.cell({columns:l,column:s,columnIndex:f,headerIndex:n,style:r[s.key]}));return t.header&&(i=t.header({cells:i.map(s=>Ae(s)&&s.length===1?s[0]:s),columns:l,headerIndex:n})),K("div",{class:e.class,style:a,role:"row"},[i])}});var rl=ll,nl=({columns:e,columnsStyles:t,headerIndex:l,style:r,headerClass:n,headerProps:a,ns:i},{slots:s})=>{const f={columns:e,headerIndex:l},u=[i.e("header-row"),Me(n,f,""),{[i.is("customized")]:!!s.header}],d={...Me(a,f),columnsStyles:t,class:u,columns:e,headerIndex:l,style:r};return K(rl,d,typeof(y=s)=="function"||Object.prototype.toString.call(y)==="[object Object]"&&!He(y)?s:{default:()=>[s]});var y};const Rt=(e,{slots:t})=>Ne(t,"default",e,()=>{var l,r;return[K("div",{class:e.class,title:(l=e.column)==null?void 0:l.title},[(r=e.column)==null?void 0:r.title])]});Rt.displayName="ElTableV2HeaderCell",Rt.inheritAttrs=!1;var al=Rt,sl=e=>{const{sortOrder:t}=e;return K(Et,{size:14,class:e.class},{default:()=>[t===Pe.ASC?K(To,null,null):K(Ho,null,null)]})},lo=(e,{slots:t})=>{const{column:l,ns:r,style:n,onColumnSorted:a}=e,i=xe(n);if(l.placeholderSign===Be)return K("div",{class:r.em("header-row-cell","placeholder"),style:i},null);const{headerCellRenderer:s,headerClass:f,sortable:u}=l,d={...e,class:r.e("header-cell-text")},y=Vt(s),R=y?y(d):Ne(t,"default",d,()=>[K(al,d,null)]),{sortBy:A,sortState:W,headerCellProps:c}=e;let N,V;if(W){const k=W[l.key];N=!!ft[k],V=N?k:Pe.ASC}else N=l.key===A.key,V=N?A.order:Pe.ASC;const $=[r.e("header-cell"),Me(f,e,""),l.align===$e.CENTER&&r.is("align-center"),l.align===$e.RIGHT&&r.is("align-right"),u&&r.is("sortable")],U={...Me(c,e),onClick:l.sortable?a:void 0,class:$,style:i,"data-key":l.key};return K("div",oe(U,{role:"columnheader"}),[R,u&&K(sl,{class:[r.e("sort-icon"),N&&r.is("sorting")],sortOrder:V},null)])};const ro=(e,{slots:t})=>{var l;return K("div",{class:e.class,style:e.style},[(l=t.default)==null?void 0:l.call(t)])};ro.displayName="ElTableV2Footer";var il=ro;const no=(e,{slots:t})=>{const l=Ne(t,"default",{},()=>[K(Ao,null,null)]);return K("div",{class:e.class,style:e.style},[l])};no.displayName="ElTableV2Empty";var cl=no;const ao=(e,{slots:t})=>{var l;return K("div",{class:e.class,style:e.style},[(l=t.default)==null?void 0:l.call(t)])};ao.displayName="ElTableV2Overlay";var dl=ao;function Ue(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!He(e)}const ul=Ie({name:"ElTableV2",props:Vo,setup(e,{slots:t,expose:l}){const r=ke("table-v2"),{columnsStyles:n,fixedColumnsOnLeft:a,fixedColumnsOnRight:i,mainColumns:s,mainTableHeight:f,fixedTableHeight:u,leftTableWidth:d,rightTableWidth:y,data:R,depthMap:A,expandedRowKeys:W,hasFixedColumns:c,mainTableRef:N,leftTableRef:V,rightTableRef:$,isDynamic:U,isResetting:k,isScrolling:S,bodyWidth:T,emptyStyle:P,rootStyle:q,headerWidth:J,footerHeight:D,showEmpty:X,scrollTo:Q,scrollToLeft:C,scrollToTop:j,scrollToRow:_,getRowHeight:Z,onColumnSorted:le,onRowHeightChange:me,onRowHovered:ve,onRowExpanded:fe,onRowsRendered:de,onScroll:be,onVerticalScroll:ye}=Fo(e);return l({scrollTo:Q,scrollToLeft:C,scrollToTop:j,scrollToRow:_}),It(wt,{ns:r,isResetting:k,isScrolling:S}),()=>{const{cache:ue,cellProps:se,estimatedRowHeight:he,expandColumnKey:Re,fixedData:Ke,headerHeight:Se,headerClass:Fe,headerProps:je,headerCellProps:z,sortBy:h,sortState:w,rowHeight:m,rowClass:H,rowEventHandlers:g,rowKey:b,rowProps:x,scrollbarAlwaysOn:I,indentSize:v,iconSize:E,useIsScrolling:F,vScrollbarSize:L,width:p}=e,O=o(R),B={cache:ue,class:r.e("main"),columns:o(s),data:O,fixedData:Ke,estimatedRowHeight:he,bodyWidth:o(T)+L,headerHeight:Se,headerWidth:o(J),height:o(f),mainTableRef:N,rowKey:b,rowHeight:m,scrollbarAlwaysOn:I,scrollbarStartGap:2,scrollbarEndGap:L,useIsScrolling:F,width:p,getRowHeight:Z,onRowsRendered:de,onScroll:be},re=o(d),we=o(u),ee={cache:ue,class:r.e("left"),columns:o(a),data:O,estimatedRowHeight:he,leftTableRef:V,rowHeight:m,bodyWidth:re,headerWidth:re,headerHeight:Se,height:we,rowKey:b,scrollbarAlwaysOn:I,scrollbarStartGap:2,scrollbarEndGap:L,useIsScrolling:F,width:re,getRowHeight:Z,onScroll:ye},te=o(y)+L,ae={cache:ue,class:r.e("right"),columns:o(i),data:O,estimatedRowHeight:he,rightTableRef:$,rowHeight:m,bodyWidth:te,headerWidth:te,headerHeight:Se,height:we,rowKey:b,scrollbarAlwaysOn:I,scrollbarStartGap:2,scrollbarEndGap:L,width:te,style:`--${o(r.namespace)}-table-scrollbar-size: ${L}px`,useIsScrolling:F,getRowHeight:Z,onScroll:ye},ie=o(n),rt={ns:r,depthMap:o(A),columnsStyles:ie,expandColumnKey:Re,expandedRowKeys:o(W),estimatedRowHeight:he,hasFixedColumns:o(c),rowProps:x,rowClass:H,rowKey:b,rowEventHandlers:g,onRowHovered:ve,onRowExpanded:fe,onRowHeightChange:me},Xe={cellProps:se,expandColumnKey:Re,indentSize:v,iconSize:E,rowKey:b,expandedRowKeys:o(W),ns:r},nt={ns:r,headerClass:Fe,headerProps:je,columnsStyles:ie},St={ns:r,sortBy:h,sortState:w,headerCellProps:z,onColumnSorted:le},pe={row:at=>K(_o,oe(at,rt),{row:t.row,cell:ce=>{let Te;return t.cell?K(oo,oe(ce,Xe,{style:ie[ce.column.key]}),Ue(Te=t.cell(ce))?Te:{default:()=>[Te]}):K(oo,oe(ce,Xe,{style:ie[ce.column.key]}),null)}}),header:at=>K(nl,oe(at,nt),{header:t.header,cell:ce=>{let Te;return t["header-cell"]?K(lo,oe(ce,St,{style:ie[ce.column.key]}),Ue(Te=t["header-cell"](ce))?Te:{default:()=>[Te]}):K(lo,oe(ce,St,{style:ie[ce.column.key]}),null)}})},so=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:o(U)}],io={class:r.e("footer"),style:o(D)};return K("div",{class:so,style:o(q)},[K(Uo,B,Ue(pe)?pe:{default:()=>[pe]}),K(Xo,ee,Ue(pe)?pe:{default:()=>[pe]}),K(Yo,ae,Ue(pe)?pe:{default:()=>[pe]}),t.footer&&K(il,io,{default:t.footer}),o(X)&&K(cl,{class:r.e("empty"),style:o(P)},{default:t.empty}),t.overlay&&K(dl,{class:r.e("overlay")},{default:t.overlay})])}}});var hl=ul;const ml=Le({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:G(Function)}});var fl=Ie({name:"ElAutoResizer",props:ml,setup(e,{slots:t}){const l=ke("auto-resizer"),{height:r,width:n,sizer:a}=(s=>{const f=Y(),u=Y(0),d=Y(0);let y;return dt(()=>{y=Co(f,([R])=>{const{width:A,height:W}=R.contentRect,{paddingLeft:c,paddingRight:N,paddingTop:V,paddingBottom:$}=getComputedStyle(R.target),U=Number.parseInt(c)||0,k=Number.parseInt(N)||0,S=Number.parseInt(V)||0,T=Number.parseInt($)||0;u.value=A-U-k,d.value=W-S-T}).stop}),Io(()=>{y==null||y()}),Ye([u,d],([R,A])=>{var W;(W=s.onResize)==null||W.call(s,{width:R,height:A})}),{sizer:f,width:u,height:d}})(e),i={width:"100%",height:"100%"};return()=>{var s;return K("div",{ref:a,class:l.b(),style:i},[(s=t.default)==null?void 0:s.call(t,{height:r.value,width:n.value})])}}});const wl=Mt(hl),pl=Mt(fl);export{wl as E,mt as F,pl as a};
