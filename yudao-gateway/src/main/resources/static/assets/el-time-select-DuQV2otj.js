import{bb as z,bc as b,bD as F,cG as M,bB as k,bG as U,d as y,cv as S,cH as j,bd as E,r as G,cI as N,bV as q,b as i,o as f,q as p,w as v,a as c,bs as w,a2 as A,aZ as D,ah as K,c as P,F as Z,n as J,K as x,bf as L,bl as Q}from"./index-BaY5TDP-.js";const R=z({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:b(String),default:"light"},clearable:{type:Boolean,default:!0},size:F,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:b([String,Object]),default:()=>M},clearIcon:{type:b([String,Object]),default:()=>k},...U}),o=n=>{const u=(n||"").split(":");if(u.length>=2){let l=Number.parseInt(u[0],10);const s=Number.parseInt(u[1],10),t=n.toUpperCase();return t.includes("AM")&&l===12?l=0:t.includes("PM")&&l!==12&&(l+=12),{hours:l,minutes:s}}return null},h=(n,u)=>{const l=o(n);if(!l)return-1;const s=o(u);if(!s)return-1;const t=l.minutes+60*l.hours,d=s.minutes+60*s.hours;return t===d?0:t>d?1:-1},I=n=>`${n}`.padStart(2,"0"),m=n=>`${I(n.hours)}:${I(n.minutes)}`,W=(n,u)=>{const l=o(n);if(!l)return"";const s=o(u);if(!s)return"";const t={hours:l.hours,minutes:l.minutes};return t.minutes+=s.minutes,t.hours+=s.hours,t.hours+=Math.floor(t.minutes/60),t.minutes=t.minutes%60,m(t)},X=y({name:"ElTimeSelect"}),Y=Q(L(y({...X,props:R,emits:["change","blur","focus","clear","update:modelValue"],setup(n,{expose:u}){const l=n;S.extend(j);const{Option:s}=x,t=E("input"),d=G(),V=N(),{lang:$}=q(),C=i(()=>l.modelValue),B=i(()=>{const e=o(l.start);return e?m(e):null}),g=i(()=>{const e=o(l.end);return e?m(e):null}),H=i(()=>{const e=o(l.step);return e?m(e):null}),T=i(()=>{const e=o(l.minTime||"");return e?m(e):null}),O=i(()=>{const e=o(l.maxTime||"");return e?m(e):null}),_=i(()=>{const e=[];if(l.start&&l.end&&l.step){let r,a=B.value;for(;a&&g.value&&h(a,g.value)<=0;)r=S(a,"HH:mm").locale($.value).format(l.format),e.push({value:r,disabled:h(a,T.value||"-1:-1")<=0||h(a,O.value||"100:100")>=0}),a=W(a,H.value)}return e});return u({blur:()=>{var e,r;(r=(e=d.value)==null?void 0:e.blur)==null||r.call(e)},focus:()=>{var e,r;(r=(e=d.value)==null?void 0:e.focus)==null||r.call(e)}}),(e,r)=>(f(),p(c(x),{ref_key:"select",ref:d,"model-value":c(C),disabled:c(V),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"empty-values":e.emptyValues,"value-on-clear":e.valueOnClear,"onUpdate:modelValue":a=>e.$emit("update:modelValue",a),onChange:a=>e.$emit("change",a),onBlur:a=>e.$emit("blur",a),onFocus:a=>e.$emit("focus",a),onClear:()=>e.$emit("clear")},{prefix:v(()=>[e.prefixIcon?(f(),p(c(w),{key:0,class:A(c(t).e("prefix-icon"))},{default:v(()=>[(f(),p(D(e.prefixIcon)))]),_:1},8,["class"])):K("v-if",!0)]),default:v(()=>[(f(!0),P(Z,null,J(c(_),a=>(f(),p(c(s),{key:a.value,label:a.value,value:a.value,disabled:a.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}}),[["__file","time-select.vue"]]));export{Y as E};
