import{d as Y,D as M,g as N,r as d,f as O,C as I,G as Q,U as R,_ as z,X as L,o as m,c as w,k as a,w as l,Y as E,F as q,n as A,q as c,m as f,I as b,Z as H,L as K,J as j,K as X,M as G,z as J,N as Z,O as B,P as W,Q as $,R as ee}from"./index-BaY5TDP-.js";import{_ as ae}from"./index-avjYFQiD.js";import{_ as te}from"./DictTag-QtcI9ZjC.js";import{_ as re}from"./ContentWrap-DKQn7kZm.js";import{_ as le}from"./index-BAz6Gqim.js";import{d as se}from"./formatTime-Dr6TiYYc.js";import{b as ne,d as oe}from"./index-C3konCuC.js";import ie from"./TenantPackageForm-C2x5SpAF.js";import"./index-DrSdAlug.js";import"./color-BN7ZL7BD.js";import"./Dialog-CZSXtzfQ.js";import"./constants-CEEr2azc.js";import"./tree-z7HkrWVC.js";import"./index-cImR9iDp.js";const me=z(Y({name:"SystemTenantPackage",__name:"index",setup(C,{expose:t}){t();const y=M(),{t:e}=N(),g=d(!0),h=d(0),_=d([]),p=O({pageNo:1,pageSize:10,name:void 0,status:void 0,remark:void 0,createTime:[]}),n=d(),o=async()=>{g.value=!0;try{const s=await ne(p);_.value=s.list,h.value=s.total}finally{g.value=!1}},P=d();I(()=>{o()});const v={message:y,t:e,loading:g,total:h,list:_,queryParams:p,queryFormRef:n,getList:o,handleQuery:()=>{p.pageNo=1,o()},resetQuery:()=>{var s;(s=n.value)==null||s.resetFields(),o()},formRef:P,openForm:(s,i)=>{P.value.open(s,i)},handleDelete:async s=>{try{await y.delConfirm(),await oe(s),y.success(e("common.delSuccess")),await o()}catch{}},get DICT_TYPE(){return Q},get getIntDictOptions(){return R},get dateFormatter(){return se},TenantPackageForm:ie};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),[["render",function(C,t,y,e,g,h){const _=le,p=H,n=K,o=j,P=X,v=G,s=J,i=Z,S=B,T=re,u=W,x=te,F=$,D=ae,k=L("hasPermi"),U=ee;return m(),w(q,null,[a(_,{title:"SaaS \u591A\u79DF\u6237",url:"https://doc.iocoder.cn/saas-tenant/"}),a(T,null,{default:l(()=>[a(S,{class:"-mb-15px",model:e.queryParams,ref:"queryFormRef",inline:!0,"label-width":"68px"},{default:l(()=>[a(n,{label:"\u5957\u9910\u540D",prop:"name"},{default:l(()=>[a(p,{modelValue:e.queryParams.name,"onUpdate:modelValue":t[0]||(t[0]=r=>e.queryParams.name=r),placeholder:"\u8BF7\u8F93\u5165\u5957\u9910\u540D",clearable:"",onKeyup:E(e.handleQuery,["enter"]),class:"!w-240px"},null,8,["modelValue"])]),_:1}),a(n,{label:"\u72B6\u6001",prop:"status"},{default:l(()=>[a(P,{modelValue:e.queryParams.status,"onUpdate:modelValue":t[1]||(t[1]=r=>e.queryParams.status=r),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",clearable:"",class:"!w-240px"},{default:l(()=>[(m(!0),w(q,null,A(e.getIntDictOptions(e.DICT_TYPE.COMMON_STATUS),r=>(m(),c(o,{key:r.value,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{default:l(()=>[a(v,{modelValue:e.queryParams.createTime,"onUpdate:modelValue":t[2]||(t[2]=r=>e.queryParams.createTime=r),type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F",class:"!w-240px"},null,8,["modelValue"])]),_:1}),a(n,null,{default:l(()=>[a(i,{onClick:e.handleQuery},{default:l(()=>[a(s,{icon:"ep:search",class:"mr-5px"}),t[6]||(t[6]=f(" \u641C\u7D22"))]),_:1}),a(i,{onClick:e.resetQuery},{default:l(()=>[a(s,{icon:"ep:refresh",class:"mr-5px"}),t[7]||(t[7]=f(" \u91CD\u7F6E"))]),_:1}),b((m(),c(i,{type:"primary",plain:"",onClick:t[3]||(t[3]=r=>e.openForm("create"))},{default:l(()=>[a(s,{icon:"ep:plus",class:"mr-5px"}),t[8]||(t[8]=f(" \u65B0\u589E "))]),_:1})),[[k,["system:tenant-package:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),a(T,null,{default:l(()=>[b((m(),c(F,{data:e.list},{default:l(()=>[a(u,{label:"\u5957\u9910\u7F16\u53F7",align:"center",prop:"id",width:"120"}),a(u,{label:"\u5957\u9910\u540D",align:"center",prop:"name"}),a(u,{label:"\u72B6\u6001",align:"center",prop:"status",width:"100"},{default:l(r=>[a(x,{type:e.DICT_TYPE.COMMON_STATUS,value:r.row.status},null,8,["type","value"])]),_:1}),a(u,{label:"\u5907\u6CE8",align:"center",prop:"remark"}),a(u,{label:"\u521B\u5EFA\u65F6\u95F4",align:"center",prop:"createTime",width:"180",formatter:e.dateFormatter},null,8,["formatter"]),a(u,{label:"\u64CD\u4F5C",align:"center","class-name":"small-padding fixed-width"},{default:l(r=>[b((m(),c(i,{link:"",type:"primary",onClick:V=>e.openForm("update",r.row.id)},{default:l(()=>t[9]||(t[9]=[f(" \u4FEE\u6539 ")])),_:2},1032,["onClick"])),[[k,["system:tenant-package:update"]]]),b((m(),c(i,{link:"",type:"danger",onClick:V=>e.handleDelete(r.row.id)},{default:l(()=>t[10]||(t[10]=[f(" \u5220\u9664 ")])),_:2},1032,["onClick"])),[[k,["system:tenant-package:delete"]]])]),_:1})]),_:1},8,["data"])),[[U,e.loading]]),a(D,{total:e.total,page:e.queryParams.pageNo,"onUpdate:page":t[4]||(t[4]=r=>e.queryParams.pageNo=r),limit:e.queryParams.pageSize,"onUpdate:limit":t[5]||(t[5]=r=>e.queryParams.pageSize=r),onPagination:e.getList},null,8,["total","page","limit"])]),_:1}),a(e.TenantPackageForm,{ref:"formRef",onSuccess:e.getList},null,512)],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/system/tenantPackage/index.vue"]]);export{me as default};
