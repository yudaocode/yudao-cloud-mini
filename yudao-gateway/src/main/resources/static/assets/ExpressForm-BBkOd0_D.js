import{d as T,g as w,D as F,r as i,f as h,G as q,U as C,_ as L,o as _,q as V,w as s,k as t,m as D,I as O,j as S,c as k,F as I,n as R,t as N,Z as j,L as A,co as P,cf as B,ak as M,al as Y,O as z,N as G,R as Z}from"./index-BaY5TDP-.js";import{_ as H}from"./Dialog-CZSXtzfQ.js";import{C as U}from"./constants-CEEr2azc.js";import{a as J,c as K,u as Q}from"./index-MboYiMOx.js";const W=L(T({name:"ExpressForm",__name:"ExpressForm",emits:["success"],setup(E,{expose:l,emit:y}){const{t:e}=w(),f=F(),c=i(!1),m=i(""),r=i(!1),d=i(""),o=i({id:void 0,code:"",name:"",logo:"",sort:0,status:U.ENABLE}),b=h({code:[{required:!0,message:"\u5FEB\u9012\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],name:[{required:!0,message:"\u5206\u7C7B\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],logo:[{required:!0,message:"\u5206\u7C7B\u56FE\u7247\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sort:[{required:!0,message:"\u5206\u7C7B\u6392\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u5F00\u542F\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),u=i(),p=async(a,x)=>{if(c.value=!0,m.value=e("action."+a),d.value=a,g(),x){r.value=!0;try{o.value=await J(x)}finally{r.value=!1}}};l({open:p});const n=y,g=()=>{var a;o.value={id:void 0,name:"",picUrl:"",status:U.ENABLE},(a=u.value)==null||a.resetFields()},v={t:e,message:f,dialogVisible:c,dialogTitle:m,formLoading:r,formType:d,formData:o,formRules:b,formRef:u,open:p,emit:n,submitForm:async()=>{if(u&&await u.value.validate()){r.value=!0;try{const a=o.value;d.value==="create"?(await K(a),f.success(e("common.createSuccess"))):(await Q(a),f.success(e("common.updateSuccess"))),c.value=!1,n("success")}finally{r.value=!1}}},resetForm:g,get DICT_TYPE(){return q},get getIntDictOptions(){return C}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),[["render",function(E,l,y,e,f,c){const m=j,r=A,d=P,o=B,b=M,u=Y,p=z,n=G,g=H,v=Z;return _(),V(g,{title:e.dialogTitle,modelValue:e.dialogVisible,"onUpdate:modelValue":l[6]||(l[6]=a=>e.dialogVisible=a)},{footer:s(()=>[t(n,{onClick:e.submitForm,type:"primary",disabled:e.formLoading},{default:s(()=>l[8]||(l[8]=[D("\u786E \u5B9A")])),_:1},8,["disabled"]),t(n,{onClick:l[5]||(l[5]=a=>e.dialogVisible=!1)},{default:s(()=>l[9]||(l[9]=[D("\u53D6 \u6D88")])),_:1})]),default:s(()=>[O((_(),V(p,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"120px"},{default:s(()=>[t(r,{label:"\u516C\u53F8\u7F16\u7801",prop:"code"},{default:s(()=>[t(m,{modelValue:e.formData.code,"onUpdate:modelValue":l[0]||(l[0]=a=>e.formData.code=a),placeholder:"\u8BF7\u8F93\u5165\u5FEB\u9012\u7F16\u7801"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u516C\u53F8\u540D\u79F0",prop:"name"},{default:s(()=>[t(m,{modelValue:e.formData.name,"onUpdate:modelValue":l[1]||(l[1]=a=>e.formData.name=a),placeholder:"\u8BF7\u8F93\u5165\u5FEB\u9012\u540D\u79F0"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u516C\u53F8 logo",prop:"logo"},{default:s(()=>[t(d,{modelValue:e.formData.logo,"onUpdate:modelValue":l[2]||(l[2]=a=>e.formData.logo=a),limit:1,"is-show-tip":!1},null,8,["modelValue"]),l[7]||(l[7]=S("div",{style:{"font-size":"10px"},class:"pl-10px"},"\u63A8\u8350 180x180 \u56FE\u7247\u5206\u8FA8\u7387",-1))]),_:1}),t(r,{label:"\u6392\u5E8F",prop:"sort"},{default:s(()=>[t(o,{modelValue:e.formData.sort,"onUpdate:modelValue":l[3]||(l[3]=a=>e.formData.sort=a),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),t(r,{label:"\u5F00\u542F\u72B6\u6001",prop:"status"},{default:s(()=>[t(u,{modelValue:e.formData.status,"onUpdate:modelValue":l[4]||(l[4]=a=>e.formData.status=a)},{default:s(()=>[(_(!0),k(I,null,R(e.getIntDictOptions(e.DICT_TYPE.COMMON_STATUS),a=>(_(),V(b,{key:a.value,value:a.value},{default:s(()=>[D(N(a.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[v,e.formLoading]])]),_:1},8,["title","modelValue"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/trade/delivery/express/ExpressForm.vue"]]);export{W as default};
