import{d as I,g as h,D as R,r as i,f as U,_ as x,o as _,q as D,w as u,k as s,m as k,I as L,Z as S,L as q,O as P,N as T,R as C}from"./index-BaY5TDP-.js";import{_ as O}from"./Dialog-CZSXtzfQ.js";import{h as j,c as N,u as Z}from"./property-Ddjv43NP.js";const z=x(I({name:"ProductPropertyValueForm",__name:"ValueForm",emits:["success"],setup(w,{expose:a,emit:v}){const{t:e}=h(),n=R(),f=i(!1),m=i(""),o=i(!1),p=i(""),r=i({id:void 0,propertyId:void 0,name:"",remark:""}),c=U({propertyId:[{required:!0,message:"\u5C5E\u6027\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],name:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),d=i(),l=async(t,F,b)=>{if(f.value=!0,m.value=e("action."+t),p.value=t,g(),r.value.propertyId=F,b){o.value=!0;try{r.value=await j(b)}finally{o.value=!1}}};a({open:l});const y=v,g=()=>{var t;r.value={id:void 0,propertyId:void 0,name:"",remark:""},(t=d.value)==null||t.resetFields()},V={t:e,message:n,dialogVisible:f,dialogTitle:m,formLoading:o,formType:p,formData:r,formRules:c,formRef:d,open:l,emit:y,submitForm:async()=>{if(d&&await d.value.validate()){o.value=!0;try{const t=r.value;p.value==="create"?(await N(t),n.success(e("common.createSuccess"))):(await Z(t),n.success(e("common.updateSuccess"))),f.value=!1,y("success")}finally{o.value=!1}}},resetForm:g};return Object.defineProperty(V,"__isScriptSetup",{enumerable:!1,value:!0}),V}}),[["render",function(w,a,v,e,n,f){const m=S,o=q,p=P,r=T,c=O,d=C;return _(),D(c,{modelValue:e.dialogVisible,"onUpdate:modelValue":a[4]||(a[4]=l=>e.dialogVisible=l),title:e.dialogTitle},{footer:u(()=>[s(r,{disabled:e.formLoading,type:"primary",onClick:e.submitForm},{default:u(()=>a[5]||(a[5]=[k("\u786E \u5B9A")])),_:1},8,["disabled"]),s(r,{onClick:a[3]||(a[3]=l=>e.dialogVisible=!1)},{default:u(()=>a[6]||(a[6]=[k("\u53D6 \u6D88")])),_:1})]),default:u(()=>[L((_(),D(p,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"80px"},{default:u(()=>[s(o,{label:"\u5C5E\u6027\u7F16\u53F7",prop:"category"},{default:u(()=>[s(m,{modelValue:e.formData.propertyId,"onUpdate:modelValue":a[0]||(a[0]=l=>e.formData.propertyId=l),disabled:""},null,8,["modelValue"])]),_:1}),s(o,{label:"\u540D\u79F0",prop:"name"},{default:u(()=>[s(m,{modelValue:e.formData.name,"onUpdate:modelValue":a[1]||(a[1]=l=>e.formData.name=l),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),s(o,{label:"\u5907\u6CE8",prop:"remark"},{default:u(()=>[s(m,{modelValue:e.formData.remark,"onUpdate:modelValue":a[2]||(a[2]=l=>e.formData.remark=l),placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[d,e.formLoading]])]),_:1},8,["modelValue","title"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mall/product/property/value/ValueForm.vue"]]);export{z as default};
