import{fg as H,aM as z,aN as J,fh as V,fi as Q,fj as W,fk as X,fl as Z,d as ee,r as h,ao as ae,fm as te,_ as ne,o as _,c as y,k as f,w as o,m as P,j as G,F as x,n as k,q as D,a2 as pe,t as E,ah as le,N as se,aq as ie,aK as oe,L as ue,O as re}from"./index-BaY5TDP-.js";import{_ as de}from"./Dialog-CZSXtzfQ.js";import ce from"./ProductCategorySelect-ClWAu1VZ.js";var me=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Y(e){return me.test(e)}var w="\\ud800-\\udfff",fe="["+w+"]",R="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",b="\\ud83c[\\udffb-\\udfff]",K="[^"+w+"]",M="(?:\\ud83c[\\udde6-\\uddff]){2}",j="[\\ud800-\\udbff][\\udc00-\\udfff]",B="(?:"+R+"|"+b+")?",q="[\\ufe0e\\ufe0f]?",ge=q+B+("(?:\\u200d(?:"+[K,M,j].join("|")+")"+q+B+")*"),he="(?:"+[K+R+"?",R,M,j,fe].join("|")+")",_e=RegExp(b+"(?="+b+")|"+he+ge,"g");function Te(e){return Y(e)?function(t){return t.match(_e)||[]}(e):function(t){return t.split("")}(e)}var $=V&&V.isRegExp,ve=$?Q($):function(e){return z(e)&&J(e)=="[object RegExp]"};function F(e,t,i){return i&&typeof i!="number"&&Z(e,t,i)&&(t=i=void 0),(i=i===void 0?4294967295:i>>>0)?(e=W(e))&&(typeof t=="string"||t!=null&&!ve(t))&&!(t=X(t))&&Y(e)?(a=Te(e),s=0,u=i,r=a.length,u=u===void 0?r:u,!s&&u>=r?a:H(a,s,u)):e.split(t,i):[];var a,s,u,r}var U=(e=>(e[e.ACTIVITY_COMBINATION=0]="ACTIVITY_COMBINATION",e[e.ACTIVITY_SECKILL=1]="ACTIVITY_SECKILL",e[e.ACTIVITY_POINT=2]="ACTIVITY_POINT",e[e.ARTICLE_DETAIL=3]="ARTICLE_DETAIL",e[e.COUPON_DETAIL=4]="COUPON_DETAIL",e[e.DIY_PAGE_DETAIL=5]="DIY_PAGE_DETAIL",e[e.PRODUCT_CATEGORY_LIST=6]="PRODUCT_CATEGORY_LIST",e[e.PRODUCT_LIST=7]="PRODUCT_LIST",e[e.PRODUCT_DETAIL_NORMAL=8]="PRODUCT_DETAIL_NORMAL",e[e.PRODUCT_DETAIL_COMBINATION=9]="PRODUCT_DETAIL_COMBINATION",e[e.PRODUCT_DETAIL_SECKILL=10]="PRODUCT_DETAIL_SECKILL",e))(U||{});const N=[{name:"\u5546\u57CE",links:[{name:"\u9996\u9875",path:"/pages/index/index"},{name:"\u5546\u54C1\u5206\u7C7B",path:"/pages/index/category",type:6},{name:"\u8D2D\u7269\u8F66",path:"/pages/index/cart"},{name:"\u4E2A\u4EBA\u4E2D\u5FC3",path:"/pages/index/user"},{name:"\u5546\u54C1\u641C\u7D22",path:"/pages/index/search"},{name:"\u81EA\u5B9A\u4E49\u9875\u9762",path:"/pages/index/page",type:5},{name:"\u5BA2\u670D",path:"/pages/chat/index"},{name:"\u7CFB\u7EDF\u8BBE\u7F6E",path:"/pages/public/setting"},{name:"\u5E38\u89C1\u95EE\u9898",path:"/pages/public/faq"}]},{name:"\u5546\u54C1",links:[{name:"\u5546\u54C1\u5217\u8868",path:"/pages/goods/list",type:7},{name:"\u5546\u54C1\u8BE6\u60C5",path:"/pages/goods/index",type:8},{name:"\u62FC\u56E2\u5546\u54C1\u8BE6\u60C5",path:"/pages/goods/groupon",type:9},{name:"\u79D2\u6740\u5546\u54C1\u8BE6\u60C5",path:"/pages/goods/seckill",type:10}]},{name:"\u8425\u9500\u6D3B\u52A8",links:[{name:"\u62FC\u56E2\u8BA2\u5355",path:"/pages/activity/groupon/order"},{name:"\u8425\u9500\u5546\u54C1",path:"/pages/activity/index"},{name:"\u62FC\u56E2\u6D3B\u52A8",path:"/pages/activity/groupon/list",type:0},{name:"\u79D2\u6740\u6D3B\u52A8",path:"/pages/activity/seckill/list",type:1},{name:"\u79EF\u5206\u5546\u57CE\u6D3B\u52A8",path:"/pages/activity/point/list",type:2},{name:"\u7B7E\u5230\u4E2D\u5FC3",path:"/pages/app/sign"},{name:"\u4F18\u60E0\u5238\u4E2D\u5FC3",path:"/pages/coupon/list"},{name:"\u4F18\u60E0\u5238\u8BE6\u60C5",path:"/pages/coupon/detail",type:4},{name:"\u6587\u7AE0\u8BE6\u60C5",path:"/pages/public/richtext",type:3}]},{name:"\u5206\u9500\u5546\u57CE",links:[{name:"\u5206\u9500\u4E2D\u5FC3",path:"/pages/commission/index"},{name:"\u63A8\u5E7F\u5546\u54C1",path:"/pages/commission/goods"},{name:"\u5206\u9500\u8BA2\u5355",path:"/pages/commission/order"},{name:"\u6211\u7684\u56E2\u961F",path:"/pages/commission/team"}]},{name:"\u652F\u4ED8",links:[{name:"\u5145\u503C\u4F59\u989D",path:"/pages/pay/recharge"},{name:"\u5145\u503C\u8BB0\u5F55",path:"/pages/pay/recharge-log"}]},{name:"\u7528\u6237\u4E2D\u5FC3",links:[{name:"\u7528\u6237\u4FE1\u606F",path:"/pages/user/info"},{name:"\u7528\u6237\u8BA2\u5355",path:"/pages/order/list"},{name:"\u552E\u540E\u8BA2\u5355",path:"/pages/order/aftersale/list"},{name:"\u5546\u54C1\u6536\u85CF",path:"/pages/user/goods-collect"},{name:"\u6D4F\u89C8\u8BB0\u5F55",path:"/pages/user/goods-log"},{name:"\u5730\u5740\u7BA1\u7406",path:"/pages/user/address/list"},{name:"\u7528\u6237\u4F63\u91D1",path:"/pages/user/wallet/commission"},{name:"\u7528\u6237\u4F59\u989D",path:"/pages/user/wallet/money"},{name:"\u7528\u6237\u79EF\u5206",path:"/pages/user/wallet/score"}]}],Ie={class:"h-500px flex gap-8px"},Le=ne(ee({name:"AppLinkSelectDialog",__name:"AppLinkSelectDialog",emits:["change","appLinkChange"],setup(e,{expose:t,emit:i}){const a=h(N[0].name),s=h({}),u=h(!1),r=n=>{s.value.path=n,u.value=!0;const l=N.find(m=>m.links.some(d=>{const C=c(d.path,n);return C&&(s.value={...d,path:n}),C}));l&&ae(()=>A(l.name))};t({open:r});const T=i,I=h([]),L=h(),A=n=>{var m;a.value=n;const l=I.value.find(d=>d.textContent===n);l&&((m=L.value)==null||m.setScrollTop(l.offsetTop))},S=h(),p=h([]),v=n=>{var m;const l=p.value.map(d=>d.ref).find(d=>d.textContent===n);l&&((m=S.value)==null||m.setScrollTop(l.offsetTop))},c=(n,l)=>F(n,"?",1)[0]===F(l,"?",1)[0],g=h({visible:!1,id:void 0,type:void 0}),O={activeGroup:a,activeAppLink:s,dialogVisible:u,open:r,handleAppLinkSelected:n=>{c(n.path,s.value.path)||(s.value=n),n.type===U.PRODUCT_CATEGORY_LIST&&(g.value.visible=!0,g.value.type=n.type,g.value.id=te("id","http://127.0.0.1"+s.value.path)||void 0)},emit:T,handleSubmit:()=>{u.value=!1,T("change",s.value.path),T("appLinkChange",s.value)},groupTitleRefs:I,handleScroll:({scrollTop:n})=>{const l=I.value.find(m=>{const{offsetHeight:d,offsetTop:C}=m;return n>=C&&n<C+d});l&&a.value!==l.textContent&&(a.value=l.textContent||"",v(a.value))},linkScrollbar:L,handleGroupSelected:A,groupScrollbar:S,groupBtnRefs:p,scrollToGroupBtn:v,isSameLink:c,detailSelectDialog:g,handleProductCategorySelected:n=>{const l=new URL(s.value.path,"http://127.0.0.1");l.searchParams.set("id",`${n}`),s.value.path=`${l.pathname}${l.search}`,g.value.visible=!1,g.value.id=void 0},get APP_LINK_GROUP_LIST(){return N},get APP_LINK_TYPE_ENUM(){return U},ProductCategorySelect:ce};return Object.defineProperty(O,"__isScriptSetup",{enumerable:!1,value:!0}),O}}),[["render",function(e,t,i,a,s,u){const r=se,T=ie,I=oe,L=de,A=ue,S=re;return _(),y(x,null,[f(L,{modelValue:a.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=p=>a.dialogVisible=p),title:"\u9009\u62E9\u94FE\u63A5",width:"65%"},{footer:o(()=>[f(r,{type:"primary",onClick:a.handleSubmit},{default:o(()=>t[4]||(t[4]=[P("\u786E \u5B9A")])),_:1}),f(r,{onClick:t[0]||(t[0]=p=>a.dialogVisible=!1)},{default:o(()=>t[5]||(t[5]=[P("\u53D6 \u6D88")])),_:1})]),default:o(()=>[G("div",Ie,[f(T,{"wrap-class":"h-full",ref:"groupScrollbar","view-class":"flex flex-col"},{default:o(()=>[(_(!0),y(x,null,k(a.APP_LINK_GROUP_LIST,(p,v)=>(_(),D(r,{key:v,class:pe(["m-r-16px m-l-0px! justify-start! w-90px",{active:a.activeGroup===p.name}]),ref_for:!0,ref:"groupBtnRefs",text:a.activeGroup!==p.name,type:a.activeGroup===p.name?"primary":"default",onClick:c=>a.handleGroupSelected(p.name)},{default:o(()=>[P(E(p.name),1)]),_:2},1032,["class","text","type","onClick"]))),128))]),_:1},512),f(T,{class:"h-full flex-1",onScroll:a.handleScroll,ref:"linkScrollbar"},{default:o(()=>[(_(!0),y(x,null,k(a.APP_LINK_GROUP_LIST,(p,v)=>(_(),y("div",{key:v},[G("div",{class:"font-bold",ref_for:!0,ref:"groupTitleRefs"},E(p.name),513),(_(!0),y(x,null,k(p.links,(c,g)=>(_(),D(I,{key:g,content:c.path,placement:"bottom","show-after":300},{default:o(()=>[f(r,{class:"m-b-8px m-r-8px m-l-0px!",type:a.isSameLink(c.path,a.activeAppLink.path)?"primary":"default",onClick:O=>a.handleAppLinkSelected(c)},{default:o(()=>[P(E(c.name),1)]),_:2},1032,["type","onClick"])]),_:2},1032,["content"]))),128))]))),128))]),_:1},512)])]),_:1},8,["modelValue"]),f(L,{modelValue:a.detailSelectDialog.visible,"onUpdate:modelValue":t[3]||(t[3]=p=>a.detailSelectDialog.visible=p),title:"",width:"50%"},{default:o(()=>[f(S,{class:"min-h-200px"},{default:o(()=>[a.detailSelectDialog.type===a.APP_LINK_TYPE_ENUM.PRODUCT_CATEGORY_LIST?(_(),D(A,{key:0,label:"\u9009\u62E9\u5206\u7C7B"},{default:o(()=>[f(a.ProductCategorySelect,{modelValue:a.detailSelectDialog.id,"onUpdate:modelValue":[t[2]||(t[2]=p=>a.detailSelectDialog.id=p),a.handleProductCategorySelected],"parent-id":0},null,8,["modelValue"])]),_:1})):le("",!0)]),_:1})]),_:1},8,["modelValue"])],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/components/AppLinkInput/AppLinkSelectDialog.vue"]]);export{Le as _};
