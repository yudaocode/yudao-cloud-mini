import{d as Q,D as z,g as R,r as y,f as A,C as M,G as L,U as Y,_ as E,X as G,o,c as T,k as a,w as r,Y as j,F as k,n as F,q as c,m as u,I as w,j as K,t as x,Z as J,L as X,J as Z,K as W,z as B,N as H,O as $,P as ee,an as ae,Q as te,R as le}from"./index-BaY5TDP-.js";import{_ as re}from"./index-avjYFQiD.js";import{_ as se}from"./DictTag-QtcI9ZjC.js";import{_ as oe}from"./ContentWrap-DKQn7kZm.js";import{_ as ne}from"./index-BAz6Gqim.js";import{d as ie}from"./formatTime-Dr6TiYYc.js";import{g as ue,C as pe,d as de}from"./ClientForm-BlkOvfOB.js";import"./index-DrSdAlug.js";import"./color-BN7ZL7BD.js";import"./Dialog-CZSXtzfQ.js";import"./constants-CEEr2azc.js";const me=["src"],ce=E(Q({name:"SystemOAuth2Client",__name:"index",setup(O,{expose:l}){l();const g=z(),{t:e}=R(),_=y(!0),C=y(0),h=y([]),f=A({pageNo:1,pageSize:10,name:null,status:void 0}),p=y(),d=async()=>{_.value=!0;try{const i=await ue(f);h.value=i.list,C.value=i.total}finally{_.value=!1}},b=()=>{f.pageNo=1,d()},m=y();M(()=>{d()});const n={message:g,t:e,loading:_,total:C,list:h,queryParams:f,queryFormRef:p,getList:d,handleQuery:b,resetQuery:()=>{p.value.resetFields(),b()},formRef:m,openForm:(i,v)=>{m.value.open(i,v)},handleDelete:async i=>{try{await g.delConfirm(),await de(i),g.success(e("common.delSuccess")),await d()}catch{}},get DICT_TYPE(){return L},get getIntDictOptions(){return Y},get dateFormatter(){return ie},ClientForm:pe};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),[["render",function(O,l,g,e,_,C){const h=ne,f=J,p=X,d=Z,b=W,m=B,n=H,i=$,v=oe,s=ee,V=se,D=ae,N=te,U=re,S=G("hasPermi"),I=le;return o(),T(k,null,[a(h,{title:"OAuth 2.0\uFF08SSO \u5355\u70B9\u767B\u5F55)",url:"https://doc.iocoder.cn/oauth2/"}),a(v,null,{default:r(()=>[a(i,{class:"-mb-15px",model:e.queryParams,ref:"queryFormRef",inline:!0,"label-width":"68px"},{default:r(()=>[a(p,{label:"\u5E94\u7528\u540D",prop:"name"},{default:r(()=>[a(f,{modelValue:e.queryParams.name,"onUpdate:modelValue":l[0]||(l[0]=t=>e.queryParams.name=t),placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D",clearable:"",onKeyup:j(e.handleQuery,["enter"]),class:"!w-240px"},null,8,["modelValue"])]),_:1}),a(p,{label:"\u72B6\u6001",prop:"status"},{default:r(()=>[a(b,{modelValue:e.queryParams.status,"onUpdate:modelValue":l[1]||(l[1]=t=>e.queryParams.status=t),placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",clearable:"",class:"!w-240px"},{default:r(()=>[(o(!0),T(k,null,F(e.getIntDictOptions(e.DICT_TYPE.COMMON_STATUS),t=>(o(),c(d,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(p,null,{default:r(()=>[a(n,{onClick:e.handleQuery},{default:r(()=>[a(m,{icon:"ep:search",class:"mr-5px"}),l[5]||(l[5]=u(" \u641C\u7D22"))]),_:1}),a(n,{onClick:e.resetQuery},{default:r(()=>[a(m,{icon:"ep:refresh",class:"mr-5px"}),l[6]||(l[6]=u(" \u91CD\u7F6E"))]),_:1}),w((o(),c(n,{plain:"",type:"primary",onClick:l[2]||(l[2]=t=>e.openForm("create"))},{default:r(()=>[a(m,{icon:"ep:plus",class:"mr-5px"}),l[7]||(l[7]=u(" \u65B0\u589E "))]),_:1})),[[S,["system:oauth2-client:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),a(v,null,{default:r(()=>[w((o(),c(N,{data:e.list},{default:r(()=>[a(s,{label:"\u5BA2\u6237\u7AEF\u7F16\u53F7",align:"center",prop:"clientId"}),a(s,{label:"\u5BA2\u6237\u7AEF\u5BC6\u94A5",align:"center",prop:"secret"}),a(s,{label:"\u5E94\u7528\u540D",align:"center",prop:"name"}),a(s,{label:"\u5E94\u7528\u56FE\u6807",align:"center",prop:"logo"},{default:r(t=>[K("img",{width:"40px",height:"40px",src:t.row.logo},null,8,me)]),_:1}),a(s,{label:"\u72B6\u6001",align:"center",prop:"status"},{default:r(t=>[a(V,{type:e.DICT_TYPE.COMMON_STATUS,value:t.row.status},null,8,["type","value"])]),_:1}),a(s,{label:"\u8BBF\u95EE\u4EE4\u724C\u7684\u6709\u6548\u671F",align:"center",prop:"accessTokenValiditySeconds"},{default:r(t=>[u(x(t.row.accessTokenValiditySeconds)+" \u79D2",1)]),_:1}),a(s,{label:"\u5237\u65B0\u4EE4\u724C\u7684\u6709\u6548\u671F",align:"center",prop:"refreshTokenValiditySeconds"},{default:r(t=>[u(x(t.row.refreshTokenValiditySeconds)+" \u79D2",1)]),_:1}),a(s,{label:"\u6388\u6743\u7C7B\u578B",align:"center",prop:"authorizedGrantTypes"},{default:r(t=>[(o(!0),T(k,null,F(t.row.authorizedGrantTypes,(P,q)=>(o(),c(D,{"disable-transitions":!0,key:q,index:q,class:"mr-5px"},{default:r(()=>[u(x(P),1)]),_:2},1032,["index"]))),128))]),_:1}),a(s,{label:"\u521B\u5EFA\u65F6\u95F4",align:"center",prop:"createTime",width:"180",formatter:e.dateFormatter},null,8,["formatter"]),a(s,{label:"\u64CD\u4F5C",align:"center"},{default:r(t=>[w((o(),c(n,{link:"",type:"primary",onClick:P=>e.openForm("update",t.row.id)},{default:r(()=>l[8]||(l[8]=[u(" \u7F16\u8F91 ")])),_:2},1032,["onClick"])),[[S,["system:oauth2-client:update"]]]),w((o(),c(n,{link:"",type:"danger",onClick:P=>e.handleDelete(t.row.id)},{default:r(()=>l[9]||(l[9]=[u(" \u5220\u9664 ")])),_:2},1032,["onClick"])),[[S,["system:oauth2-client:delete"]]])]),_:1})]),_:1},8,["data"])),[[I,e.loading]]),a(U,{total:e.total,page:e.queryParams.pageNo,"onUpdate:page":l[3]||(l[3]=t=>e.queryParams.pageNo=t),limit:e.queryParams.pageSize,"onUpdate:limit":l[4]||(l[4]=t=>e.queryParams.pageSize=t),onPagination:e.getList},null,8,["total","page","limit"])]),_:1}),a(e.ClientForm,{ref:"formRef",onSuccess:e.getList},null,512)],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/system/oauth2/client/index.vue"]]);export{ce as default};
