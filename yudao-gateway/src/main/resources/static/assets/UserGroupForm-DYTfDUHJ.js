import{d as C,g as E,D as O,r as s,f as S,G as h,U as x,_ as q,o as m,q as V,w as t,k as r,m as y,I as R,c as T,F as k,n as w,t as G,Z as N,L as j,J as A,K as P,ak as B,al as M,O as Y,N as J,R as K}from"./index-BaY5TDP-.js";import{_ as Z}from"./Dialog-CZSXtzfQ.js";import{C as F}from"./constants-CEEr2azc.js";import{a as z,c as H,u as Q}from"./index-RbAZqEQx.js";import{g as W}from"./index-CuAlllbQ.js";const X=q(C({name:"UserGroupForm",__name:"UserGroupForm",emits:["success"],setup(L,{expose:l,emit:I}){const{t:e}=E(),c=O(),v=s(!1),n=s(""),o=s(!1),f=s(""),i=s({id:void 0,name:void 0,description:void 0,userIds:void 0,status:F.ENABLE}),D=S({name:[{required:!0,message:"\u7EC4\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],description:[{required:!0,message:"\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],userIds:[{required:!0,message:"\u6210\u5458\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),d=s(),g=s([]),p=async(u,U)=>{if(v.value=!0,n.value=e("action."+u),f.value=u,_(),U){o.value=!0;try{i.value=await z(U)}finally{o.value=!1}}g.value=await W()};l({open:p});const b=I,_=()=>{var u;i.value={id:void 0,name:void 0,description:void 0,userIds:void 0,status:F.ENABLE},(u=d.value)==null||u.resetFields()},a={t:e,message:c,dialogVisible:v,dialogTitle:n,formLoading:o,formType:f,formData:i,formRules:D,formRef:d,userList:g,open:p,emit:b,submitForm:async()=>{if(d&&await d.value.validate()){o.value=!0;try{const u=i.value;f.value==="create"?(await H(u),c.success(e("common.createSuccess"))):(await Q(u),c.success(e("common.updateSuccess"))),v.value=!1,b("success")}finally{o.value=!1}}},resetForm:_,get DICT_TYPE(){return h},get getIntDictOptions(){return x}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),[["render",function(L,l,I,e,c,v){const n=N,o=j,f=A,i=P,D=B,d=M,g=Y,p=J,b=Z,_=K;return m(),V(b,{modelValue:e.dialogVisible,"onUpdate:modelValue":l[5]||(l[5]=a=>e.dialogVisible=a),title:e.dialogTitle},{footer:t(()=>[r(p,{disabled:e.formLoading,type:"primary",onClick:e.submitForm},{default:t(()=>l[6]||(l[6]=[y("\u786E \u5B9A")])),_:1},8,["disabled"]),r(p,{onClick:l[4]||(l[4]=a=>e.dialogVisible=!1)},{default:t(()=>l[7]||(l[7]=[y("\u53D6 \u6D88")])),_:1})]),default:t(()=>[R((m(),V(g,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"100px"},{default:t(()=>[r(o,{label:"\u7EC4\u540D",prop:"name"},{default:t(()=>[r(n,{modelValue:e.formData.name,"onUpdate:modelValue":l[0]||(l[0]=a=>e.formData.name=a),placeholder:"\u8BF7\u8F93\u5165\u7EC4\u540D"},null,8,["modelValue"])]),_:1}),r(o,{label:"\u63CF\u8FF0"},{default:t(()=>[r(n,{modelValue:e.formData.description,"onUpdate:modelValue":l[1]||(l[1]=a=>e.formData.description=a),placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0",type:"textarea"},null,8,["modelValue"])]),_:1}),r(o,{label:"\u6210\u5458",prop:"userIds"},{default:t(()=>[r(i,{modelValue:e.formData.userIds,"onUpdate:modelValue":l[2]||(l[2]=a=>e.formData.userIds=a),multiple:"",placeholder:"\u8BF7\u9009\u62E9\u6210\u5458"},{default:t(()=>[(m(!0),T(k,null,w(e.userList,a=>(m(),V(f,{key:a.id,label:a.nickname,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(o,{label:"\u72B6\u6001",prop:"status"},{default:t(()=>[r(d,{modelValue:e.formData.status,"onUpdate:modelValue":l[3]||(l[3]=a=>e.formData.status=a)},{default:t(()=>[(m(!0),T(k,null,w(e.getIntDictOptions(e.DICT_TYPE.COMMON_STATUS),a=>(m(),V(D,{key:a.value,value:a.value},{default:t(()=>[y(G(a.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[_,e.formLoading]])]),_:1},8,["modelValue","title"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/bpm/group/UserGroupForm.vue"]]);export{X as default};
