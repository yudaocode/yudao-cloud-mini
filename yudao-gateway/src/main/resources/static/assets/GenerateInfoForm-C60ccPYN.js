import{d as F,D as S,r as C,f as G,au as R,C as Y,a as A,G as j,U as x,_ as K,o as m,q as i,w as e,k as l,c as y,F as D,n as V,j as p,m as s,ah as g,J as L,K as z,L as B,v as W,z as Z,aK as H,Z as Q,N as X,d6 as $,d7 as ee,d8 as le,E as ae,ak as ne,al as oe,O as ue}from"./index-BaY5TDP-.js";import{E as te}from"./el-tree-select-DphqCDCz.js";import{h as me}from"./tree-z7HkrWVC.js";import{a as de}from"./index-y1X-TRwf.js";import{g as se}from"./index-cImR9iDp.js";import{r}from"./formRules-CMjZInfO.js";const pe=K(F({name:"InfraCodegenGenerateInfoForm",__name:"GenerateInfoForm",props:{table:{type:Object,default:()=>null},columns:{type:Array,default:()=>null}},setup(h,{expose:a}){const P=S(),o=h,T=C(),v=C({templateType:null,frontType:null,scene:null,moduleName:"",businessName:"",className:"",classComment:"",parentMenuId:null,genPath:"",genType:"",masterTableId:void 0,subJoinColumnId:void 0,subJoinMany:void 0,treeParentColumnId:void 0,treeNameColumnId:void 0}),_=G({templateType:[r],frontType:[r],scene:[r],moduleName:[r],businessName:[r],businessPackage:[r],className:[r],classComment:[r],masterTableId:[r],subJoinColumnId:[r],subJoinMany:[r],treeParentColumnId:[r],treeNameColumnId:[r]}),c=C([]),d=C([]);R(()=>o.table,async u=>{u&&(v.value=u,u.dataSourceConfigId>=0&&(c.value=await de(v.value.dataSourceConfigId)))},{deep:!0,immediate:!0}),Y(async()=>{try{const u=await se();d.value=me(u)}catch{}}),a({validate:async()=>{var u;return(u=A(T))==null?void 0:u.validate()}});const t={message:P,props:o,formRef:T,formData:v,rules:_,tables:c,menus:d,menuTreeProps:{label:"name"},get DICT_TYPE(){return j},get getIntDictOptions(){return x}};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),[["render",function(h,a,P,o,T,v){const _=L,c=z,d=B,t=W,u=Z,f=H,U=te,I=Q,k=X,q=$,J=ee,O=le,N=ae,E=ne,M=oe,w=ue;return m(),i(w,{ref:"formRef",model:o.formData,rules:o.rules,"label-width":"150px"},{default:e(()=>[l(N,null,{default:e(()=>[l(t,{span:12},{default:e(()=>[l(d,{label:"\u751F\u6210\u6A21\u677F",prop:"templateType"},{default:e(()=>[l(c,{modelValue:o.formData.templateType,"onUpdate:modelValue":a[0]||(a[0]=n=>o.formData.templateType=n)},{default:e(()=>[(m(!0),y(D,null,V(o.getIntDictOptions(o.DICT_TYPE.INFRA_CODEGEN_TEMPLATE_TYPE),n=>(m(),i(_,{key:n.value,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(t,{span:12},{default:e(()=>[l(d,{label:"\u524D\u7AEF\u7C7B\u578B",prop:"frontType"},{default:e(()=>[l(c,{modelValue:o.formData.frontType,"onUpdate:modelValue":a[1]||(a[1]=n=>o.formData.frontType=n)},{default:e(()=>[(m(!0),y(D,null,V(o.getIntDictOptions(o.DICT_TYPE.INFRA_CODEGEN_FRONT_TYPE),n=>(m(),i(_,{key:n.value,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(t,{span:12},{default:e(()=>[l(d,{label:"\u751F\u6210\u573A\u666F",prop:"scene"},{default:e(()=>[l(c,{modelValue:o.formData.scene,"onUpdate:modelValue":a[2]||(a[2]=n=>o.formData.scene=n)},{default:e(()=>[(m(!0),y(D,null,V(o.getIntDictOptions(o.DICT_TYPE.INFRA_CODEGEN_SCENE),n=>(m(),i(_,{key:n.value,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(t,{span:12},{default:e(()=>[l(d,null,{label:e(()=>[p("span",null,[a[15]||(a[15]=s(" \u4E0A\u7EA7\u83DC\u5355 ")),l(f,{content:"\u5206\u914D\u5230\u6307\u5B9A\u83DC\u5355\u4E0B\uFF0C\u4F8B\u5982 \u7CFB\u7EDF\u7BA1\u7406",placement:"top"},{default:e(()=>[l(u,{icon:"ep:question-filled"})]),_:1})])]),default:e(()=>[l(U,{modelValue:o.formData.parentMenuId,"onUpdate:modelValue":a[3]||(a[3]=n=>o.formData.parentMenuId=n),data:o.menus,props:o.menuTreeProps,"check-strictly":"","node-key":"id",placeholder:"\u8BF7\u9009\u62E9\u7CFB\u7EDF\u83DC\u5355"},null,8,["modelValue","data"])]),_:1})]),_:1}),l(t,{span:12},{default:e(()=>[l(d,{prop:"moduleName"},{label:e(()=>[p("span",null,[a[16]||(a[16]=s(" \u6A21\u5757\u540D ")),l(f,{content:"\u6A21\u5757\u540D\uFF0C\u5373\u4E00\u7EA7\u76EE\u5F55\uFF0C\u4F8B\u5982 system\u3001infra\u3001tool \u7B49\u7B49",placement:"top"},{default:e(()=>[l(u,{icon:"ep:question-filled"})]),_:1})])]),default:e(()=>[l(I,{modelValue:o.formData.moduleName,"onUpdate:modelValue":a[4]||(a[4]=n=>o.formData.moduleName=n)},null,8,["modelValue"])]),_:1})]),_:1}),l(t,{span:12},{default:e(()=>[l(d,{prop:"businessName"},{label:e(()=>[p("span",null,[a[17]||(a[17]=s(" \u4E1A\u52A1\u540D ")),l(f,{content:"\u4E1A\u52A1\u540D\uFF0C\u5373\u4E8C\u7EA7\u76EE\u5F55\uFF0C\u4F8B\u5982 user\u3001permission\u3001dict \u7B49\u7B49",placement:"top"},{default:e(()=>[l(u,{icon:"ep:question-filled"})]),_:1})])]),default:e(()=>[l(I,{modelValue:o.formData.businessName,"onUpdate:modelValue":a[5]||(a[5]=n=>o.formData.businessName=n)},null,8,["modelValue"])]),_:1})]),_:1}),l(t,{span:12},{default:e(()=>[l(d,{prop:"className"},{label:e(()=>[p("span",null,[a[18]||(a[18]=s(" \u7C7B\u540D\u79F0 ")),l(f,{content:"\u7C7B\u540D\u79F0\uFF08\u9996\u5B57\u6BCD\u5927\u5199\uFF09\uFF0C\u4F8B\u5982SysUser\u3001SysMenu\u3001SysDictData \u7B49\u7B49",placement:"top"},{default:e(()=>[l(u,{icon:"ep:question-filled"})]),_:1})])]),default:e(()=>[l(I,{modelValue:o.formData.className,"onUpdate:modelValue":a[6]||(a[6]=n=>o.formData.className=n)},null,8,["modelValue"])]),_:1})]),_:1}),l(t,{span:12},{default:e(()=>[l(d,{prop:"classComment"},{label:e(()=>[p("span",null,[a[19]||(a[19]=s(" \u7C7B\u63CF\u8FF0 ")),l(f,{content:"\u7528\u4F5C\u7C7B\u63CF\u8FF0\uFF0C\u4F8B\u5982 \u7528\u6237",placement:"top"},{default:e(()=>[l(u,{icon:"ep:question-filled"})]),_:1})])]),default:e(()=>[l(I,{modelValue:o.formData.classComment,"onUpdate:modelValue":a[7]||(a[7]=n=>o.formData.classComment=n)},null,8,["modelValue"])]),_:1})]),_:1}),o.formData.genType==="1"?(m(),i(t,{key:0,span:24},{default:e(()=>[l(d,{prop:"genPath"},{label:e(()=>[p("span",null,[a[20]||(a[20]=s(" \u81EA\u5B9A\u4E49\u8DEF\u5F84 ")),l(f,{content:"\u586B\u5199\u78C1\u76D8\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u82E5\u4E0D\u586B\u5199\uFF0C\u5219\u751F\u6210\u5230\u5F53\u524DWeb\u9879\u76EE\u4E0B",placement:"top"},{default:e(()=>[l(u,{icon:"ep:question-filled"})]),_:1})])]),default:e(()=>[l(I,{modelValue:o.formData.genPath,"onUpdate:modelValue":a[9]||(a[9]=n=>o.formData.genPath=n)},{append:e(()=>[l(O,null,{dropdown:e(()=>[l(J,null,{default:e(()=>[l(q,{onClick:a[8]||(a[8]=n=>o.formData.genPath="/")},{default:e(()=>a[22]||(a[22]=[s(" \u6062\u590D\u9ED8\u8BA4\u7684\u751F\u6210\u57FA\u7840\u8DEF\u5F84 ")])),_:1})]),_:1})]),default:e(()=>[l(k,{type:"primary"},{default:e(()=>a[21]||(a[21]=[s(" \u6700\u8FD1\u8DEF\u5F84\u5FEB\u901F\u9009\u62E9 "),p("i",{class:"el-icon-arrow-down el-icon--right"},null,-1)])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):g("",!0)]),_:1}),o.formData.templateType==2?(m(),i(N,{key:0},{default:e(()=>[l(t,{span:24},{default:e(()=>a[23]||(a[23]=[p("h4",{class:"form-header"},"\u6811\u8868\u4FE1\u606F",-1)])),_:1}),l(t,{span:12},{default:e(()=>[l(d,{prop:"treeParentColumnId"},{label:e(()=>[p("span",null,[a[24]||(a[24]=s(" \u7236\u7F16\u53F7\u5B57\u6BB5 ")),l(f,{content:"\u6811\u663E\u793A\u7684\u7236\u7F16\u7801\u5B57\u6BB5\u540D\uFF0C \u5982\uFF1Aparent_Id",placement:"top"},{default:e(()=>[l(u,{icon:"ep:question-filled"})]),_:1})])]),default:e(()=>[l(c,{modelValue:o.formData.treeParentColumnId,"onUpdate:modelValue":a[10]||(a[10]=n=>o.formData.treeParentColumnId=n),placeholder:"\u8BF7\u9009\u62E9"},{default:e(()=>[(m(!0),y(D,null,V(o.props.columns,(n,b)=>(m(),i(_,{key:b,label:n.columnName+"\uFF1A"+n.columnComment,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(t,{span:12},{default:e(()=>[l(d,{prop:"treeNameColumnId"},{label:e(()=>[p("span",null,[a[25]||(a[25]=s(" \u6811\u540D\u79F0\u5B57\u6BB5 ")),l(f,{content:"\u6811\u8282\u70B9\u7684\u663E\u793A\u540D\u79F0\u5B57\u6BB5\u540D\uFF0C \u5982\uFF1Adept_name",placement:"top"},{default:e(()=>[l(u,{icon:"ep:question-filled"})]),_:1})])]),default:e(()=>[l(c,{modelValue:o.formData.treeNameColumnId,"onUpdate:modelValue":a[11]||(a[11]=n=>o.formData.treeNameColumnId=n),placeholder:"\u8BF7\u9009\u62E9"},{default:e(()=>[(m(!0),y(D,null,V(o.props.columns,(n,b)=>(m(),i(_,{key:b,label:n.columnName+"\uFF1A"+n.columnComment,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):g("",!0),o.formData.templateType==15?(m(),i(N,{key:1},{default:e(()=>[l(t,{span:24},{default:e(()=>a[26]||(a[26]=[p("h4",{class:"form-header"},"\u4E3B\u8868\u4FE1\u606F",-1)])),_:1}),l(t,{span:12},{default:e(()=>[l(d,{prop:"masterTableId"},{label:e(()=>[p("span",null,[a[27]||(a[27]=s(" \u5173\u8054\u7684\u4E3B\u8868 ")),l(f,{content:"\u5173\u8054\u4E3B\u8868\uFF08\u7236\u8868\uFF09\u7684\u8868\u540D\uFF0C \u5982\uFF1Asystem_user",placement:"top"},{default:e(()=>[l(u,{icon:"ep:question-filled"})]),_:1})])]),default:e(()=>[l(c,{modelValue:o.formData.masterTableId,"onUpdate:modelValue":a[12]||(a[12]=n=>o.formData.masterTableId=n),placeholder:"\u8BF7\u9009\u62E9"},{default:e(()=>[(m(!0),y(D,null,V(o.tables,(n,b)=>(m(),i(_,{key:b,label:n.tableName+"\uFF1A"+n.tableComment,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(t,{span:12},{default:e(()=>[l(d,{prop:"subJoinColumnId"},{label:e(()=>[p("span",null,[a[28]||(a[28]=s(" \u5B50\u8868\u5173\u8054\u7684\u5B57\u6BB5 ")),l(f,{content:"\u5B50\u8868\u5173\u8054\u7684\u5B57\u6BB5\uFF0C \u5982\uFF1Auser_id",placement:"top"},{default:e(()=>[l(u,{icon:"ep:question-filled"})]),_:1})])]),default:e(()=>[l(c,{modelValue:o.formData.subJoinColumnId,"onUpdate:modelValue":a[13]||(a[13]=n=>o.formData.subJoinColumnId=n),placeholder:"\u8BF7\u9009\u62E9"},{default:e(()=>[(m(!0),y(D,null,V(o.props.columns,(n,b)=>(m(),i(_,{key:b,label:n.columnName+"\uFF1A"+n.columnComment,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(t,{span:12},{default:e(()=>[l(d,{prop:"subJoinMany"},{label:e(()=>[p("span",null,[a[29]||(a[29]=s(" \u5173\u8054\u5173\u7CFB ")),l(f,{content:"\u4E3B\u8868\u4E0E\u5B50\u8868\u7684\u5173\u8054\u5173\u7CFB",placement:"top"},{default:e(()=>[l(u,{icon:"ep:question-filled"})]),_:1})])]),default:e(()=>[l(M,{modelValue:o.formData.subJoinMany,"onUpdate:modelValue":a[14]||(a[14]=n=>o.formData.subJoinMany=n),placeholder:"\u8BF7\u9009\u62E9"},{default:e(()=>[l(E,{value:!0},{default:e(()=>a[30]||(a[30]=[s("\u4E00\u5BF9\u591A")])),_:1}),l(E,{value:!1},{default:e(()=>a[31]||(a[31]=[s("\u4E00\u5BF9\u4E00")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):g("",!0)]),_:1},8,["model","rules"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/infra/codegen/components/GenerateInfoForm.vue"]]);export{pe as default};
