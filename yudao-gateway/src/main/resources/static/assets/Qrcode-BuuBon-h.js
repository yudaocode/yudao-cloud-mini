import{d as qt,p as Z,r as bt,b as At,au as $t,a0 as Zt,ao as Wt,ay as Xt,a as O,b5 as Bt,_ as Gt,I as te,o as it,c as It,q as ee,aZ as ne,a2 as Tt,j as Mt,k as re,t as oe,ah as ie,aF as se,z as ae,R as ue}from"./index-BaY5TDP-.js";var j={},Pt={},N={};let st;const ce=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];N.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},N.getSymbolTotalCodewords=function(t){return ce[t]},N.getBCHDigit=function(t){let n=0;for(;t!==0;)n++,t>>>=1;return n},N.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');st=t},N.isKanjiModeEnabled=function(){return st!==void 0},N.toSJIS=function(t){return st(t)};var S,W={};function Rt(){this.buffer=[],this.length=0}(S=W).L={bit:1},S.M={bit:0},S.Q={bit:3},S.H={bit:2},S.isValid=function(t){return t&&t.bit!==void 0&&t.bit>=0&&t.bit<4},S.from=function(t,n){if(S.isValid(t))return t;try{return function(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return S.L;case"m":case"medium":return S.M;case"q":case"quartile":return S.Q;case"h":case"high":return S.H;default:throw new Error("Unknown EC Level: "+r)}}(t)}catch{return n}},Rt.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)==1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}};var le=Rt;function Q(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Q.prototype.set=function(t,n,r,e){const o=t*this.size+n;this.data[o]=r,e&&(this.reservedBit[o]=!0)},Q.prototype.get=function(t,n){return this.data[t*this.size+n]},Q.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},Q.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]};var fe=Q,Nt={};(function(t){const n=N.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const e=Math.floor(r/7)+2,o=n(r),a=o===145?26:2*Math.ceil((o-13)/(2*e-2)),i=[o-7];for(let c=1;c<e-1;c++)i[c]=i[c-1]-a;return i.push(6),i.reverse()},t.getPositions=function(r){const e=[],o=t.getRowColCoords(r),a=o.length;for(let i=0;i<a;i++)for(let c=0;c<a;c++)i===0&&c===0||i===0&&c===a-1||i===a-1&&c===0||e.push([o[i],o[c]]);return e}})(Nt);var Lt={};const de=N.getSymbolSize;Lt.getPositions=function(t){const n=de(t);return[[0,0],[n-7,0],[0,n-7]]};var xt={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,r=3,e=40,o=10;function a(i,c,d){switch(i){case t.Patterns.PATTERN000:return(c+d)%2==0;case t.Patterns.PATTERN001:return c%2==0;case t.Patterns.PATTERN010:return d%3==0;case t.Patterns.PATTERN011:return(c+d)%3==0;case t.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(d/3))%2==0;case t.Patterns.PATTERN101:return c*d%2+c*d%3==0;case t.Patterns.PATTERN110:return(c*d%2+c*d%3)%2==0;case t.Patterns.PATTERN111:return(c*d%3+(c+d)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}}t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const c=i.size;let d=0,s=0,l=0,u=null,f=null;for(let w=0;w<c;w++){s=l=0,u=f=null;for(let h=0;h<c;h++){let p=i.get(w,h);p===u?s++:(s>=5&&(d+=n+(s-5)),u=p,s=1),p=i.get(h,w),p===f?l++:(l>=5&&(d+=n+(l-5)),f=p,l=1)}s>=5&&(d+=n+(s-5)),l>=5&&(d+=n+(l-5))}return d},t.getPenaltyN2=function(i){const c=i.size;let d=0;for(let s=0;s<c-1;s++)for(let l=0;l<c-1;l++){const u=i.get(s,l)+i.get(s,l+1)+i.get(s+1,l)+i.get(s+1,l+1);u!==4&&u!==0||d++}return d*r},t.getPenaltyN3=function(i){const c=i.size;let d=0,s=0,l=0;for(let u=0;u<c;u++){s=l=0;for(let f=0;f<c;f++)s=s<<1&2047|i.get(u,f),f>=10&&(s===1488||s===93)&&d++,l=l<<1&2047|i.get(f,u),f>=10&&(l===1488||l===93)&&d++}return d*e},t.getPenaltyN4=function(i){let c=0;const d=i.data.length;for(let s=0;s<d;s++)c+=i.data[s];return Math.abs(Math.ceil(100*c/d/5)-10)*o},t.applyMask=function(i,c){const d=c.size;for(let s=0;s<d;s++)for(let l=0;l<d;l++)c.isReserved(l,s)||c.xor(l,s,a(i,l,s))},t.getBestMask=function(i,c){const d=Object.keys(t.Patterns).length;let s=0,l=1/0;for(let u=0;u<d;u++){c(u),t.applyMask(u,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),f<l&&(l=f,s=u)}return s}})(xt);var X={};const _=W,G=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],tt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];X.getBlocksCount=function(t,n){switch(n){case _.L:return G[4*(t-1)+0];case _.M:return G[4*(t-1)+1];case _.Q:return G[4*(t-1)+2];case _.H:return G[4*(t-1)+3];default:return}},X.getTotalCodewordsCount=function(t,n){switch(n){case _.L:return tt[4*(t-1)+0];case _.M:return tt[4*(t-1)+1];case _.Q:return tt[4*(t-1)+2];case _.H:return tt[4*(t-1)+3];default:return}};var St={},et={};const V=new Uint8Array(512),nt=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)V[n]=t,nt[t]=n,t<<=1,256&t&&(t^=285);for(let n=255;n<512;n++)V[n]=V[n-255]})(),et.log=function(t){if(t<1)throw new Error("log("+t+")");return nt[t]},et.exp=function(t){return V[t]},et.mul=function(t,n){return t===0||n===0?0:V[nt[t]+nt[n]]},function(t){const n=et;t.mul=function(r,e){const o=new Uint8Array(r.length+e.length-1);for(let a=0;a<r.length;a++)for(let i=0;i<e.length;i++)o[a+i]^=n.mul(r[a],e[i]);return o},t.mod=function(r,e){let o=new Uint8Array(r);for(;o.length-e.length>=0;){const a=o[0];for(let c=0;c<e.length;c++)o[c]^=n.mul(e[c],a);let i=0;for(;i<o.length&&o[i]===0;)i++;o=o.slice(i)}return o},t.generateECPolynomial=function(r){let e=new Uint8Array([1]);for(let o=0;o<r;o++)e=t.mul(e,new Uint8Array([1,n.exp(o)]));return e}}(St);const Ut=St;function at(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}at.prototype.initialize=function(t){this.degree=t,this.genPoly=Ut.generateECPolynomial(this.degree)},at.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=Ut.mod(n,this.genPoly),e=this.degree-r.length;if(e>0){const o=new Uint8Array(this.degree);return o.set(r,e),o}return r};var he=at,kt={},z={},_t={isValid:function(t){return!isNaN(t)&&t>=1&&t<=40}},U={};const zt="[0-9]+";let q="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";q=q.replace(/u/g,"\\u");const ge="(?:(?![A-Z0-9 $%*+\\-./:]|"+q+`)(?:.|[\r
]))+`;U.KANJI=new RegExp(q,"g"),U.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),U.BYTE=new RegExp(ge,"g"),U.NUMERIC=new RegExp(zt,"g"),U.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const pe=new RegExp("^"+q+"$"),we=new RegExp("^"+zt+"$"),me=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");U.testKanji=function(t){return pe.test(t)},U.testNumeric=function(t){return we.test(t)},U.testAlphanumeric=function(t){return me.test(t)},function(t){const n=_t,r=U;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,o){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!n.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?e.ccBits[0]:o<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return r.testNumeric(e)?t.NUMERIC:r.testAlphanumeric(e)?t.ALPHANUMERIC:r.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,o){if(t.isValid(e))return e;try{return function(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}(e)}catch{return o}}}(z),function(t){const n=N,r=X,e=W,o=z,a=_t,i=n.getBCHDigit(7973);function c(s,l){return o.getCharCountIndicator(s,l)+4}function d(s,l){let u=0;return s.forEach(function(f){const w=c(f.mode,l);u+=w+f.getBitsLength()}),u}t.from=function(s,l){return a.isValid(s)?parseInt(s,10):l},t.getCapacity=function(s,l,u){if(!a.isValid(s))throw new Error("Invalid QR Code version");u===void 0&&(u=o.BYTE);const f=8*(n.getSymbolTotalCodewords(s)-r.getTotalCodewordsCount(s,l));if(u===o.MIXED)return f;const w=f-c(u,s);switch(u){case o.NUMERIC:return Math.floor(w/10*3);case o.ALPHANUMERIC:return Math.floor(w/11*2);case o.KANJI:return Math.floor(w/13);case o.BYTE:default:return Math.floor(w/8)}},t.getBestVersionForData=function(s,l){let u;const f=e.from(l,e.M);if(Array.isArray(s)){if(s.length>1)return function(w,h){for(let p=1;p<=40;p++)if(d(w,p)<=t.getCapacity(p,h,o.MIXED))return p}(s,f);if(s.length===0)return 1;u=s[0]}else u=s;return function(w,h,p){for(let g=1;g<=40;g++)if(h<=t.getCapacity(g,p,w))return g}(u.mode,u.getLength(),f)},t.getEncodedBits=function(s){if(!a.isValid(s)||s<7)throw new Error("Invalid QR Code version");let l=s<<12;for(;n.getBCHDigit(l)-i>=0;)l^=7973<<n.getBCHDigit(l)-i;return s<<12|l}}(kt);var Dt={};const ut=N,Ft=ut.getBCHDigit(1335);Dt.getEncodedBits=function(t,n){const r=t.bit<<3|n;let e=r<<10;for(;ut.getBCHDigit(e)-Ft>=0;)e^=1335<<ut.getBCHDigit(e)-Ft;return 21522^(r<<10|e)};var Ht={};const ye=z;function F(t){this.mode=ye.NUMERIC,this.data=t.toString()}F.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},F.prototype.getLength=function(){return this.data.length},F.prototype.getBitsLength=function(){return F.getBitsLength(this.data.length)},F.prototype.write=function(t){let n,r,e;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),e=parseInt(r,10),t.put(e,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),e=parseInt(r,10),t.put(e,3*o+1))};var Ee=F;const ve=z,ct=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function H(t){this.mode=ve.ALPHANUMERIC,this.data=t}H.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},H.prototype.getLength=function(){return this.data.length},H.prototype.getBitsLength=function(){return H.getBitsLength(this.data.length)},H.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=45*ct.indexOf(this.data[n]);r+=ct.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(ct.indexOf(this.data[n]),6)};var Ce=H;const be=z;function J(t){this.mode=be.BYTE,this.data=typeof t=="string"?new TextEncoder().encode(t):new Uint8Array(t)}J.getBitsLength=function(t){return 8*t},J.prototype.getLength=function(){return this.data.length},J.prototype.getBitsLength=function(){return J.getBitsLength(this.data.length)},J.prototype.write=function(t){for(let n=0,r=this.data.length;n<r;n++)t.put(this.data[n],8)};var Ae=J;const Be=z,Ie=N;function K(t){this.mode=Be.KANJI,this.data=t}K.getBitsLength=function(t){return 13*t},K.prototype.getLength=function(){return this.data.length},K.prototype.getBitsLength=function(){return K.getBitsLength(this.data.length)},K.prototype.write=function(t){let n;for(n=0;n<this.data.length;n++){let r=Ie.toSJIS(this.data[n]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13)}};var Te=K,Jt={exports:{}};(function(t){var n={single_source_shortest_paths:function(r,e,o){var a={},i={};i[e]=0;var c,d,s,l,u,f,w,h=n.PriorityQueue.make();for(h.push(e,0);!h.empty();)for(s in d=(c=h.pop()).value,l=c.cost,u=r[d]||{})u.hasOwnProperty(s)&&(f=l+u[s],w=i[s],(i[s]===void 0||w>f)&&(i[s]=f,h.push(s,f),a[s]=d));if(o!==void 0&&i[o]===void 0){var p=["Could not find a path from ",e," to ",o,"."].join("");throw new Error(p)}return a},extract_shortest_path_from_predecessor_list:function(r,e){for(var o=[],a=e;a;)o.push(a),r[a],a=r[a];return o.reverse(),o},find_path:function(r,e,o){var a=n.single_source_shortest_paths(r,e,o);return n.extract_shortest_path_from_predecessor_list(a,o)},PriorityQueue:{make:function(r){var e,o=n.PriorityQueue,a={};for(e in r=r||{},o)o.hasOwnProperty(e)&&(a[e]=o[e]);return a.queue=[],a.sorter=r.sorter||o.default_sorter,a},default_sorter:function(r,e){return r.cost-e.cost},push:function(r,e){var o={value:r,cost:e};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=n})(Jt);var Me=Jt.exports;(function(t){const n=z,r=Ee,e=Ce,o=Ae,a=Te,i=U,c=N,d=Me;function s(h){return unescape(encodeURIComponent(h)).length}function l(h,p,g){const y=[];let A;for(;(A=h.exec(g))!==null;)y.push({data:A[0],index:A.index,mode:p,length:A[0].length});return y}function u(h){const p=l(i.NUMERIC,n.NUMERIC,h),g=l(i.ALPHANUMERIC,n.ALPHANUMERIC,h);let y,A;return c.isKanjiModeEnabled()?(y=l(i.BYTE,n.BYTE,h),A=l(i.KANJI,n.KANJI,h)):(y=l(i.BYTE_KANJI,n.BYTE,h),A=[]),p.concat(g,y,A).sort(function(m,E){return m.index-E.index}).map(function(m){return{data:m.data,mode:m.mode,length:m.length}})}function f(h,p){switch(p){case n.NUMERIC:return r.getBitsLength(h);case n.ALPHANUMERIC:return e.getBitsLength(h);case n.KANJI:return a.getBitsLength(h);case n.BYTE:return o.getBitsLength(h)}}function w(h,p){let g;const y=n.getBestModeForData(h);if(g=n.from(p,y),g!==n.BYTE&&g.bit<y.bit)throw new Error('"'+h+'" cannot be encoded with mode '+n.toString(g)+`.
 Suggested mode is: `+n.toString(y));switch(g!==n.KANJI||c.isKanjiModeEnabled()||(g=n.BYTE),g){case n.NUMERIC:return new r(h);case n.ALPHANUMERIC:return new e(h);case n.KANJI:return new a(h);case n.BYTE:return new o(h)}}t.fromArray=function(h){return h.reduce(function(p,g){return typeof g=="string"?p.push(w(g,null)):g.data&&p.push(w(g.data,g.mode)),p},[])},t.fromString=function(h,p){const g=function(E){const v=[];for(let b=0;b<E.length;b++){const C=E[b];switch(C.mode){case n.NUMERIC:v.push([C,{data:C.data,mode:n.ALPHANUMERIC,length:C.length},{data:C.data,mode:n.BYTE,length:C.length}]);break;case n.ALPHANUMERIC:v.push([C,{data:C.data,mode:n.BYTE,length:C.length}]);break;case n.KANJI:v.push([C,{data:C.data,mode:n.BYTE,length:s(C.data)}]);break;case n.BYTE:v.push([{data:C.data,mode:n.BYTE,length:s(C.data)}])}}return v}(u(h,c.isKanjiModeEnabled())),y=function(E,v){const b={},C={start:{}};let I=["start"];for(let T=0;T<E.length;T++){const R=E[T],P=[];for(let k=0;k<R.length;k++){const B=R[k],M=""+T+k;P.push(M),b[M]={node:B,lastCount:0},C[M]={};for(let D=0;D<I.length;D++){const L=I[D];b[L]&&b[L].node.mode===B.mode?(C[L][M]=f(b[L].lastCount+B.length,B.mode)-f(b[L].lastCount,B.mode),b[L].lastCount+=B.length):(b[L]&&(b[L].lastCount=B.length),C[L][M]=f(B.length,B.mode)+4+n.getCharCountIndicator(B.mode,v))}}I=P}for(let T=0;T<I.length;T++)C[I[T]].end=0;return{map:C,table:b}}(g,p),A=d.find_path(y.map,"start","end"),m=[];for(let E=1;E<A.length-1;E++)m.push(y.table[A[E]].node);return t.fromArray(function(E){return E.reduce(function(v,b){const C=v.length-1>=0?v[v.length-1]:null;return C&&C.mode===b.mode?(v[v.length-1].data+=b.data,v):(v.push(b),v)},[])}(m))},t.rawSplit=function(h){return t.fromArray(u(h,c.isKanjiModeEnabled()))}})(Ht);const rt=N,lt=W,Pe=le,Re=fe,Ne=Nt,Le=Lt,ft=xt,dt=X,xe=he,ot=kt,Se=Dt,Ue=z,ht=Ht;function gt(t,n,r){const e=t.size,o=Se.getEncodedBits(n,r);let a,i;for(a=0;a<15;a++)i=(o>>a&1)==1,a<6?t.set(a,8,i,!0):a<8?t.set(a+1,8,i,!0):t.set(e-15+a,8,i,!0),a<8?t.set(8,e-a-1,i,!0):a<9?t.set(8,15-a-1+1,i,!0):t.set(8,15-a-1,i,!0);t.set(e-8,8,1,!0)}function ke(t,n,r){const e=new Pe;r.forEach(function(i){e.put(i.mode.bit,4),e.put(i.getLength(),Ue.getCharCountIndicator(i.mode,t)),i.write(e)});const o=8*(rt.getSymbolTotalCodewords(t)-dt.getTotalCodewordsCount(t,n));for(e.getLengthInBits()+4<=o&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(0);const a=(o-e.getLengthInBits())/8;for(let i=0;i<a;i++)e.put(i%2?17:236,8);return function(i,c,d){const s=rt.getSymbolTotalCodewords(c),l=dt.getTotalCodewordsCount(c,d),u=s-l,f=dt.getBlocksCount(c,d),w=s%f,h=f-w,p=Math.floor(s/f),g=Math.floor(u/f),y=g+1,A=p-g,m=new xe(A);let E=0;const v=new Array(f),b=new Array(f);let C=0;const I=new Uint8Array(i.buffer);for(let B=0;B<f;B++){const M=B<h?g:y;v[B]=I.slice(E,E+M),b[B]=m.encode(v[B]),E+=M,C=Math.max(C,M)}const T=new Uint8Array(s);let R,P,k=0;for(R=0;R<C;R++)for(P=0;P<f;P++)R<v[P].length&&(T[k++]=v[P][R]);for(R=0;R<A;R++)for(P=0;P<f;P++)T[k++]=b[P][R];return T}(e,t,n)}function _e(t,n,r,e){let o;if(Array.isArray(t))o=ht.fromArray(t);else{if(typeof t!="string")throw new Error("Invalid data");{let s=n;if(!s){const l=ht.rawSplit(t);s=ot.getBestVersionForData(l,r)}o=ht.fromString(t,s||40)}}const a=ot.getBestVersionForData(o,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(n){if(n<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`)}else n=a;const i=ke(n,r,o),c=rt.getSymbolSize(n),d=new Re(c);return function(s,l){const u=s.size,f=Le.getPositions(l);for(let w=0;w<f.length;w++){const h=f[w][0],p=f[w][1];for(let g=-1;g<=7;g++)if(!(h+g<=-1||u<=h+g))for(let y=-1;y<=7;y++)p+y<=-1||u<=p+y||(g>=0&&g<=6&&(y===0||y===6)||y>=0&&y<=6&&(g===0||g===6)||g>=2&&g<=4&&y>=2&&y<=4?s.set(h+g,p+y,!0,!0):s.set(h+g,p+y,!1,!0))}}(d,n),function(s){const l=s.size;for(let u=8;u<l-8;u++){const f=u%2==0;s.set(u,6,f,!0),s.set(6,u,f,!0)}}(d),function(s,l){const u=Ne.getPositions(l);for(let f=0;f<u.length;f++){const w=u[f][0],h=u[f][1];for(let p=-2;p<=2;p++)for(let g=-2;g<=2;g++)p===-2||p===2||g===-2||g===2||p===0&&g===0?s.set(w+p,h+g,!0,!0):s.set(w+p,h+g,!1,!0)}}(d,n),gt(d,r,0),n>=7&&function(s,l){const u=s.size,f=ot.getEncodedBits(l);let w,h,p;for(let g=0;g<18;g++)w=Math.floor(g/3),h=g%3+u-8-3,p=(f>>g&1)==1,s.set(w,h,p,!0),s.set(h,w,p,!0)}(d,n),function(s,l){const u=s.size;let f=-1,w=u-1,h=7,p=0;for(let g=u-1;g>0;g-=2)for(g===6&&g--;;){for(let y=0;y<2;y++)if(!s.isReserved(w,g-y)){let A=!1;p<l.length&&(A=(l[p]>>>h&1)==1),s.set(w,g-y,A),h--,h===-1&&(p++,h=7)}if(w+=f,w<0||u<=w){w-=f,f=-f;break}}}(d,i),isNaN(e)&&(e=ft.getBestMask(d,gt.bind(null,d,r))),ft.applyMask(e,d),gt(d,r,e),{modules:d,version:n,errorCorrectionLevel:r,maskPattern:e,segments:o}}Pt.create=function(t,n){if(t===void 0||t==="")throw new Error("No input text");let r,e,o=lt.M;return n!==void 0&&(o=lt.from(n.errorCorrectionLevel,lt.M),r=ot.from(n.version),e=ft.from(n.maskPattern),n.toSJISFunc&&rt.setToSJISFunction(n.toSJISFunc)),_e(t,r,o,e)};var Kt={},pt={};(function(t){function n(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let e=r.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+r);e.length!==3&&e.length!==4||(e=Array.prototype.concat.apply([],e.map(function(a){return[a,a]}))),e.length===6&&e.push("F","F");const o=parseInt(e.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:255&o,hex:"#"+e.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const e=r.margin===void 0||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:o,scale:o?4:a,margin:e,color:{dark:n(r.color.dark||"#000000ff"),light:n(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,e){return e.width&&e.width>=r+2*e.margin?e.width/(r+2*e.margin):e.scale},t.getImageWidth=function(r,e){const o=t.getScale(r,e);return Math.floor((r+2*e.margin)*o)},t.qrToImageData=function(r,e,o){const a=e.modules.size,i=e.modules.data,c=t.getScale(a,o),d=Math.floor((a+2*o.margin)*c),s=o.margin*c,l=[o.color.light,o.color.dark];for(let u=0;u<d;u++)for(let f=0;f<d;f++){let w=4*(u*d+f),h=o.color.light;u>=s&&f>=s&&u<d-s&&f<d-s&&(h=l[i[Math.floor((u-s)/c)*a+Math.floor((f-s)/c)]?1:0]),r[w++]=h.r,r[w++]=h.g,r[w++]=h.b,r[w]=h.a}}})(pt),function(t){const n=pt;t.render=function(r,e,o){let a=o,i=e;a!==void 0||e&&e.getContext||(a=e,e=void 0),e||(i=function(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),a=n.getOptions(a);const c=n.getImageWidth(r.modules.size,a),d=i.getContext("2d"),s=d.createImageData(c,c);return n.qrToImageData(s.data,r,a),function(l,u,f){l.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=f,u.width=f,u.style.height=f+"px",u.style.width=f+"px"}(d,i,c),d.putImageData(s,0,0),i},t.renderToDataURL=function(r,e,o){let a=o;a!==void 0||e&&e.getContext||(a=e,e=void 0),a||(a={});const i=t.render(r,e,a),c=a.type||"image/png",d=a.rendererOpts||{};return i.toDataURL(c,d.quality)}}(Kt);var Yt={};const ze=pt;function Ot(t,n){const r=t.a/255,e=n+'="'+t.hex+'"';return r<1?e+" "+n+'-opacity="'+r.toFixed(2).slice(1)+'"':e}function wt(t,n,r){let e=t+n;return r!==void 0&&(e+=" "+r),e}Yt.render=function(t,n,r){const e=ze.getOptions(n),o=t.modules.size,a=t.modules.data,i=o+2*e.margin,c=e.color.light.a?"<path "+Ot(e.color.light,"fill")+' d="M0 0h'+i+"v"+i+'H0z"/>':"",d="<path "+Ot(e.color.dark,"stroke")+' d="'+function(u,f,w){let h="",p=0,g=!1,y=0;for(let A=0;A<u.length;A++){const m=Math.floor(A%f),E=Math.floor(A/f);m||g||(g=!0),u[A]?(y++,A>0&&m>0&&u[A-1]||(h+=g?wt("M",m+w,.5+E+w):wt("m",p,0),p=0,g=!1),m+1<f&&u[A+1]||(h+=wt("h",y),y=0)):p++}return h}(a,o,e.margin)+'"/>',s='viewBox="0 0 '+i+" "+i+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+s+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof r=="function"&&r(null,l),l};const De=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},mt=Pt,jt=Kt,Fe=Yt;function yt(t,n,r,e,o){const a=[].slice.call(arguments,1),i=a.length,c=typeof a[i-1]=="function";if(!c&&!De())throw new Error("Callback required as last argument");if(!c){if(i<1)throw new Error("Too few arguments provided");return i===1?(r=n,n=e=void 0):i!==2||n.getContext||(e=r,r=n,n=void 0),new Promise(function(d,s){try{const l=mt.create(r,e);d(t(l,n,e))}catch(l){s(l)}})}if(i<2)throw new Error("Too few arguments provided");i===2?(o=r,r=n,n=e=void 0):i===3&&(n.getContext&&o===void 0?(o=e,e=void 0):(o=e,e=r,r=n,n=void 0));try{const d=mt.create(r,e);o(null,t(d,n,e))}catch(d){o(d)}}j.create=mt.create,j.toCanvas=yt.bind(null,jt.render),j.toDataURL=yt.bind(null,jt.renderToDataURL),j.toString=yt.bind(null,function(t,n,r){return Fe.render(t,r)});const He=qt({name:"Qrcode",__name:"Qrcode",props:{tag:Z.string.validate(t=>["canvas","img"].includes(t)).def("canvas"),text:{type:[String,Array],default:null},options:{type:Object,default:()=>({})},width:Z.number.def(200),logo:{type:[String,Object],default:""},disabled:Z.bool.def(!1),disabledText:Z.string.def("")},emits:["done","click","disabled-click"],setup(t,{expose:n,emit:r}){n();const e=t,o=r,{getPrefixCls:a}=Zt(),i=a("qrcode"),{toCanvas:c,toDataURL:d}=j,s=bt(!0),l=bt(null),u=At(()=>String(e.text)),f=At(()=>({width:e.width+"px",height:e.width+"px"})),w=async()=>{await Wt();const m=Xt(e.options||{});if(e.tag==="canvas"){m.errorCorrectionLevel=m.errorCorrectionLevel||g(O(u));const E=await p(O(u),m);m.scale=e.width===0?void 0:e.width/E*4;const v=await c(O(l),O(u),m);if(e.logo){const b=await h(v);o("done",b),s.value=!1}else o("done",v.toDataURL()),s.value=!1}else{const E=await d(u.value,{errorCorrectionLevel:"H",width:e.width,...m});O(l).src=E,o("done",E),s.value=!1}};$t(()=>u.value,m=>{m&&w()},{deep:!0,immediate:!0});const h=m=>{const E=m.width,v=Object.assign({logoSize:.15,bgColor:"#ffffff",borderSize:.05,crossOrigin:"anonymous",borderRadius:8,logoRadius:0},Bt(e.logo)?{}:e.logo),{logoSize:b=.15,bgColor:C="#ffffff",borderSize:I=.05,crossOrigin:T="anonymous",borderRadius:R=8,logoRadius:P=0}=v,k=Bt(e.logo)?e.logo:e.logo.src,B=E*b,M=E*(1-b)/2,D=E*(b+I),L=E*(1-b-I)/2,x=m.getContext("2d");if(!x)return;y(x)(L,L,D,D,R),x.fillStyle=C,x.fill();const Y=new Image;return(T||P)&&Y.setAttribute("crossOrigin",T),Y.src=k,new Promise(Qt=>{Y.onload=()=>{var Et;P?(Vt=>{const $=document.createElement("canvas");$.width=M+B,$.height=M+B;const vt=$.getContext("2d");if(!vt||!x||(vt.drawImage(Vt,M,M,B,B),y(x)(M,M,B,B,P),!x))return;const Ct=x.createPattern($,"no-repeat");Ct&&(x.fillStyle=Ct,x.fill())})(Y):(Et=Y,x.drawImage(Et,M,M,B,B)),Qt(m.toDataURL())}})},p=async(m,E)=>{const v=document.createElement("canvas");return await c(v,m,E),v.width},g=m=>m.length>36?"M":m.length>16?"Q":"H",y=m=>(E,v,b,C,I)=>{const T=Math.min(b,C);return I>T/2&&(I=T/2),m.beginPath(),m.moveTo(E+I,v),m.arcTo(E+b,v,E+b,v+C,I),m.arcTo(E+b,v+C,E,v+C,I),m.arcTo(E,v+C,E,v,I),m.arcTo(E,v,E+b,v,I),m.closePath(),m},A={props:e,emit:o,getPrefixCls:a,prefixCls:i,toCanvas:c,toDataURL:d,loading:s,wrapRef:l,renderText:u,wrapStyle:f,initQrcode:w,createLogoCode:h,getOriginWidth:p,getErrorCorrectionLevel:g,canvasRoundRect:y,clickCode:()=>{o("click")},disabledClick:()=>{o("disabled-click")}};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),Je={class:"absolute left-[50%] top-[50%] font-bold"},Ke=Gt(He,[["render",function(t,n,r,e,o,a){const i=ae,c=ue;return te((it(),It("div",{class:Tt([e.prefixCls,"relative inline-block"]),style:se(e.wrapStyle)},[(it(),ee(ne(r.tag),{ref:"wrapRef",onClick:e.clickCode},null,512)),r.disabled?(it(),It("div",{key:0,class:Tt([`${e.prefixCls}--disabled`,"absolute left-0 top-0 h-full w-full flex items-center justify-center"]),onClick:e.disabledClick},[Mt("div",Je,[re(i,{size:30,color:"var(--el-color-primary)",icon:"ep:refresh-right"}),Mt("div",null,oe(r.disabledText),1)])],2)):ie("",!0)],6)),[[c,e.loading]])}],["__scopeId","data-v-573c75fe"],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/components/Qrcode/src/Qrcode.vue"]]);export{Ke as Q};
