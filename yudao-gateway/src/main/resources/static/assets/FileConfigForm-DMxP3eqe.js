import{bz as c,d as w,g as P,D as T,r as p,f as C,G as K,cP as I,_ as O,o as s,q as i,w as r,k as o,m as h,I as R,c as L,F as j,n as A,ah as d,Z as E,L as x,J as z,K as G,cf as N,ak as Y,al as J,O as M,N as Z,R as B}from"./index-BaY5TDP-.js";import{_ as H}from"./Dialog-CZSXtzfQ.js";const Q=f=>c.get({url:"/infra/file-config/page",params:f}),W=f=>c.put({url:"/infra/file-config/update-master?id="+f}),X=f=>c.delete({url:"/infra/file-config/delete?id="+f}),$=f=>c.get({url:"/infra/file-config/test?id="+f}),F=O(w({name:"InfraFileConfigForm",__name:"FileConfigForm",emits:["success"],setup(f,{expose:a,emit:q}){const{t:e}=P(),V=T(),_=p(!1),u=p(""),t=p(!1),b=p(""),g=p({id:void 0,name:"",storage:0,remark:"",config:{}}),U=C({name:[{required:!0,message:"\u914D\u7F6E\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],storage:[{required:!0,message:"\u5B58\u50A8\u5668\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}],config:{basePath:[{required:!0,message:"\u57FA\u7840\u8DEF\u5F84\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],host:[{required:!0,message:"\u4E3B\u673A\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],port:[{required:!0,message:"\u4E3B\u673A\u7AEF\u53E3\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],username:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],mode:[{required:!0,message:"\u8FDE\u63A5\u6A21\u5F0F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}],endpoint:[{required:!0,message:"\u8282\u70B9\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],bucket:[{required:!0,message:"\u5B58\u50A8 bucket \u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],accessKey:[{required:!0,message:"accessKey \u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],accessSecret:[{required:!0,message:"accessSecret \u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],domain:[{required:!0,message:"\u81EA\u5B9A\u4E49\u57DF\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),n=p(),v=async(m,l)=>{if(_.value=!0,u.value=e("action."+m),b.value=m,D(),l){t.value=!0;try{g.value=await(S=>c.get({url:"/infra/file-config/get?id="+S}))(l)}finally{t.value=!1}}};a({open:v});const y=q,D=()=>{var m;g.value={id:void 0,name:"",storage:void 0,remark:"",config:{}},(m=n.value)==null||m.resetFields()},k={t:e,message:V,dialogVisible:_,dialogTitle:u,formLoading:t,formType:b,formData:g,formRules:U,formRef:n,open:v,emit:y,submitForm:async()=>{if(n&&await n.value.validate()){t.value=!0;try{const m=g.value;b.value==="create"?(await(l=>c.post({url:"/infra/file-config/create",data:l}))(m),V.success(e("common.createSuccess"))):(await(l=>c.put({url:"/infra/file-config/update",data:l}))(m),V.success(e("common.updateSuccess"))),_.value=!1,y("success")}finally{t.value=!1}}},resetForm:D,get DICT_TYPE(){return K},get getDictOptions(){return I}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),[["render",function(f,a,q,e,V,_){const u=E,t=x,b=z,g=G,U=N,n=Y,v=J,y=M,D=Z,k=H,m=B;return s(),i(k,{modelValue:e.dialogVisible,"onUpdate:modelValue":a[16]||(a[16]=l=>e.dialogVisible=l),title:e.dialogTitle},{footer:r(()=>[o(D,{disabled:e.formLoading,type:"primary",onClick:e.submitForm},{default:r(()=>a[19]||(a[19]=[h("\u786E \u5B9A")])),_:1},8,["disabled"]),o(D,{onClick:a[15]||(a[15]=l=>e.dialogVisible=!1)},{default:r(()=>a[20]||(a[20]=[h("\u53D6 \u6D88")])),_:1})]),default:r(()=>[R((s(),i(y,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"120px"},{default:r(()=>[o(t,{label:"\u914D\u7F6E\u540D",prop:"name"},{default:r(()=>[o(u,{modelValue:e.formData.name,"onUpdate:modelValue":a[0]||(a[0]=l=>e.formData.name=l),placeholder:"\u8BF7\u8F93\u5165\u914D\u7F6E\u540D"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u5907\u6CE8",prop:"remark"},{default:r(()=>[o(u,{modelValue:e.formData.remark,"onUpdate:modelValue":a[1]||(a[1]=l=>e.formData.remark=l),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u5B58\u50A8\u5668",prop:"storage"},{default:r(()=>[o(g,{modelValue:e.formData.storage,"onUpdate:modelValue":a[2]||(a[2]=l=>e.formData.storage=l),disabled:e.formData.id!==void 0,placeholder:"\u8BF7\u9009\u62E9\u5B58\u50A8\u5668"},{default:r(()=>[(s(!0),L(j,null,A(e.getDictOptions(e.DICT_TYPE.INFRA_FILE_STORAGE),l=>(s(),i(b,{key:l.value,label:l.label,value:parseInt(l.value)},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1}),e.formData.storage>=10&&e.formData.storage<=12?(s(),i(t,{key:0,label:"\u57FA\u7840\u8DEF\u5F84",prop:"config.basePath"},{default:r(()=>[o(u,{modelValue:e.formData.config.basePath,"onUpdate:modelValue":a[3]||(a[3]=l=>e.formData.config.basePath=l),placeholder:"\u8BF7\u8F93\u5165\u57FA\u7840\u8DEF\u5F84"},null,8,["modelValue"])]),_:1})):d("",!0),e.formData.storage>=11&&e.formData.storage<=12?(s(),i(t,{key:1,label:"\u4E3B\u673A\u5730\u5740",prop:"config.host"},{default:r(()=>[o(u,{modelValue:e.formData.config.host,"onUpdate:modelValue":a[4]||(a[4]=l=>e.formData.config.host=l),placeholder:"\u8BF7\u8F93\u5165\u4E3B\u673A\u5730\u5740"},null,8,["modelValue"])]),_:1})):d("",!0),e.formData.storage>=11&&e.formData.storage<=12?(s(),i(t,{key:2,label:"\u4E3B\u673A\u7AEF\u53E3",prop:"config.port"},{default:r(()=>[o(U,{modelValue:e.formData.config.port,"onUpdate:modelValue":a[5]||(a[5]=l=>e.formData.config.port=l),min:0,placeholder:"\u8BF7\u8F93\u5165\u4E3B\u673A\u7AEF\u53E3"},null,8,["modelValue"])]),_:1})):d("",!0),e.formData.storage>=11&&e.formData.storage<=12?(s(),i(t,{key:3,label:"\u7528\u6237\u540D",prop:"config.username"},{default:r(()=>[o(u,{modelValue:e.formData.config.username,"onUpdate:modelValue":a[6]||(a[6]=l=>e.formData.config.username=l),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1})):d("",!0),e.formData.storage>=11&&e.formData.storage<=12?(s(),i(t,{key:4,label:"\u5BC6\u7801",prop:"config.password"},{default:r(()=>[o(u,{modelValue:e.formData.config.password,"onUpdate:modelValue":a[7]||(a[7]=l=>e.formData.config.password=l),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1})):d("",!0),e.formData.storage===11?(s(),i(t,{key:5,label:"\u8FDE\u63A5\u6A21\u5F0F",prop:"config.mode"},{default:r(()=>[o(v,{modelValue:e.formData.config.mode,"onUpdate:modelValue":a[8]||(a[8]=l=>e.formData.config.mode=l)},{default:r(()=>[o(n,{key:"Active",value:"Active"},{default:r(()=>a[17]||(a[17]=[h("\u4E3B\u52A8\u6A21\u5F0F")])),_:1}),o(n,{key:"Passive",value:"Passive"},{default:r(()=>a[18]||(a[18]=[h("\u88AB\u52A8\u6A21\u5F0F")])),_:1})]),_:1},8,["modelValue"])]),_:1})):d("",!0),e.formData.storage===20?(s(),i(t,{key:6,label:"\u8282\u70B9\u5730\u5740",prop:"config.endpoint"},{default:r(()=>[o(u,{modelValue:e.formData.config.endpoint,"onUpdate:modelValue":a[9]||(a[9]=l=>e.formData.config.endpoint=l),placeholder:"\u8BF7\u8F93\u5165\u8282\u70B9\u5730\u5740"},null,8,["modelValue"])]),_:1})):d("",!0),e.formData.storage===20?(s(),i(t,{key:7,label:"\u5B58\u50A8 bucket",prop:"config.bucket"},{default:r(()=>[o(u,{modelValue:e.formData.config.bucket,"onUpdate:modelValue":a[10]||(a[10]=l=>e.formData.config.bucket=l),placeholder:"\u8BF7\u8F93\u5165 bucket"},null,8,["modelValue"])]),_:1})):d("",!0),e.formData.storage===20?(s(),i(t,{key:8,label:"accessKey",prop:"config.accessKey"},{default:r(()=>[o(u,{modelValue:e.formData.config.accessKey,"onUpdate:modelValue":a[11]||(a[11]=l=>e.formData.config.accessKey=l),placeholder:"\u8BF7\u8F93\u5165 accessKey"},null,8,["modelValue"])]),_:1})):d("",!0),e.formData.storage===20?(s(),i(t,{key:9,label:"accessSecret",prop:"config.accessSecret"},{default:r(()=>[o(u,{modelValue:e.formData.config.accessSecret,"onUpdate:modelValue":a[12]||(a[12]=l=>e.formData.config.accessSecret=l),placeholder:"\u8BF7\u8F93\u5165 accessSecret"},null,8,["modelValue"])]),_:1})):d("",!0),e.formData.storage===20?(s(),i(t,{key:10,label:"\u81EA\u5B9A\u4E49\u57DF\u540D"},{default:r(()=>[o(u,{modelValue:e.formData.config.domain,"onUpdate:modelValue":a[13]||(a[13]=l=>e.formData.config.domain=l),placeholder:"\u8BF7\u8F93\u5165\u81EA\u5B9A\u4E49\u57DF\u540D"},null,8,["modelValue"])]),_:1})):e.formData.storage?(s(),i(t,{key:11,label:"\u81EA\u5B9A\u4E49\u57DF\u540D",prop:"config.domain"},{default:r(()=>[o(u,{modelValue:e.formData.config.domain,"onUpdate:modelValue":a[14]||(a[14]=l=>e.formData.config.domain=l),placeholder:"\u8BF7\u8F93\u5165\u81EA\u5B9A\u4E49\u57DF\u540D"},null,8,["modelValue"])]),_:1})):d("",!0)]),_:1},8,["model","rules"])),[[m,e.formLoading]])]),_:1},8,["modelValue","title"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/infra/fileConfig/FileConfigForm.vue"]]),ee=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"}));export{F,ee as a,X as d,Q as g,$ as t,W as u};
