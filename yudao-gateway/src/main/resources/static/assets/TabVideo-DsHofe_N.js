import{d as b,D as h,ee as g,b as U,r as _,f as D,_ as x,o as V,c as w,k as a,w as i,q as S,ah as I,m as v,Z as L,E as j,z as A,N as E,cK as M,v as P,bx as W}from"./index-BaY5TDP-.js";import k from"./main-DeQxN6ve.js";import{W as O}from"./main-KjNEjHxK.js";import{u as R,U as q}from"./useUpload-Dg-sFRn3.js";import"./index-avjYFQiD.js";import"./index-DrSdAlug.js";import"./main-BdcmYikv.js";import"./el-image-Bg-CwbDE.js";import"./main-BdArqmip.js";import"./index-Ci6jvA8Q.js";import"./index-D0l0uLV-.js";import"./formatTime-Dr6TiYYc.js";const z=x(b({__name:"TabVideo",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(m,{expose:o,emit:f}){o();const e=h(),y={Authorization:"Bearer "+g()},c=m,u=f,t=U({get:()=>c.modelValue,set:l=>u("update:modelValue",l)}),d=_(!1),s=_([]),p=D({accountId:t.value.accountId,type:"video",title:"",introduction:""}),r=l=>{d.value=!1,t.value.mediaId=l.mediaId,t.value.url=l.url,t.value.name=l.name,l.title&&(t.value.title=l.title||""),l.introduction&&(t.value.description=l.introduction||"")},n={message:e,UPLOAD_URL:"http://localhost:48080/admin-api/mp/material/upload-temporary",HEADERS:y,props:c,emit:u,reply:t,showDialog:d,fileList:s,uploadData:p,beforeVideoUpload:l=>R(q.Video,10)(l),onUploadSuccess:l=>{if(l.code!==0)return e.error("\u4E0A\u4F20\u51FA\u9519\uFF1A"+l.msg),!1;s.value=[],p.title="",p.introduction="",r(l.data)},selectMaterial:r,get WxVideoPlayer(){return k},get WxMaterialSelect(){return O}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),[["render",function(m,o,f,e,y,c){const u=L,t=j,d=A,s=E,p=M,r=P,n=W;return V(),w("div",null,[a(t,null,{default:i(()=>[a(u,{modelValue:e.reply.title,"onUpdate:modelValue":o[0]||(o[0]=l=>e.reply.title=l),class:"input-margin-bottom",placeholder:"\u8BF7\u8F93\u5165\u6807\u9898"},null,8,["modelValue"]),a(u,{class:"input-margin-bottom",modelValue:e.reply.description,"onUpdate:modelValue":o[1]||(o[1]=l=>e.reply.description=l),placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0"},null,8,["modelValue"]),a(t,{class:"ope-row",justify:"center"},{default:i(()=>[e.reply.url?(V(),S(e.WxVideoPlayer,{key:0,url:e.reply.url},null,8,["url"])):I("",!0)]),_:1}),a(r,null,{default:i(()=>[a(t,{style:{"text-align":"center"},align:"middle"},{default:i(()=>[a(r,{span:12},{default:i(()=>[a(s,{type:"success",onClick:o[2]||(o[2]=l=>e.showDialog=!0)},{default:i(()=>[o[4]||(o[4]=v(" \u7D20\u6750\u5E93\u9009\u62E9 ")),a(d,{icon:"ep:circle-check"})]),_:1}),a(p,{title:"\u9009\u62E9\u89C6\u9891",modelValue:e.showDialog,"onUpdate:modelValue":o[3]||(o[3]=l=>e.showDialog=l),width:"90%","append-to-body":"","destroy-on-close":""},{default:i(()=>[a(e.WxMaterialSelect,{type:"video","account-id":e.reply.accountId,onSelectMaterial:e.selectMaterial},null,8,["account-id"])]),_:1},8,["modelValue"])]),_:1}),a(r,{span:12},{default:i(()=>[a(n,{action:e.UPLOAD_URL,headers:e.HEADERS,multiple:"",limit:1,"file-list":e.fileList,data:e.uploadData,"before-upload":e.beforeVideoUpload,"on-success":e.onUploadSuccess},{default:i(()=>[a(s,{type:"primary"},{default:i(()=>[o[5]||(o[5]=v("\u65B0\u5EFA\u89C6\u9891 ")),a(d,{icon:"ep:upload"})]),_:1})]),_:1},8,["file-list","data"])]),_:1})]),_:1})]),_:1})]),_:1})])}],["__scopeId","data-v-bf7e1f5e"],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/mp/components/wx-reply/components/TabVideo.vue"]]);export{z as default};
