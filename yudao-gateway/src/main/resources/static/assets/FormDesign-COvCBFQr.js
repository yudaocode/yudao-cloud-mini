import{d as T,dU as I,r as h,dV as k,au as q,G as U,U as O,_ as E,am as F,o as m,q as s,w as r,k as t,c as D,F as w,n as P,m as L,t as M,ah as c,j as y,ak as j,al as B,L as R,J as Y,K,Z as S,z,aK as A,O as G}from"./index-BaY5TDP-.js";import{g as J}from"./index-BeYJ8u62.js";import{b as Z}from"./formCreate-Dy2BGZHq.js";const H={key:3,class:"mt-20px"},N=E(T({__name:"FormDesign",props:I({formList:{type:Array,required:!0}},{modelValue:{type:null},modelModifiers:{}}),emits:["update:modelValue"],setup(v,{expose:l}){const b=v,e=h(),d=k(v,"modelValue"),u=h({formData:{},rule:[],option:{submitBtn:!1,resetBtn:!1,formData:{}}});q(()=>d.value.formId,async o=>{if(o&&d.value.formType===10){const f=await J(o);Z(u.value,f.conf,f.fields),u.value.rule.forEach(n=>{n.props={...n.props,disabled:!0}})}else u.value.rule=[]},{immediate:!0});const i=async()=>{var o;await((o=e.value)==null?void 0:o.validate())};l({validate:i});const p={props:b,formRef:e,modelData:d,formPreview:u,rules:{formType:[{required:!0,message:"\u8868\u5355\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],formId:[{required:!0,message:"\u6D41\u7A0B\u8868\u5355\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],formCustomCreatePath:[{required:!0,message:"\u8868\u5355\u63D0\u4EA4\u8DEF\u7531\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],formCustomViewPath:[{required:!0,message:"\u8868\u5355\u67E5\u770B\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]},validate:i,get DICT_TYPE(){return U},get getIntDictOptions(){return O}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),[["render",function(v,l,b,e,d,u){const i=j,p=B,o=R,f=Y,n=K,V=S,g=z,_=A,x=F("form-create"),C=G;return m(),s(C,{ref:"formRef",model:e.modelData,rules:e.rules,"label-width":"120px",class:"mt-20px"},{default:r(()=>[t(o,{label:"\u8868\u5355\u7C7B\u578B",prop:"formType",class:"mb-20px"},{default:r(()=>[t(p,{modelValue:e.modelData.formType,"onUpdate:modelValue":l[0]||(l[0]=a=>e.modelData.formType=a)},{default:r(()=>[(m(!0),D(w,null,P(e.getIntDictOptions(e.DICT_TYPE.BPM_MODEL_FORM_TYPE),a=>(m(),s(i,{key:a.value,value:a.value},{default:r(()=>[L(M(a.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e.modelData.formType===10?(m(),s(o,{key:0,label:"\u6D41\u7A0B\u8868\u5355",prop:"formId"},{default:r(()=>[t(n,{modelValue:e.modelData.formId,"onUpdate:modelValue":l[1]||(l[1]=a=>e.modelData.formId=a),clearable:"",style:{width:"100%"}},{default:r(()=>[(m(!0),D(w,null,P(b.formList,a=>(m(),s(f,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):c("",!0),e.modelData.formType===20?(m(),s(o,{key:1,label:"\u8868\u5355\u63D0\u4EA4\u8DEF\u7531",prop:"formCustomCreatePath"},{default:r(()=>[t(V,{modelValue:e.modelData.formCustomCreatePath,"onUpdate:modelValue":l[2]||(l[2]=a=>e.modelData.formCustomCreatePath=a),placeholder:"\u8BF7\u8F93\u5165\u8868\u5355\u63D0\u4EA4\u8DEF\u7531",style:{width:"330px"}},null,8,["modelValue"]),t(_,{class:"item",content:"\u81EA\u5B9A\u4E49\u8868\u5355\u7684\u63D0\u4EA4\u8DEF\u5F84\uFF0C\u4F7F\u7528 Vue \u7684\u8DEF\u7531\u5730\u5740\uFF0C\u4F8B\u5982\u8BF4\uFF1Abpm/oa/leave/create.vue",effect:"light",placement:"top"},{default:r(()=>[t(g,{icon:"ep:question",class:"ml-5px"})]),_:1})]),_:1})):c("",!0),e.modelData.formType===20?(m(),s(o,{key:2,label:"\u8868\u5355\u67E5\u770B\u5730\u5740",prop:"formCustomViewPath"},{default:r(()=>[t(V,{modelValue:e.modelData.formCustomViewPath,"onUpdate:modelValue":l[3]||(l[3]=a=>e.modelData.formCustomViewPath=a),placeholder:"\u8BF7\u8F93\u5165\u8868\u5355\u67E5\u770B\u7684\u7EC4\u4EF6\u5730\u5740",style:{width:"330px"}},null,8,["modelValue"]),t(_,{class:"item",content:"\u81EA\u5B9A\u4E49\u8868\u5355\u7684\u67E5\u770B\u7EC4\u4EF6\u5730\u5740\uFF0C\u4F7F\u7528 Vue \u7684\u7EC4\u4EF6\u5730\u5740\uFF0C\u4F8B\u5982\u8BF4\uFF1Abpm/oa/leave/detail.vue",effect:"light",placement:"top"},{default:r(()=>[t(g,{icon:"ep:question",class:"ml-5px"})]),_:1})]),_:1})):c("",!0),e.modelData.formType===10&&e.modelData.formId&&e.formPreview.rule.length>0?(m(),D("div",H,[l[5]||(l[5]=y("div",{class:"flex items-center mb-15px"},[y("div",{class:"h-15px w-4px bg-[#1890ff] mr-10px"}),y("span",{class:"text-15px font-bold"},"\u8868\u5355\u9884\u89C8")],-1)),t(x,{modelValue:e.formPreview.formData,"onUpdate:modelValue":l[4]||(l[4]=a=>e.formPreview.formData=a),rule:e.formPreview.rule,option:e.formPreview.option},null,8,["modelValue","rule","option"])])):c("",!0)]),_:1},8,["model"])}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/bpm/model/form/FormDesign.vue"]]);export{N as default};
