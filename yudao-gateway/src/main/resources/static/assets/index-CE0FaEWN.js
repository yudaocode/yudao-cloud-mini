import{d as T,u as y,S as w,r as f,C as h,a as k,D as x,_ as C,c as V,k as r,w as u,F as I,v as j,o as c,q as v,ah as g,A as F,B as R}from"./index-BaY5TDP-.js";import{P as S}from"./index-DK5ShDMH.js";import{D as H}from"./index-B4zhmfOC.js";import M from"./ProductDetailsHeader-G1Te8zM8.js";import U from"./ProductDetailsInfo-DcXUU1ga.js";import q from"./ProductTopic-DzbE2nYk.js";import A from"./ThinkModelFunction-LgisAnOk.js";import{u as B}from"./tagsView-lnAkwTv2.js";import"./ContentWrap-DKQn7kZm.js";import"./el-descriptions-item-CRF_CO88.js";import"./ProductForm-Bm2tQo_i.js";import"./Dialog-CZSXtzfQ.js";import"./DictTag-QtcI9ZjC.js";import"./color-BN7ZL7BD.js";import"./formatTime-Dr6TiYYc.js";import"./Table-DPr_P9Ik.js";import"./tsxHelper-B5zJ1wt3.js";import"./index-DrSdAlug.js";import"./index-avjYFQiD.js";import"./ThinkModelFunctionForm-DAi5GOiJ.js";const E=C(T({name:"IoTProductDetail",__name:"index",setup(_,{expose:a}){a();const{delView:l}=B(),{currentRoute:e}=y(),d=w(),s=x(),o=d.params.id,i=f(!0),t=f({}),p=f("info"),b=async m=>{i.value=!0;try{t.value=await S.getProduct(m),console.log("Product data:",t.value)}finally{i.value=!1}},D=async m=>{try{const n=await H.getDeviceCount(m);return console.log("Device count response:",n),n}catch(n){return console.error("Error fetching device count:",n),0}};h(async()=>{if(!o)return s.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u4EA7\u54C1\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void l(k(e));await b(o),t.value.id?(t.value.deviceCount=await D(t.value.id),console.log("Device count:",t.value.deviceCount)):console.error("Product ID is undefined")});const P={delView:l,currentRoute:e,route:d,message:s,id:o,loading:i,product:t,activeTab:p,getProductData:b,getDeviceCount:D,ProductDetailsHeader:M,ProductDetailsInfo:U,ProductTopic:q,ThinkModelFunction:A};return Object.defineProperty(P,"__isScriptSetup",{enumerable:!1,value:!0}),P}}),[["render",function(_,a,l,e,d,s){const o=F,i=R,t=j;return c(),V(I,null,[r(e.ProductDetailsHeader,{loading:e.loading,product:e.product,onRefresh:a[0]||(a[0]=()=>e.getProductData(e.id))},null,8,["loading","product"]),r(t,null,{default:u(()=>[r(i,{modelValue:e.activeTab,"onUpdate:modelValue":a[1]||(a[1]=p=>e.activeTab=p)},{default:u(()=>[r(o,{label:"\u4EA7\u54C1\u4FE1\u606F",name:"info"},{default:u(()=>[e.activeTab==="info"?(c(),v(e.ProductDetailsInfo,{key:0,product:e.product},null,8,["product"])):g("",!0)]),_:1}),r(o,{label:"Topic \u7C7B\u5217\u8868",name:"topic"},{default:u(()=>[e.activeTab==="topic"?(c(),v(e.ProductTopic,{key:0,product:e.product},null,8,["product"])):g("",!0)]),_:1}),r(o,{label:"\u529F\u80FD\u5B9A\u4E49",name:"function"},{default:u(()=>[e.activeTab==="function"?(c(),v(e.ThinkModelFunction,{key:0,product:e.product},null,8,["product"])):g("",!0)]),_:1}),r(o,{label:"\u6D88\u606F\u89E3\u6790",name:"message"}),r(o,{label:"\u670D\u52A1\u7AEF\u8BA2\u9605",name:"subscription"})]),_:1},8,["modelValue"])]),_:1})],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/iot/product/detail/index.vue"]]);export{E as default};
