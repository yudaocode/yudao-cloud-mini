import{d as D,r as c,f as y,au as V,_ as I,o as g,c as R,I as k,q,w as l,k as a,m as h,F as C,P as U,Z as $,L as F,N as L,Q as j,O as A,E as O,R as P}from"./index-BaY5TDP-.js";import{a as S}from"./index-FGie5tAi.js";const E=I(D({__name:"Demo03CourseForm",props:{studentId:{type:null,required:!0}},setup(v,{expose:d}){const m=v,e=c(!1),r=c([]),_=y({studentId:[{required:!0,message:"\u5B66\u751F\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],name:[{required:!0,message:"\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],score:[{required:!0,message:"\u5206\u6570\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),t=c();V(()=>m.studentId,async s=>{if(r.value=[],s)try{e.value=!0,r.value=await S(s)}finally{e.value=!1}},{immediate:!0});const u=()=>t.value.validate(),n=()=>r.value;d({validate:u,getData:n});const i={props:m,formLoading:e,formData:r,formRules:_,formRef:t,handleAdd:()=>{const s={id:void 0,studentId:void 0,name:void 0,score:void 0};s.studentId=m.studentId,r.value.push(s)},handleDelete:s=>{r.value.splice(s,1)},validate:u,getData:n};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),[["render",function(v,d,m,e,r,_){const t=U,u=$,n=F,i=L,s=j,b=A,w=O,x=P;return g(),R(C,null,[k((g(),q(b,{ref:"formRef",model:e.formData,rules:e.formRules,"label-width":"0px","inline-message":!0},{default:l(()=>[a(s,{data:e.formData,class:"-mt-10px"},{default:l(()=>[a(t,{label:"\u5E8F\u53F7",type:"index",width:"100"}),a(t,{label:"\u540D\u5B57","min-width":"150"},{default:l(({row:o,$index:f})=>[a(n,{prop:`${f}.name`,rules:e.formRules.name,class:"mb-0px!"},{default:l(()=>[a(u,{modelValue:o.name,"onUpdate:modelValue":p=>o.name=p,placeholder:"\u8BF7\u8F93\u5165\u540D\u5B57"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])]),_:1}),a(t,{label:"\u5206\u6570","min-width":"150"},{default:l(({row:o,$index:f})=>[a(n,{prop:`${f}.score`,rules:e.formRules.score,class:"mb-0px!"},{default:l(()=>[a(u,{modelValue:o.score,"onUpdate:modelValue":p=>o.score=p,placeholder:"\u8BF7\u8F93\u5165\u5206\u6570"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])]),_:1}),a(t,{align:"center",fixed:"right",label:"\u64CD\u4F5C",width:"60"},{default:l(({$index:o})=>[a(i,{onClick:f=>e.handleDelete(o),link:""},{default:l(()=>d[0]||(d[0]=[h("\u2014")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["model","rules"])),[[x,e.formLoading]]),a(w,{justify:"center",class:"mt-3"},{default:l(()=>[a(i,{onClick:e.handleAdd,round:""},{default:l(()=>d[1]||(d[1]=[h("+ \u6DFB\u52A0\u5B66\u751F\u8BFE\u7A0B")])),_:1})]),_:1})],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/infra/demo/demo03/normal/components/Demo03CourseForm.vue"]]);export{E as default};
