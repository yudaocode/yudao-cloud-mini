import{d as g,r as c,f as h,C as v,_ as w,o as x,c as _,k as s,w as m,I as b,q as P,F as A,l as S,P as C,Q as I,R as q}from"./index-BaY5TDP-.js";import{E as k}from"./el-skeleton-item-BYAIkmCs.js";import{_ as D}from"./Echart-BQxFkezy.js";import{S as f}from"./customer-DKZgktXn.js";import"./echarts-DpbyC_6K.js";const O=w(g({name:"CustomerPoolSummary",__name:"CustomerPoolSummary",props:{queryParams:{type:null,required:!0}},setup(p,{expose:y}){const n=p,a=c(!1),d=c([]),e=h({grid:{left:20,right:40,bottom:20,containLabel:!0},legend:{},series:[{name:"\u8FDB\u5165\u516C\u6D77\u5BA2\u6237\u6570",type:"bar",yAxisIndex:0,data:[]},{name:"\u516C\u6D77\u9886\u53D6\u5BA2\u6237\u6570",type:"bar",yAxisIndex:1,data:[]}],toolbox:{feature:{dataZoom:{xAxisIndex:!1},brush:{type:["lineX","clear"]},saveAsImage:{show:!0,name:"\u516C\u6D77\u5BA2\u6237\u5206\u6790"}}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},yAxis:[{type:"value",name:"\u8FDB\u5165\u516C\u6D77\u5BA2\u6237\u6570",min:0,minInterval:1},{type:"value",name:"\u516C\u6D77\u9886\u53D6\u5BA2\u6237\u6570",min:0,minInterval:1,splitLine:{lineStyle:{type:"dotted",opacity:.7}}}],xAxis:{type:"category",name:"\u65E5\u671F",data:[]}}),l=async()=>{const t=await f.getPoolSummaryByDate(n.queryParams),u=await f.getPoolSummaryByUser(n.queryParams);e.xAxis&&e.xAxis.data&&(e.xAxis.data=t.map(i=>i.time)),e.series&&e.series[0]&&e.series[0].data&&(e.series[0].data=t.map(i=>i.customerPutCount)),e.series&&e.series[1]&&e.series[1].data&&(e.series[1].data=t.map(i=>i.customerTakeCount)),d.value=u},r=async()=>{a.value=!0;try{await l()}finally{a.value=!1}};y({loadData:r}),v(()=>{r()});const o={props:n,loading:a,list:d,echartsOption:e,fetchAndFill:l,loadData:r};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),[["render",function(p,y,n,a,d,e){const l=D,r=k,o=S,t=C,u=I,i=q;return x(),_(A,null,[s(o,{shadow:"never"},{default:m(()=>[s(r,{loading:a.loading,animated:""},{default:m(()=>[s(l,{height:500,options:a.echartsOption},null,8,["options"])]),_:1},8,["loading"])]),_:1}),s(o,{shadow:"never",class:"mt-16px"},{default:m(()=>[b((x(),P(u,{data:a.list},{default:m(()=>[s(t,{label:"\u5E8F\u53F7",align:"center",type:"index",width:"80",fixed:"left"}),s(t,{label:"\u5458\u5DE5\u59D3\u540D",prop:"ownerUserName","min-width":"100",fixed:"left"}),s(t,{label:"\u8FDB\u5165\u516C\u6D77\u5BA2\u6237\u6570",align:"right",prop:"customerPutCount","min-width":"200"}),s(t,{label:"\u516C\u6D77\u9886\u53D6\u5BA2\u6237\u6570",align:"right",prop:"customerTakeCount","min-width":"200"})]),_:1},8,["data"])),[[i,a.loading]])]),_:1})],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/crm/statistics/customer/components/CustomerPoolSummary.vue"]]);export{O as default};
