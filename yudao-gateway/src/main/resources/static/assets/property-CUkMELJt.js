import{_ as U}from"./ComponentContainerProperty-DsmenGcb.js";import{d as P,eQ as I,r as h,au as E,aw as F,_ as L,o as r,c as s,k as e,w as a,F as C,n as j,m as D,t as i,ah as z,b8 as O,z as A,N as R,L as q,l as J,aJ as K,aK as N,al as Q,co as B,ci as G,O as H}from"./index-BaY5TDP-.js";import{_ as M}from"./index-m-aKZF12.js";import{e as W}from"./couponTemplate-C5oFUT2R.js";import{h as X,i as Y}from"./constants-CEEr2azc.js";import Z from"./CouponSelect-InTFkI3y.js";import"./color-BN7ZL7BD.js";import"./Dialog-CZSXtzfQ.js";import"./index-avjYFQiD.js";import"./index-DrSdAlug.js";import"./DictTag-QtcI9ZjC.js";import"./ContentWrap-DKQn7kZm.js";import"./formatter-DYGBdQzW.js";import"./formatTime-Dr6TiYYc.js";const $={key:0},ee={key:1},oe={key:2},te=L(P({name:"CouponCardProperty",__name:"property",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(y,{expose:l,emit:V}){l();const o=y,c=V,p=I(o,"modelValue",c),m=h([]),n=h();E(()=>p.value.couponIds,async()=>{var u;((u=p.value.couponIds)==null?void 0:u.length)>0&&(m.value=await W(p.value.couponIds))},{immediate:!0,deep:!0});const d={props:o,emit:c,formData:p,couponList:m,couponSelectDialog:n,handleAddCoupon:()=>{n.value.open()},handleCouponSelect:()=>{p.value.couponIds=m.value.map(u=>u.id)},get floatToFixed2(){return F},get CouponTemplateTakeTypeEnum(){return X},get PromotionDiscountTypeEnum(){return Y},CouponSelect:Z};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),[["render",function(y,l,V,o,c,p){const m=O,n=A,d=R,u=q,g=J,f=K,_=N,x=Q,v=B,b=M,w=G,T=H,k=U;return r(),s(C,null,[e(k,{modelValue:o.formData.style,"onUpdate:modelValue":l[6]||(l[6]=t=>o.formData.style=t)},{default:a(()=>[e(T,{"label-width":"80px",model:o.formData},{default:a(()=>[e(g,{header:"\u4F18\u60E0\u5238\u5217\u8868",class:"property-group",shadow:"never"},{default:a(()=>[(r(!0),s(C,null,j(o.couponList,(t,S)=>(r(),s("div",{key:S,class:"flex items-center justify-between"},[e(m,{size:"large",truncated:""},{default:a(()=>[D(i(t.name),1)]),_:2},1024),e(m,{type:"info",truncated:""},{default:a(()=>[t.usePrice>0?(r(),s("span",$,"\u6EE1"+i(o.floatToFixed2(t.usePrice))+"\u5143\uFF0C",1)):z("",!0),t.discountType===o.PromotionDiscountTypeEnum.PRICE.type?(r(),s("span",ee," \u51CF"+i(o.floatToFixed2(t.discountPrice))+"\u5143 ",1)):(r(),s("span",oe," \u6253"+i(t.discountPercent)+"\u6298 ",1))]),_:2},1024)]))),128)),e(u,{"label-width":"0"},{default:a(()=>[e(d,{onClick:o.handleAddCoupon,type:"primary",plain:"",class:"m-t-8px w-full"},{default:a(()=>[e(n,{icon:"ep:plus",class:"mr-5px"}),l[8]||(l[8]=D(" \u6DFB\u52A0 "))]),_:1})]),_:1})]),_:1}),e(g,{header:"\u4F18\u60E0\u5238\u6837\u5F0F",class:"property-group",shadow:"never"},{default:a(()=>[e(u,{label:"\u5217\u6570",prop:"type"},{default:a(()=>[e(x,{modelValue:o.formData.columns,"onUpdate:modelValue":l[0]||(l[0]=t=>o.formData.columns=t)},{default:a(()=>[e(_,{class:"item",content:"\u4E00\u5217",placement:"bottom"},{default:a(()=>[e(f,{value:1},{default:a(()=>[e(n,{icon:"fluent:text-column-one-24-filled"})]),_:1})]),_:1}),e(_,{class:"item",content:"\u4E8C\u5217",placement:"bottom"},{default:a(()=>[e(f,{value:2},{default:a(()=>[e(n,{icon:"fluent:text-column-two-24-filled"})]),_:1})]),_:1}),e(_,{class:"item",content:"\u4E09\u5217",placement:"bottom"},{default:a(()=>[e(f,{value:3},{default:a(()=>[e(n,{icon:"fluent:text-column-three-24-filled"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"\u80CC\u666F\u56FE\u7247",prop:"bgImg"},{default:a(()=>[e(v,{modelValue:o.formData.bgImg,"onUpdate:modelValue":l[1]||(l[1]=t=>o.formData.bgImg=t),height:"80px",width:"100%",class:"min-w-160px"},null,8,["modelValue"])]),_:1}),e(u,{label:"\u6587\u5B57\u989C\u8272",prop:"textColor"},{default:a(()=>[e(b,{modelValue:o.formData.textColor,"onUpdate:modelValue":l[2]||(l[2]=t=>o.formData.textColor=t)},null,8,["modelValue"])]),_:1}),e(u,{label:"\u6309\u94AE\u80CC\u666F",prop:"button.bgColor"},{default:a(()=>[e(b,{modelValue:o.formData.button.bgColor,"onUpdate:modelValue":l[3]||(l[3]=t=>o.formData.button.bgColor=t)},null,8,["modelValue"])]),_:1}),e(u,{label:"\u6309\u94AE\u6587\u5B57",prop:"button.color"},{default:a(()=>[e(b,{modelValue:o.formData.button.color,"onUpdate:modelValue":l[4]||(l[4]=t=>o.formData.button.color=t)},null,8,["modelValue"])]),_:1}),e(u,{label:"\u95F4\u9694",prop:"space"},{default:a(()=>[e(w,{modelValue:o.formData.space,"onUpdate:modelValue":l[5]||(l[5]=t=>o.formData.space=t),max:100,min:0,"show-input":"","input-size":"small","show-input-controls":!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(o.CouponSelect,{ref:"couponSelectDialog","multiple-selection":o.couponList,"onUpdate:multipleSelection":l[7]||(l[7]=t=>o.couponList=t),"take-type":o.CouponTemplateTakeTypeEnum.USER.type,onChange:o.handleCouponSelect},null,8,["multiple-selection","take-type"])],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/components/DiyEditor/components/mobile/CouponCard/property.vue"]]);export{te as default};
