import{d as j,D as R,r as x,ca as E,au as A,ad as M,C as D,dJ as L,eh as O,e9 as U,ed as F,_ as N,o as n,q as u,w as m,j as g,m as C,ah as S,k as p,c as w,t as y,F as P,n as q,N as G,l as $}from"./index-BaY5TDP-.js";import{E as z}from"./el-image-Bg-CwbDE.js";import{A as B}from"./constants-BXWrMvZH.js";const J={class:"image-operation"},H={class:"image-wrapper",ref:"cardImageRef"},K={key:0},Q={class:"image-mj-btns"},T=N(j({__name:"ImageCard",props:{detail:{type:Object,require:!0}},emits:["onBtnClick","onMjBtnClick"],setup(f,{expose:t,emit:_}){t();const e=R(),r=f,v=x(),a=x(),c=_,{detail:k}=E(r);A(k,async(l,d)=>{await s(l.status)});const s=async l=>{l===B.IN_PROGRESS?a.value=M.service({target:v.value,text:"\u751F\u6210\u4E2D..."}):a.value&&(a.value.close(),a.value=null)};D(async()=>{await s(r.detail.status)});const o={message:e,props:r,cardImageRef:v,cardImageLoadingInstance:a,handleButtonClick:async(l,d)=>{c("onBtnClick",l,d)},handleMidjourneyBtnClick:async l=>{await e.confirm(`\u786E\u8BA4\u64CD\u4F5C "${l.label} ${l.emoji}" ?`),c("onMjBtnClick",l,r.detail)},emits:c,detail:k,handleLoading:s,get Delete(){return L},get Download(){return O},get More(){return U},get RefreshRight(){return F},get AiImageStatusEnum(){return B}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),[["render",function(f,t,_,e,r,v){const a=G,c=z,k=$;return n(),u(k,{"body-class":"",class:"image-card"},{default:m(()=>{var s,o,l,d,b,I,h;return[g("div",J,[g("div",null,[((s=e.detail)==null?void 0:s.status)===e.AiImageStatusEnum.IN_PROGRESS?(n(),u(a,{key:0,type:"primary",text:"",bg:""},{default:m(()=>t[4]||(t[4]=[C(" \u751F\u6210\u4E2D ")])),_:1})):((o=e.detail)==null?void 0:o.status)===e.AiImageStatusEnum.SUCCESS?(n(),u(a,{key:1,text:"",bg:""},{default:m(()=>t[5]||(t[5]=[C(" \u5DF2\u5B8C\u6210 ")])),_:1})):((l=e.detail)==null?void 0:l.status)===e.AiImageStatusEnum.FAIL?(n(),u(a,{key:2,type:"danger",text:"",bg:""},{default:m(()=>t[6]||(t[6]=[C(" \u5F02\u5E38 ")])),_:1})):S("",!0)]),g("div",null,[p(a,{class:"btn",text:"",icon:e.Download,onClick:t[0]||(t[0]=i=>e.handleButtonClick("download",e.detail))},null,8,["icon"]),p(a,{class:"btn",text:"",icon:e.RefreshRight,onClick:t[1]||(t[1]=i=>e.handleButtonClick("regeneration",e.detail))},null,8,["icon"]),p(a,{class:"btn",text:"",icon:e.Delete,onClick:t[2]||(t[2]=i=>e.handleButtonClick("delete",e.detail))},null,8,["icon"]),p(a,{class:"btn",text:"",icon:e.More,onClick:t[3]||(t[3]=i=>e.handleButtonClick("more",e.detail))},null,8,["icon"])])]),g("div",H,[p(c,{class:"image",src:(d=e.detail)==null?void 0:d.picUrl,"preview-src-list":[e.detail.picUrl],"preview-teleported":""},null,8,["src","preview-src-list"]),((b=e.detail)==null?void 0:b.status)===e.AiImageStatusEnum.FAIL?(n(),w("div",K,y((I=e.detail)==null?void 0:I.errorMessage),1)):S("",!0)],512),g("div",Q,[(n(!0),w(P,null,q((h=e.detail)==null?void 0:h.buttons,i=>(n(),u(a,{size:"small",key:i,class:"min-w-40px ml-0 mr-10px mt-5px",onClick:V=>e.handleMidjourneyBtnClick(i)},{default:m(()=>[C(y(i.label)+y(i.emoji),1)]),_:2},1032,["onClick"]))),128))])]}),_:1})}],["__scopeId","data-v-81115765"],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/ai/image/index/components/ImageCard.vue"]]);export{T as default};
