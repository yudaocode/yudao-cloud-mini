import{d as E,u as w,r as c,f as S,C as x,G as O,U as L,d$ as Y,_ as R,o as r,c as n,k as u,w as t,F as m,n as v,q as o,ah as D,Y as N,I,ag as A,m as U,J as Q,K as M,L as z,M as F,Z as K,z as j,N as H,O as G,Q as J,R as X}from"./index-BaY5TDP-.js";import{_ as Z}from"./index-avjYFQiD.js";import{_ as $}from"./ContentWrap-DKQn7kZm.js";import{e as B}from"./index-B6VQ3j6W.js";import{a as W}from"./index-BuoBEkWu.js";import{g as ee}from"./index-MboYiMOx.js";import le from"./OrderTableColumn-B6ouW919.js";import{D as ae}from"./constants-CEEr2azc.js";import"./index-DrSdAlug.js";import"./el-image-Bg-CwbDE.js";import"./DictTag-QtcI9ZjC.js";import"./color-BN7ZL7BD.js";import"./formatTime-Dr6TiYYc.js";const ue=R(E({__name:"UserOrderList",props:{userId:{type:Number,required:!0}},setup(V,{expose:a}){a();const{push:h}=w(),e=c(!0),k=c(0),C=c([]),p=c([]),i=c([]),s=c(),y=c({pageNo:1,pageSize:10,userId:V.userId,status:void 0,payChannelCode:void 0,createTime:void 0,terminal:void 0,type:void 0,deliveryType:void 0,logisticsId:void 0,pickUpStoreId:void 0,pickUpVerifyCode:void 0}),T=S({queryParam:""}),b=c([{value:"no",label:"\u8BA2\u5355\u53F7"},{value:"userNickname",label:"\u7528\u6237\u6635\u79F0"},{value:"userMobile",label:"\u7528\u6237\u7535\u8BDD"}]),f=async()=>{y.value.pageNo=1,await P()},P=async()=>{e.value=!0;try{const d=await B(y.value);C.value=d.list,k.value=d.total}finally{e.value=!1}};x(async()=>{await P(),p.value=await W(),i.value=await ee()});const q={push:h,loading:e,total:k,list:C,pickUpStoreList:p,deliveryExpressList:i,queryFormRef:s,queryParams:y,queryType:T,dynamicSearchList:b,inputChangeSelect:d=>{var g;(g=b.value.filter(_=>_.value!==d))==null||g.forEach(_=>{y.value.hasOwnProperty(_.value)&&delete y.value[_.value]})},handleQuery:f,resetQuery:()=>{var d;(d=s.value)==null||d.resetFields(),y.value.userId=V.userId,f()},getList:P,openDetail:d=>{h({name:"TradeOrderDetail",params:{id:d}})},get DICT_TYPE(){return O},get getIntDictOptions(){return L},get getStrDictOptions(){return Y},get OrderTableColumn(){return le},get DeliveryTypeEnum(){return ae}};return Object.defineProperty(q,"__isScriptSetup",{enumerable:!1,value:!0}),q}}),[["render",function(V,a,h,e,k,C){const p=Q,i=M,s=z,y=F,T=K,b=j,f=H,P=G,q=$,d=J,g=Z,_=X;return r(),n(m,null,[u(q,null,{default:t(()=>[u(P,{ref:"queryFormRef",inline:!0,model:e.queryParams,class:"-mb-15px","label-width":"68px"},{default:t(()=>[u(s,{label:"\u8BA2\u5355\u72B6\u6001",prop:"status"},{default:t(()=>[u(i,{modelValue:e.queryParams.status,"onUpdate:modelValue":a[0]||(a[0]=l=>e.queryParams.status=l),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(r(!0),n(m,null,v(e.getIntDictOptions(e.DICT_TYPE.TRADE_ORDER_STATUS),l=>(r(),o(p,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(s,{label:"\u652F\u4ED8\u65B9\u5F0F",prop:"payChannelCode"},{default:t(()=>[u(i,{modelValue:e.queryParams.payChannelCode,"onUpdate:modelValue":a[1]||(a[1]=l=>e.queryParams.payChannelCode=l),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(r(!0),n(m,null,v(e.getStrDictOptions(e.DICT_TYPE.PAY_CHANNEL_CODE),l=>(r(),o(p,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(s,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{default:t(()=>[u(y,{modelValue:e.queryParams.createTime,"onUpdate:modelValue":a[2]||(a[2]=l=>e.queryParams.createTime=l),"default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],class:"!w-280px","end-placeholder":"\u81EA\u5B9A\u4E49\u65F6\u95F4","start-placeholder":"\u81EA\u5B9A\u4E49\u65F6\u95F4",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),u(s,{label:"\u8BA2\u5355\u6765\u6E90",prop:"terminal"},{default:t(()=>[u(i,{modelValue:e.queryParams.terminal,"onUpdate:modelValue":a[3]||(a[3]=l=>e.queryParams.terminal=l),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(r(!0),n(m,null,v(e.getIntDictOptions(e.DICT_TYPE.TERMINAL),l=>(r(),o(p,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(s,{label:"\u8BA2\u5355\u7C7B\u578B",prop:"type"},{default:t(()=>[u(i,{modelValue:e.queryParams.type,"onUpdate:modelValue":a[4]||(a[4]=l=>e.queryParams.type=l),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(r(!0),n(m,null,v(e.getIntDictOptions(e.DICT_TYPE.TRADE_ORDER_TYPE),l=>(r(),o(p,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(s,{label:"\u914D\u9001\u65B9\u5F0F",prop:"deliveryType"},{default:t(()=>[u(i,{modelValue:e.queryParams.deliveryType,"onUpdate:modelValue":a[5]||(a[5]=l=>e.queryParams.deliveryType=l),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(r(!0),n(m,null,v(e.getIntDictOptions(e.DICT_TYPE.TRADE_DELIVERY_TYPE),l=>(r(),o(p,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e.queryParams.deliveryType===e.DeliveryTypeEnum.EXPRESS.type?(r(),o(s,{key:0,label:"\u5FEB\u9012\u516C\u53F8",prop:"logisticsId"},{default:t(()=>[u(i,{modelValue:e.queryParams.logisticsId,"onUpdate:modelValue":a[6]||(a[6]=l=>e.queryParams.logisticsId=l),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(r(!0),n(m,null,v(e.deliveryExpressList,l=>(r(),o(p,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):D("",!0),e.queryParams.deliveryType===e.DeliveryTypeEnum.PICK_UP.type?(r(),o(s,{key:1,label:"\u81EA\u63D0\u95E8\u5E97",prop:"pickUpStoreId"},{default:t(()=>[u(i,{modelValue:e.queryParams.pickUpStoreId,"onUpdate:modelValue":a[7]||(a[7]=l=>e.queryParams.pickUpStoreId=l),class:"!w-280px",clearable:"",multiple:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(r(!0),n(m,null,v(e.pickUpStoreList,l=>(r(),o(p,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):D("",!0),e.queryParams.deliveryType===e.DeliveryTypeEnum.PICK_UP.type?(r(),o(s,{key:2,label:"\u6838\u9500\u7801",prop:"pickUpVerifyCode"},{default:t(()=>[u(T,{modelValue:e.queryParams.pickUpVerifyCode,"onUpdate:modelValue":a[8]||(a[8]=l=>e.queryParams.pickUpVerifyCode=l),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u81EA\u63D0\u6838\u9500\u7801",onKeyup:N(e.handleQuery,["enter"])},null,8,["modelValue"])]),_:1})):D("",!0),u(s,{label:"\u805A\u5408\u641C\u7D22"},{default:t(()=>[I(u(T,{modelValue:e.queryParams[e.queryType.queryParam],"onUpdate:modelValue":a[10]||(a[10]=l=>e.queryParams[e.queryType.queryParam]=l),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165"},{prepend:t(()=>[u(i,{modelValue:e.queryType.queryParam,"onUpdate:modelValue":a[9]||(a[9]=l=>e.queryType.queryParam=l),class:"!w-110px",clearable:"",placeholder:"\u5168\u90E8",onChange:e.inputChangeSelect},{default:t(()=>[(r(!0),n(m,null,v(e.dynamicSearchList,l=>(r(),o(p,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),[[A,!0]])]),_:1}),u(s,null,{default:t(()=>[u(f,{onClick:e.handleQuery},{default:t(()=>[u(b,{class:"mr-5px",icon:"ep:search"}),a[13]||(a[13]=U(" \u641C\u7D22 "))]),_:1}),u(f,{onClick:e.resetQuery},{default:t(()=>[u(b,{class:"mr-5px",icon:"ep:refresh"}),a[14]||(a[14]=U(" \u91CD\u7F6E "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),u(q,null,{default:t(()=>[I((r(),o(d,{data:e.list,"row-key":"id"},{default:t(()=>[u(e.OrderTableColumn,{list:e.list,"pick-up-store-list":e.pickUpStoreList},{default:t(({row:l})=>[u(f,{link:"",type:"primary",onClick:te=>e.openDetail(l.id)},{default:t(()=>[u(b,{icon:"ep:notification"}),a[15]||(a[15]=U(" \u8BE6\u60C5 "))]),_:2},1032,["onClick"])]),_:1},8,["list","pick-up-store-list"])]),_:1},8,["data"])),[[_,e.loading]]),u(g,{limit:e.queryParams.pageSize,"onUpdate:limit":a[11]||(a[11]=l=>e.queryParams.pageSize=l),page:e.queryParams.pageNo,"onUpdate:page":a[12]||(a[12]=l=>e.queryParams.pageNo=l),total:e.total,onPagination:e.getList},null,8,["limit","page","total"])]),_:1})],64)}],["__file","/Users/steven/00/500_code/520_github/yudao-ui-admin-vue3/src/views/member/user/detail/UserOrderList.vue"]]);export{ue as default};
